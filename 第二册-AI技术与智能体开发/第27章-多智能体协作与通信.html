<!DOCTYPE html>
<html>
<head>
<title>ç¬¬27ç« -å¤šæ™ºèƒ½ä½“åä½œä¸é€šä¿¡.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="%E7%AC%AC27%E7%AB%A0%E5%A4%9A%E6%99%BA%E8%83%BD%E4%BD%93%E5%8D%8F%E4%BD%9C%E4%B8%8E%E9%80%9A%E4%BF%A1">ç¬¬27ç« ï¼šå¤šæ™ºèƒ½ä½“åä½œä¸é€šä¿¡</h1>
<blockquote>
<p><em>&quot;å•ä¸ä¸æˆçº¿ï¼Œç‹¬æœ¨ä¸æˆæ—ã€‚åœ¨AIçš„ä¸–ç•Œé‡Œï¼Œæ™ºèƒ½ä½“çš„çœŸæ­£åŠ›é‡åœ¨äºåä½œã€‚&quot;</em></p>
</blockquote>
<h2 id="%F0%9F%8E%AF-%E6%9C%AC%E7%AB%A0%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87">ğŸ¯ æœ¬ç« å­¦ä¹ ç›®æ ‡</h2>
<h3 id="%F0%9F%93%9A-%E7%9F%A5%E8%AF%86%E7%9B%AE%E6%A0%87">ğŸ“š çŸ¥è¯†ç›®æ ‡</h3>
<ul>
<li><strong>ç†è§£å¤šæ™ºèƒ½ä½“ç³»ç»Ÿæ¶æ„</strong>ï¼šæŒæ¡åˆ†å¸ƒå¼AIç³»ç»Ÿçš„è®¾è®¡åŸç†</li>
<li><strong>æŒæ¡åä½œæœºåˆ¶</strong>ï¼šå­¦ä¹ ä»»åŠ¡åˆ†è§£ã€åè°ƒç®—æ³•ã€å†²çªè§£å†³</li>
<li><strong>ç†Ÿæ‚‰é€šä¿¡åè®®</strong>ï¼šç†è§£Agenté—´çš„æ¶ˆæ¯ä¼ é€’å’Œæ•°æ®äº¤æ¢</li>
<li><strong>äº†è§£æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå­¦ä¹ å¤šAgentç³»ç»Ÿçš„ç›‘æ§å’Œè°ƒä¼˜</li>
</ul>
<h3 id="%F0%9F%9B%A0%EF%B8%8F-%E6%8A%80%E8%83%BD%E7%9B%AE%E6%A0%87">ğŸ› ï¸ æŠ€èƒ½ç›®æ ‡</h3>
<ul>
<li><strong>è®¾è®¡å¤šAgentæ¶æ„</strong>ï¼šèƒ½å¤Ÿè®¾è®¡å¤æ‚çš„å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿ</li>
<li><strong>å®ç°é€šä¿¡æœºåˆ¶</strong>ï¼šå¼€å‘æ ‡å‡†åŒ–çš„Agenté€šä¿¡æ¥å£</li>
<li><strong>å¼€å‘åè°ƒç®—æ³•</strong>ï¼šå®ç°ä»»åŠ¡åˆ†é…å’Œå†²çªè§£å†³æœºåˆ¶</li>
<li><strong>æ„å»ºç›‘æ§ç³»ç»Ÿ</strong>ï¼šå»ºç«‹å¤šAgentç³»ç»Ÿçš„æ€§èƒ½ç›‘æ§</li>
</ul>
<h3 id="%F0%9F%8C%9F-%E7%B4%A0%E5%85%BB%E7%9B%AE%E6%A0%87">ğŸŒŸ ç´ å…»ç›®æ ‡</h3>
<ul>
<li><strong>åˆ†å¸ƒå¼æ€ç»´</strong>ï¼šåŸ¹å…»åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡çš„å…¨å±€è§‚</li>
<li><strong>åä½œç†å¿µ</strong>ï¼šç†è§£å›¢é˜Ÿåä½œåœ¨AIç³»ç»Ÿä¸­çš„é‡è¦æ€§</li>
<li><strong>ç³»ç»Ÿä¼˜åŒ–</strong>ï¼šå…·å¤‡å¤æ‚ç³»ç»Ÿæ€§èƒ½è°ƒä¼˜çš„èƒ½åŠ›</li>
</ul>
<hr>
<h2 id="%F0%9F%8F%A2-%E6%AC%A2%E8%BF%8E%E6%9D%A5%E5%88%B0%E6%99%BA%E8%83%BD%E4%BD%93%E5%8D%8F%E4%BD%9C%E4%B8%AD%E5%BF%83">ğŸ¢ æ¬¢è¿æ¥åˆ°æ™ºèƒ½ä½“åä½œä¸­å¿ƒ</h2>
<p>ç»è¿‡å‰é¢ç« èŠ‚çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»åœ¨æ™ºèƒ½ä½“æ€»éƒ¨æˆåŠŸè®¾è®¡äº†å•ä¸ªæ™ºèƒ½ä½“ç³»ç»Ÿã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°†è§†é‡æ‰©å±•åˆ°æ›´å¹¿é˜”çš„å¤©åœ°â€”â€”<strong>æ™ºèƒ½ä½“åä½œä¸­å¿ƒ</strong>ï¼</p>
<h3 id="%F0%9F%8C%86-%E5%8D%8F%E4%BD%9C%E4%B8%AD%E5%BF%83%E5%85%A8%E6%99%AF%E5%9B%BE">ğŸŒ† åä½œä¸­å¿ƒå…¨æ™¯å›¾</h3>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ­£ç«™åœ¨ä¸€åº§ç°ä»£åŒ–æ™ºèƒ½å¤§å¦çš„é¡¶å±‚ï¼Œä¿¯ç°æ•´ä¸ª<strong>æ™ºèƒ½ä½“åä½œä¸­å¿ƒ</strong>ï¼š</p>
<pre><code class="language-mermaid"><div class="mermaid">graph TB
    subgraph "æ™ºèƒ½ä½“åä½œä¸­å¿ƒ"
        subgraph "é€šä¿¡æ§åˆ¶å®¤"
            CM[é€šä¿¡ç®¡ç†å™¨]
            MQ[æ¶ˆæ¯é˜Ÿåˆ—]
            API[APIç½‘å…³]
        end
        
        subgraph "åè°ƒæŒ‡æŒ¥éƒ¨"
            TC[ä»»åŠ¡åè°ƒå™¨]
            SC[è°ƒåº¦ä¸­å¿ƒ]
            CR[å†²çªè§£å†³å™¨]
        end
        
        subgraph "æ™ºèƒ½ä½“å›¢é˜Ÿ"
            A1[è®°è€…Agent]
            A2[ç¼–è¾‘Agent]
            A3[å‘å¸ƒAgent]
            A4[ç›‘ç£Agent]
        end
        
        subgraph "ç›‘æ§ä¸­å¿ƒ"
            PM[æ€§èƒ½ç›‘æ§]
            LG[æ—¥å¿—ç³»ç»Ÿ]
            VZ[å¯è§†åŒ–é¢æ¿]
        end
    end
    
    CM --> A1
    CM --> A2
    CM --> A3
    CM --> A4
    
    TC --> SC
    SC --> A1
    SC --> A2
    
    A1 --> MQ
    A2 --> MQ
    A3 --> API
    
    PM --> LG
    LG --> VZ
</div></code></pre>
<h3 id="%F0%9F%8E%AD-%E4%BB%8E%E7%8B%AC%E8%A7%92%E6%88%8F%E5%88%B0%E4%BA%A4%E5%93%8D%E4%B9%90">ğŸ­ ä»ç‹¬è§’æˆåˆ°äº¤å“ä¹</h3>
<p>å¦‚æœè¯´å•ä¸ªæ™ºèƒ½ä½“æ˜¯ä¸€ä½ç‹¬å¥æ¼”å‘˜ï¼Œé‚£ä¹ˆå¤šæ™ºèƒ½ä½“ç³»ç»Ÿå°±æ˜¯ä¸€æ”¯å®Œæ•´çš„äº¤å“ä¹å›¢ï¼š</p>
<ul>
<li><strong>ğŸº å„å¸å…¶èŒ</strong>ï¼šæ¯ä¸ªAgentéƒ½æœ‰è‡ªå·±çš„ä¸“é•¿é¢†åŸŸ</li>
<li><strong>ğŸ¼ åè°ƒç»Ÿä¸€</strong>ï¼šé€šè¿‡æŒ‡æŒ¥å®¶(åè°ƒå™¨)ç»Ÿä¸€è¡ŒåŠ¨</li>
<li><strong>ğŸµ å’Œè°å…±å¥</strong>ï¼šä¸åŒAgentçš„è¾“å‡ºç»„åˆæˆç¾å¦™ä¹ç« </li>
<li><strong>ğŸ“» å®æ—¶æ²Ÿé€š</strong>ï¼šæ¼”å¥è€…ä¹‹é—´éœ€è¦é»˜å¥‘çš„äº¤æµ</li>
</ul>
<hr>
<h2 id="271-%E5%A4%9A%E6%99%BA%E8%83%BD%E4%BD%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0">27.1 å¤šæ™ºèƒ½ä½“ç³»ç»Ÿæ¦‚è¿°</h2>
<h3 id="%F0%9F%A7%AD-%E4%BB%80%E4%B9%88%E6%98%AF%E5%A4%9A%E6%99%BA%E8%83%BD%E4%BD%93%E7%B3%BB%E7%BB%9F">ğŸ§­ ä»€ä¹ˆæ˜¯å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ</h3>
<p>**å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ(Multi-Agent System, MAS)**æ˜¯ç”±å¤šä¸ªè‡ªä¸»æ™ºèƒ½ä½“ç»„æˆçš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œè¿™äº›æ™ºèƒ½ä½“é€šè¿‡åä½œå®Œæˆå•ä¸ªæ™ºèƒ½ä½“æ— æ³•èƒœä»»çš„å¤æ‚ä»»åŠ¡ã€‚</p>
<h3 id="%F0%9F%8F%97%EF%B8%8F-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F">ğŸ—ï¸ ç³»ç»Ÿæ¶æ„æ¨¡å¼</h3>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¼ä¸šç»„ç»‡æ¶æ„æ¥ç†è§£å¤šAgentç³»ç»Ÿçš„è®¾è®¡æ¨¡å¼ï¼š</p>
<pre class="hljs"><code><div><span class="hljs-comment"># å¤šæ™ºèƒ½ä½“ç³»ç»ŸåŸºç¡€æ¡†æ¶</span>
<span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> uuid
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> Dict, List, Any, Optional
<span class="hljs-keyword">from</span> abc <span class="hljs-keyword">import</span> ABC, abstractmethod
<span class="hljs-keyword">from</span> enum <span class="hljs-keyword">import</span> Enum

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AgentRole</span><span class="hljs-params">(Enum)</span>:</span>
    <span class="hljs-string">"""æ™ºèƒ½ä½“è§’è‰²æšä¸¾"""</span>
    COORDINATOR = <span class="hljs-string">"coordinator"</span>  <span class="hljs-comment"># åè°ƒè€…</span>
    WORKER = <span class="hljs-string">"worker"</span>           <span class="hljs-comment"># å·¥ä½œè€…  </span>
    MONITOR = <span class="hljs-string">"monitor"</span>         <span class="hljs-comment"># ç›‘æ§è€…</span>
    SPECIALIST = <span class="hljs-string">"specialist"</span>   <span class="hljs-comment"># ä¸“å®¶</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessageType</span><span class="hljs-params">(Enum)</span>:</span>
    <span class="hljs-string">"""æ¶ˆæ¯ç±»å‹æšä¸¾"""</span>
    TASK_ASSIGNMENT = <span class="hljs-string">"task_assignment"</span>
    STATUS_UPDATE = <span class="hljs-string">"status_update"</span>
    RESULT_REPORT = <span class="hljs-string">"result_report"</span>
    COORDINATION_REQUEST = <span class="hljs-string">"coordination_request"</span>
    ERROR_ALERT = <span class="hljs-string">"error_alert"</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Message</span>:</span>
    <span class="hljs-string">"""æ™ºèƒ½ä½“é—´çš„æ¶ˆæ¯æ ¼å¼"""</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, 
                 sender_id: str,
                 receiver_id: str,
                 message_type: MessageType,
                 content: Any,
                 priority: int = <span class="hljs-number">1</span>)</span>:</span>
        self.id = str(uuid.uuid4())
        self.sender_id = sender_id
        self.receiver_id = receiver_id
        self.message_type = message_type
        self.content = content
        self.priority = priority
        self.timestamp = datetime.now()
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">to_dict</span><span class="hljs-params">(self)</span> -&gt; Dict:</span>
        <span class="hljs-string">"""è½¬æ¢ä¸ºå­—å…¸æ ¼å¼"""</span>
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">"id"</span>: self.id,
            <span class="hljs-string">"sender_id"</span>: self.sender_id,
            <span class="hljs-string">"receiver_id"</span>: self.receiver_id,
            <span class="hljs-string">"message_type"</span>: self.message_type.value,
            <span class="hljs-string">"content"</span>: self.content,
            <span class="hljs-string">"priority"</span>: self.priority,
            <span class="hljs-string">"timestamp"</span>: self.timestamp.isoformat()
        }

print(<span class="hljs-string">"âœ… å¤šæ™ºèƒ½ä½“ç³»ç»ŸåŸºç¡€æ¡†æ¶å®šä¹‰å®Œæˆ"</span>)
</div></code></pre>
<h3 id="%F0%9F%8E%AF-%E5%A4%9Aagent%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BC%98%E5%8A%BF">ğŸ¯ å¤šAgentç³»ç»Ÿçš„ä¼˜åŠ¿</h3>
<p>é€šè¿‡ä¸€ä¸ªæ–°é—»ç¼–è¾‘å®¤çš„ä¾‹å­æ¥å±•ç¤ºå¤šAgentåä½œçš„å¨åŠ›ï¼š</p>
<pre><code class="language-mermaid"><div class="mermaid">graph LR
    subgraph "ä¼ ç»Ÿå•Agentå¤„ç†"
        S[è¾“å…¥æ–°é—»ä¸»é¢˜] --> SA[å•ä¸€Agent]
        SA --> R1[æ”¶é›†ä¿¡æ¯]
        SA --> R2[æ’°å†™æ–‡ç« ]
        SA --> R3[ç¼–è¾‘æ ¡å¯¹]
        SA --> R4[æ ¼å¼å‘å¸ƒ]
        R4 --> O[è¾“å‡ºæ–‡ç« ]
    end
    
    subgraph "å¤šAgentåä½œå¤„ç†"
        S2[è¾“å…¥æ–°é—»ä¸»é¢˜] --> RA[è®°è€…Agent]
        RA --> EA[ç¼–è¾‘Agent]
        EA --> PA[å‘å¸ƒAgent]
        PA --> MA[ç›‘ç£Agent]
        MA --> O2[è¾“å‡ºæ–‡ç« ]
        
        RA -.å¹¶è¡Œ.-> INFO[ä¿¡æ¯æ”¶é›†]
        EA -.å¹¶è¡Œ.-> EDIT[ç¼–è¾‘ä¼˜åŒ–]
        PA -.å¹¶è¡Œ.-> FORMAT[æ ¼å¼å‘å¸ƒ]
        MA -.å¹¶è¡Œ.-> MONITOR[è´¨é‡ç›‘æ§]
    end
</div></code></pre>
<hr>
<h2 id="272-%E6%99%BA%E8%83%BD%E4%BD%93%E9%97%B4%E9%80%9A%E4%BF%A1%E6%9C%BA%E5%88%B6">27.2 æ™ºèƒ½ä½“é—´é€šä¿¡æœºåˆ¶</h2>
<h3 id="%F0%9F%93%A1-%E9%80%9A%E4%BF%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1">ğŸ“¡ é€šä¿¡æ¶æ„è®¾è®¡</h3>
<p>æ™ºèƒ½ä½“ä¹‹é—´çš„é€šä¿¡å°±åƒä¼ä¸šå†…éƒ¨çš„æ²Ÿé€šä½“ç³»ï¼Œéœ€è¦æ ‡å‡†åŒ–çš„åè®®å’Œé«˜æ•ˆçš„ä¼ è¾“æœºåˆ¶ï¼š</p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CommunicationManager</span>:</span>
    <span class="hljs-string">"""æ™ºèƒ½ä½“é€šä¿¡ç®¡ç†å™¨"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.agents: Dict[str, <span class="hljs-string">'BaseAgent'</span>] = {}
        self.message_queue: List[Message] = []
        self.routing_table: Dict[str, str] = {}
        self.communication_log: List[Dict] = []
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">register_agent</span><span class="hljs-params">(self, agent: <span class="hljs-string">'BaseAgent'</span>)</span>:</span>
        <span class="hljs-string">"""æ³¨å†Œæ™ºèƒ½ä½“åˆ°é€šä¿¡ç½‘ç»œ"""</span>
        self.agents[agent.agent_id] = agent
        print(<span class="hljs-string">f"ğŸ“¡ Agent <span class="hljs-subst">{agent.name}</span> å·²æ³¨å†Œåˆ°é€šä¿¡ç½‘ç»œ"</span>)
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">send_message</span><span class="hljs-params">(self, message: Message)</span> -&gt; bool:</span>
        <span class="hljs-string">"""å‘é€æ¶ˆæ¯"""</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># æ¶ˆæ¯è·¯ç”±</span>
            <span class="hljs-keyword">if</span> message.receiver_id <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.agents:
                print(<span class="hljs-string">f"âŒ ç›®æ ‡Agent <span class="hljs-subst">{message.receiver_id}</span> ä¸å­˜åœ¨"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
                
            <span class="hljs-comment"># æ·»åŠ åˆ°æ¶ˆæ¯é˜Ÿåˆ—</span>
            self.message_queue.append(message)
            
            <span class="hljs-comment"># è®°å½•é€šä¿¡æ—¥å¿—</span>
            log_entry = {
                <span class="hljs-string">"timestamp"</span>: datetime.now().isoformat(),
                <span class="hljs-string">"sender"</span>: message.sender_id,
                <span class="hljs-string">"receiver"</span>: message.receiver_id,
                <span class="hljs-string">"type"</span>: message.message_type.value,
                <span class="hljs-string">"status"</span>: <span class="hljs-string">"sent"</span>
            }
            self.communication_log.append(log_entry)
            
            print(<span class="hljs-string">f"ğŸ“¤ æ¶ˆæ¯å·²å‘é€: <span class="hljs-subst">{message.sender_id}</span> â†’ <span class="hljs-subst">{message.receiver_id}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            print(<span class="hljs-string">f"âŒ å‘é€æ¶ˆæ¯å¤±è´¥: <span class="hljs-subst">{str(e)}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deliver_messages</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-string">"""åˆ†å‘æ¶ˆæ¯ç»™ç›®æ ‡Agent"""</span>
        <span class="hljs-keyword">while</span> self.message_queue:
            message = self.message_queue.pop(<span class="hljs-number">0</span>)
            target_agent = self.agents.get(message.receiver_id)
            
            <span class="hljs-keyword">if</span> target_agent:
                target_agent.receive_message(message)
                print(<span class="hljs-string">f"ğŸ“¥ æ¶ˆæ¯å·²é€è¾¾: <span class="hljs-subst">{message.receiver_id}</span>"</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">broadcast_message</span><span class="hljs-params">(self, sender_id: str, content: Any, 
                         message_type: MessageType = MessageType.STATUS_UPDATE)</span>:</span>
        <span class="hljs-string">"""å¹¿æ’­æ¶ˆæ¯ç»™æ‰€æœ‰Agent"""</span>
        <span class="hljs-keyword">for</span> agent_id <span class="hljs-keyword">in</span> self.agents:
            <span class="hljs-keyword">if</span> agent_id != sender_id:  <span class="hljs-comment"># ä¸å‘é€ç»™è‡ªå·±</span>
                message = Message(sender_id, agent_id, message_type, content)
                self.send_message(message)
        
        print(<span class="hljs-string">f"ğŸ“¢ <span class="hljs-subst">{sender_id}</span> å·²å¹¿æ’­æ¶ˆæ¯ç»™æ‰€æœ‰Agent"</span>)

<span class="hljs-comment"># åˆ›å»ºå…¨å±€é€šä¿¡ç®¡ç†å™¨</span>
comm_manager = CommunicationManager()
print(<span class="hljs-string">"âœ… é€šä¿¡ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ"</span>)
</div></code></pre>
<h3 id="%F0%9F%94%84-%E5%BC%82%E6%AD%A5%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F">ğŸ”„ å¼‚æ­¥é€šä¿¡æ¨¡å¼</h3>
<p>ä¸ºäº†æé«˜ç³»ç»Ÿæ•ˆç‡ï¼Œæˆ‘ä»¬å®ç°å¼‚æ­¥é€šä¿¡æœºåˆ¶ï¼š</p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AsyncCommunicationManager</span><span class="hljs-params">(CommunicationManager)</span>:</span>
    <span class="hljs-string">"""å¼‚æ­¥é€šä¿¡ç®¡ç†å™¨"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()
        self.message_handlers: Dict[str, asyncio.Queue] = {}
        
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">async_send_message</span><span class="hljs-params">(self, message: Message)</span> -&gt; bool:</span>
        <span class="hljs-string">"""å¼‚æ­¥å‘é€æ¶ˆæ¯"""</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">if</span> message.receiver_id <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.agents:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
                
            <span class="hljs-comment"># è·å–æˆ–åˆ›å»ºæ¥æ”¶è€…çš„æ¶ˆæ¯é˜Ÿåˆ—</span>
            <span class="hljs-keyword">if</span> message.receiver_id <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.message_handlers:
                self.message_handlers[message.receiver_id] = asyncio.Queue()
            
            <span class="hljs-comment"># å°†æ¶ˆæ¯æ”¾å…¥é˜Ÿåˆ—</span>
            <span class="hljs-keyword">await</span> self.message_handlers[message.receiver_id].put(message)
            
            <span class="hljs-comment"># è®°å½•æ—¥å¿—</span>
            log_entry = {
                <span class="hljs-string">"timestamp"</span>: datetime.now().isoformat(),
                <span class="hljs-string">"sender"</span>: message.sender_id,
                <span class="hljs-string">"receiver"</span>: message.receiver_id,
                <span class="hljs-string">"type"</span>: message.message_type.value,
                <span class="hljs-string">"status"</span>: <span class="hljs-string">"queued"</span>
            }
            self.communication_log.append(log_entry)
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            print(<span class="hljs-string">f"âŒ å¼‚æ­¥å‘é€å¤±è´¥: <span class="hljs-subst">{str(e)}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start_message_processing</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-string">"""å¯åŠ¨æ¶ˆæ¯å¤„ç†å¾ªç¯"""</span>
        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
            <span class="hljs-comment"># å¤„ç†æ‰€æœ‰Agentçš„æ¶ˆæ¯é˜Ÿåˆ—</span>
            <span class="hljs-keyword">for</span> agent_id, queue <span class="hljs-keyword">in</span> self.message_handlers.items():
                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> queue.empty():
                    message = <span class="hljs-keyword">await</span> queue.get()
                    target_agent = self.agents.get(agent_id)
                    <span class="hljs-keyword">if</span> target_agent:
                        <span class="hljs-keyword">await</span> target_agent.async_receive_message(message)
            
            <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">0.1</span>)  <span class="hljs-comment"># é¿å…CPUå ç”¨è¿‡é«˜</span>

<span class="hljs-comment"># åˆ›å»ºå¼‚æ­¥é€šä¿¡ç®¡ç†å™¨</span>
async_comm_manager = AsyncCommunicationManager()
print(<span class="hljs-string">"âœ… å¼‚æ­¥é€šä¿¡ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ"</span>)
</div></code></pre>
<hr>
<h2 id="273-%E4%BB%BB%E5%8A%A1%E5%88%86%E8%A7%A3%E4%B8%8E%E5%8D%8F%E8%B0%83">27.3 ä»»åŠ¡åˆ†è§£ä¸åè°ƒ</h2>
<h3 id="%F0%9F%A7%A9-%E6%99%BA%E8%83%BD%E4%BB%BB%E5%8A%A1%E5%88%86%E8%A7%A3">ğŸ§© æ™ºèƒ½ä»»åŠ¡åˆ†è§£</h3>
<p>åœ¨å¤šAgentç³»ç»Ÿä¸­ï¼Œå¤æ‚ä»»åŠ¡éœ€è¦è¢«æ™ºèƒ½åœ°åˆ†è§£ä¸ºå¤šä¸ªå­ä»»åŠ¡ï¼Œç„¶ååˆ†é…ç»™ä¸åŒçš„ä¸“ä¸šAgentï¼š</p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TaskDecomposer</span>:</span>
    <span class="hljs-string">"""ä»»åŠ¡åˆ†è§£å™¨"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.task_templates = {
            <span class="hljs-string">"news_writing"</span>: {
                <span class="hljs-string">"subtasks"</span>: [
                    {<span class="hljs-string">"name"</span>: <span class="hljs-string">"research"</span>, <span class="hljs-string">"agent_type"</span>: <span class="hljs-string">"researcher"</span>, <span class="hljs-string">"priority"</span>: <span class="hljs-number">1</span>},
                    {<span class="hljs-string">"name"</span>: <span class="hljs-string">"writing"</span>, <span class="hljs-string">"agent_type"</span>: <span class="hljs-string">"writer"</span>, <span class="hljs-string">"priority"</span>: <span class="hljs-number">2</span>},
                    {<span class="hljs-string">"name"</span>: <span class="hljs-string">"editing"</span>, <span class="hljs-string">"agent_type"</span>: <span class="hljs-string">"editor"</span>, <span class="hljs-string">"priority"</span>: <span class="hljs-number">3</span>},
                    {<span class="hljs-string">"name"</span>: <span class="hljs-string">"publishing"</span>, <span class="hljs-string">"agent_type"</span>: <span class="hljs-string">"publisher"</span>, <span class="hljs-string">"priority"</span>: <span class="hljs-number">4</span>}
                ],
                <span class="hljs-string">"dependencies"</span>: {
                    <span class="hljs-string">"writing"</span>: [<span class="hljs-string">"research"</span>],
                    <span class="hljs-string">"editing"</span>: [<span class="hljs-string">"writing"</span>],
                    <span class="hljs-string">"publishing"</span>: [<span class="hljs-string">"editing"</span>]
                }
            },
            <span class="hljs-string">"data_analysis"</span>: {
                <span class="hljs-string">"subtasks"</span>: [
                    {<span class="hljs-string">"name"</span>: <span class="hljs-string">"data_collection"</span>, <span class="hljs-string">"agent_type"</span>: <span class="hljs-string">"collector"</span>, <span class="hljs-string">"priority"</span>: <span class="hljs-number">1</span>},
                    {<span class="hljs-string">"name"</span>: <span class="hljs-string">"data_cleaning"</span>, <span class="hljs-string">"agent_type"</span>: <span class="hljs-string">"cleaner"</span>, <span class="hljs-string">"priority"</span>: <span class="hljs-number">2</span>},
                    {<span class="hljs-string">"name"</span>: <span class="hljs-string">"analysis"</span>, <span class="hljs-string">"agent_type"</span>: <span class="hljs-string">"analyst"</span>, <span class="hljs-string">"priority"</span>: <span class="hljs-number">3</span>},
                    {<span class="hljs-string">"name"</span>: <span class="hljs-string">"visualization"</span>, <span class="hljs-string">"agent_type"</span>: <span class="hljs-string">"visualizer"</span>, <span class="hljs-string">"priority"</span>: <span class="hljs-number">3</span>},
                    {<span class="hljs-string">"name"</span>: <span class="hljs-string">"reporting"</span>, <span class="hljs-string">"agent_type"</span>: <span class="hljs-string">"reporter"</span>, <span class="hljs-string">"priority"</span>: <span class="hljs-number">4</span>}
                ],
                <span class="hljs-string">"dependencies"</span>: {
                    <span class="hljs-string">"data_cleaning"</span>: [<span class="hljs-string">"data_collection"</span>],
                    <span class="hljs-string">"analysis"</span>: [<span class="hljs-string">"data_cleaning"</span>],
                    <span class="hljs-string">"visualization"</span>: [<span class="hljs-string">"data_cleaning"</span>],
                    <span class="hljs-string">"reporting"</span>: [<span class="hljs-string">"analysis"</span>, <span class="hljs-string">"visualization"</span>]
                }
            }
        }
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">decompose_task</span><span class="hljs-params">(self, task_type: str, task_details: Dict)</span> -&gt; List[Dict]:</span>
        <span class="hljs-string">"""åˆ†è§£ä»»åŠ¡ä¸ºå­ä»»åŠ¡"""</span>
        <span class="hljs-keyword">if</span> task_type <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.task_templates:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">f"æœªçŸ¥ä»»åŠ¡ç±»å‹: <span class="hljs-subst">{task_type}</span>"</span>)
        
        template = self.task_templates[task_type]
        subtasks = []
        
        <span class="hljs-keyword">for</span> subtask_info <span class="hljs-keyword">in</span> template[<span class="hljs-string">"subtasks"</span>]:
            subtask = {
                <span class="hljs-string">"id"</span>: str(uuid.uuid4()),
                <span class="hljs-string">"name"</span>: subtask_info[<span class="hljs-string">"name"</span>],
                <span class="hljs-string">"agent_type"</span>: subtask_info[<span class="hljs-string">"agent_type"</span>],
                <span class="hljs-string">"priority"</span>: subtask_info[<span class="hljs-string">"priority"</span>],
                <span class="hljs-string">"status"</span>: <span class="hljs-string">"pending"</span>,
                <span class="hljs-string">"details"</span>: task_details,
                <span class="hljs-string">"dependencies"</span>: template[<span class="hljs-string">"dependencies"</span>].get(subtask_info[<span class="hljs-string">"name"</span>], []),
                <span class="hljs-string">"created_at"</span>: datetime.now().isoformat()
            }
            subtasks.append(subtask)
        
        print(<span class="hljs-string">f"ğŸ§© ä»»åŠ¡å·²åˆ†è§£ä¸º <span class="hljs-subst">{len(subtasks)}</span> ä¸ªå­ä»»åŠ¡"</span>)
        <span class="hljs-keyword">return</span> subtasks
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">check_dependencies</span><span class="hljs-params">(self, subtasks: List[Dict], target_task: str)</span> -&gt; bool:</span>
        <span class="hljs-string">"""æ£€æŸ¥ä»»åŠ¡ä¾èµ–æ˜¯å¦æ»¡è¶³"""</span>
        target_info = next((task <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> subtasks <span class="hljs-keyword">if</span> task[<span class="hljs-string">"name"</span>] == target_task), <span class="hljs-literal">None</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> target_info:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        
        dependencies = target_info.get(<span class="hljs-string">"dependencies"</span>, [])
        
        <span class="hljs-keyword">for</span> dep <span class="hljs-keyword">in</span> dependencies:
            dep_task = next((task <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> subtasks <span class="hljs-keyword">if</span> task[<span class="hljs-string">"name"</span>] == dep), <span class="hljs-literal">None</span>)
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> dep_task <span class="hljs-keyword">or</span> dep_task[<span class="hljs-string">"status"</span>] != <span class="hljs-string">"completed"</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>

<span class="hljs-comment"># åˆ›å»ºä»»åŠ¡åˆ†è§£å™¨</span>
task_decomposer = TaskDecomposer()

<span class="hljs-comment"># ç¤ºä¾‹ï¼šåˆ†è§£æ–°é—»å†™ä½œä»»åŠ¡</span>
task_details = {
    <span class="hljs-string">"topic"</span>: <span class="hljs-string">"äººå·¥æ™ºèƒ½åœ¨æ•™è‚²ä¸­çš„åº”ç”¨"</span>,
    <span class="hljs-string">"target_audience"</span>: <span class="hljs-string">"æŠ€æœ¯ä¸“ä¸šäººå£«"</span>,
    <span class="hljs-string">"word_count"</span>: <span class="hljs-number">2000</span>,
    <span class="hljs-string">"deadline"</span>: <span class="hljs-string">"2025-02-05"</span>
}

subtasks = task_decomposer.decompose_task(<span class="hljs-string">"news_writing"</span>, task_details)
<span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> subtasks:
    print(<span class="hljs-string">f"ğŸ“‹ å­ä»»åŠ¡: <span class="hljs-subst">{task[<span class="hljs-string">'name'</span>]}</span> (ä¼˜å…ˆçº§: <span class="hljs-subst">{task[<span class="hljs-string">'priority'</span>]}</span>)"</span>)
</div></code></pre>
<h3 id="%F0%9F%93%8A-%E4%BB%BB%E5%8A%A1%E5%88%86%E9%85%8D%E7%AE%97%E6%B3%95">ğŸ“Š ä»»åŠ¡åˆ†é…ç®—æ³•</h3>
<p>å®ç°æ™ºèƒ½çš„ä»»åŠ¡åˆ†é…ç®—æ³•ï¼Œè€ƒè™‘Agentèƒ½åŠ›ã€å½“å‰è´Ÿè½½å’Œä»»åŠ¡ä¼˜å…ˆçº§ï¼š</p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TaskScheduler</span>:</span>
    <span class="hljs-string">"""ä»»åŠ¡è°ƒåº¦å™¨"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.agents_capability = {}  <span class="hljs-comment"># Agentèƒ½åŠ›æ˜ å°„</span>
        self.agents_workload = {}    <span class="hljs-comment"># Agentå½“å‰å·¥ä½œè´Ÿè½½</span>
        self.task_queue = []         <span class="hljs-comment"># å¾…åˆ†é…ä»»åŠ¡é˜Ÿåˆ—</span>
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">register_agent_capability</span><span class="hljs-params">(self, agent_id: str, capabilities: List[str], max_tasks: int = <span class="hljs-number">3</span>)</span>:</span>
        <span class="hljs-string">"""æ³¨å†ŒAgentèƒ½åŠ›"""</span>
        self.agents_capability[agent_id] = {
            <span class="hljs-string">"capabilities"</span>: capabilities,
            <span class="hljs-string">"max_tasks"</span>: max_tasks,
            <span class="hljs-string">"current_tasks"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">"performance_score"</span>: <span class="hljs-number">1.0</span>  <span class="hljs-comment"># æ€§èƒ½è¯„åˆ†ï¼Œç”¨äºä¼˜åŒ–åˆ†é…</span>
        }
        self.agents_workload[agent_id] = []
        print(<span class="hljs-string">f"ğŸ¯ å·²æ³¨å†ŒAgent <span class="hljs-subst">{agent_id}</span> çš„èƒ½åŠ›: <span class="hljs-subst">{capabilities}</span>"</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">calculate_assignment_score</span><span class="hljs-params">(self, agent_id: str, task: Dict)</span> -&gt; float:</span>
        <span class="hljs-string">"""è®¡ç®—ä»»åŠ¡åˆ†é…è¯„åˆ†"""</span>
        <span class="hljs-keyword">if</span> agent_id <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.agents_capability:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0.0</span>
        
        agent_info = self.agents_capability[agent_id]
        
        <span class="hljs-comment"># èƒ½åŠ›åŒ¹é…åº¦</span>
        <span class="hljs-keyword">if</span> task[<span class="hljs-string">"agent_type"</span>] <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> agent_info[<span class="hljs-string">"capabilities"</span>]:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0.0</span>
        
        capability_score = <span class="hljs-number">1.0</span>
        
        <span class="hljs-comment"># è´Ÿè½½è¯„åˆ† (è´Ÿè½½è¶Šä½ï¼Œè¯„åˆ†è¶Šé«˜)</span>
        workload_score = <span class="hljs-number">1.0</span> - (agent_info[<span class="hljs-string">"current_tasks"</span>] / agent_info[<span class="hljs-string">"max_tasks"</span>])
        
        <span class="hljs-comment"># æ€§èƒ½è¯„åˆ†</span>
        performance_score = agent_info[<span class="hljs-string">"performance_score"</span>]
        
        <span class="hljs-comment"># ç»¼åˆè¯„åˆ†</span>
        total_score = capability_score * <span class="hljs-number">0.4</span> + workload_score * <span class="hljs-number">0.4</span> + performance_score * <span class="hljs-number">0.2</span>
        
        <span class="hljs-keyword">return</span> total_score
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">assign_task</span><span class="hljs-params">(self, task: Dict)</span> -&gt; Optional[str]:</span>
        <span class="hljs-string">"""åˆ†é…ä»»åŠ¡ç»™æœ€é€‚åˆçš„Agent"""</span>
        best_agent = <span class="hljs-literal">None</span>
        best_score = <span class="hljs-number">0.0</span>
        
        <span class="hljs-comment"># éå†æ‰€æœ‰Agentï¼Œæ‰¾åˆ°æœ€é€‚åˆçš„</span>
        <span class="hljs-keyword">for</span> agent_id <span class="hljs-keyword">in</span> self.agents_capability:
            score = self.calculate_assignment_score(agent_id, task)
            
            <span class="hljs-keyword">if</span> score &gt; best_score:
                best_score = score
                best_agent = agent_id
        
        <span class="hljs-comment"># åˆ†é…ä»»åŠ¡</span>
        <span class="hljs-keyword">if</span> best_agent <span class="hljs-keyword">and</span> best_score &gt; <span class="hljs-number">0.0</span>:
            self.agents_capability[best_agent][<span class="hljs-string">"current_tasks"</span>] += <span class="hljs-number">1</span>
            self.agents_workload[best_agent].append(task)
            
            print(<span class="hljs-string">f"ğŸ“¤ ä»»åŠ¡ '<span class="hljs-subst">{task[<span class="hljs-string">'name'</span>]}</span>' å·²åˆ†é…ç»™ <span class="hljs-subst">{best_agent}</span> (è¯„åˆ†: <span class="hljs-subst">{best_score:<span class="hljs-number">.2</span>f}</span>)"</span>)
            <span class="hljs-keyword">return</span> best_agent
        <span class="hljs-keyword">else</span>:
            print(<span class="hljs-string">f"âŒ æ— æ³•ä¸ºä»»åŠ¡ '<span class="hljs-subst">{task[<span class="hljs-string">'name'</span>]}</span>' æ‰¾åˆ°åˆé€‚çš„Agent"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">complete_task</span><span class="hljs-params">(self, agent_id: str, task_id: str)</span>:</span>
        <span class="hljs-string">"""æ ‡è®°ä»»åŠ¡å®Œæˆ"""</span>
        <span class="hljs-keyword">if</span> agent_id <span class="hljs-keyword">in</span> self.agents_workload:
            <span class="hljs-comment"># ä»å·¥ä½œè´Ÿè½½ä¸­ç§»é™¤ä»»åŠ¡</span>
            self.agents_workload[agent_id] = [
                task <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> self.agents_workload[agent_id] 
                <span class="hljs-keyword">if</span> task[<span class="hljs-string">"id"</span>] != task_id
            ]
            
            <span class="hljs-comment"># æ›´æ–°ä»»åŠ¡è®¡æ•°</span>
            <span class="hljs-keyword">if</span> agent_id <span class="hljs-keyword">in</span> self.agents_capability:
                self.agents_capability[agent_id][<span class="hljs-string">"current_tasks"</span>] -= <span class="hljs-number">1</span>
            
            print(<span class="hljs-string">f"âœ… Agent <span class="hljs-subst">{agent_id}</span> å·²å®Œæˆä»»åŠ¡ <span class="hljs-subst">{task_id}</span>"</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_workload_summary</span><span class="hljs-params">(self)</span> -&gt; Dict:</span>
        <span class="hljs-string">"""è·å–å·¥ä½œè´Ÿè½½æ‘˜è¦"""</span>
        summary = {}
        <span class="hljs-keyword">for</span> agent_id, workload <span class="hljs-keyword">in</span> self.agents_workload.items():
            summary[agent_id] = {
                <span class="hljs-string">"current_tasks"</span>: len(workload),
                <span class="hljs-string">"task_names"</span>: [task[<span class="hljs-string">"name"</span>] <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> workload]
            }
        <span class="hljs-keyword">return</span> summary

<span class="hljs-comment"># åˆ›å»ºä»»åŠ¡è°ƒåº¦å™¨</span>
task_scheduler = TaskScheduler()

<span class="hljs-comment"># æ³¨å†ŒAgentèƒ½åŠ›</span>
task_scheduler.register_agent_capability(<span class="hljs-string">"researcher_001"</span>, [<span class="hljs-string">"researcher"</span>], <span class="hljs-number">2</span>)
task_scheduler.register_agent_capability(<span class="hljs-string">"writer_001"</span>, [<span class="hljs-string">"writer"</span>], <span class="hljs-number">3</span>)
task_scheduler.register_agent_capability(<span class="hljs-string">"editor_001"</span>, [<span class="hljs-string">"editor"</span>], <span class="hljs-number">2</span>)
task_scheduler.register_agent_capability(<span class="hljs-string">"publisher_001"</span>, [<span class="hljs-string">"publisher"</span>], <span class="hljs-number">4</span>)

print(<span class="hljs-string">"âœ… ä»»åŠ¡è°ƒåº¦å™¨åˆå§‹åŒ–å®Œæˆ"</span>)
</div></code></pre>
<hr>
<h2 id="274-%E5%86%B2%E7%AA%81%E6%A3%80%E6%B5%8B%E4%B8%8E%E8%A7%A3%E5%86%B3">27.4 å†²çªæ£€æµ‹ä¸è§£å†³</h2>
<p>åœ¨å¤šAgentåä½œä¸­ï¼Œå†²çªæ˜¯ä¸å¯é¿å…çš„ã€‚æˆ‘ä»¬éœ€è¦å»ºç«‹å®Œå–„çš„å†²çªæ£€æµ‹å’Œè§£å†³æœºåˆ¶ï¼š</p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConflictDetector</span>:</span>
    <span class="hljs-string">"""å†²çªæ£€æµ‹å™¨"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.conflict_rules = {
            <span class="hljs-string">"resource_conflict"</span>: self._check_resource_conflict,
            <span class="hljs-string">"priority_conflict"</span>: self._check_priority_conflict,
            <span class="hljs-string">"dependency_conflict"</span>: self._check_dependency_conflict,
            <span class="hljs-string">"deadline_conflict"</span>: self._check_deadline_conflict
        }
        self.active_conflicts = []
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_check_resource_conflict</span><span class="hljs-params">(self, tasks: List[Dict])</span> -&gt; List[Dict]:</span>
        <span class="hljs-string">"""æ£€æµ‹èµ„æºå†²çª"""</span>
        conflicts = []
        resource_usage = {}
        
        <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> tasks:
            resources = task.get(<span class="hljs-string">"required_resources"</span>, [])
            <span class="hljs-keyword">for</span> resource <span class="hljs-keyword">in</span> resources:
                <span class="hljs-keyword">if</span> resource <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> resource_usage:
                    resource_usage[resource] = []
                resource_usage[resource].append(task)
        
        <span class="hljs-comment"># æ£€æµ‹èµ„æºå†²çª</span>
        <span class="hljs-keyword">for</span> resource, using_tasks <span class="hljs-keyword">in</span> resource_usage.items():
            <span class="hljs-keyword">if</span> len(using_tasks) &gt; <span class="hljs-number">1</span>:
                conflicts.append({
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"resource_conflict"</span>,
                    <span class="hljs-string">"resource"</span>: resource,
                    <span class="hljs-string">"conflicting_tasks"</span>: [task[<span class="hljs-string">"id"</span>] <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> using_tasks],
                    <span class="hljs-string">"severity"</span>: <span class="hljs-string">"high"</span>
                })
        
        <span class="hljs-keyword">return</span> conflicts
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_check_priority_conflict</span><span class="hljs-params">(self, tasks: List[Dict])</span> -&gt; List[Dict]:</span>
        <span class="hljs-string">"""æ£€æµ‹ä¼˜å…ˆçº§å†²çª"""</span>
        conflicts = []
        high_priority_tasks = [task <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> tasks <span class="hljs-keyword">if</span> task.get(<span class="hljs-string">"priority"</span>, <span class="hljs-number">1</span>) &gt; <span class="hljs-number">3</span>]
        
        <span class="hljs-keyword">if</span> len(high_priority_tasks) &gt; <span class="hljs-number">2</span>:  <span class="hljs-comment"># åŒæ—¶æœ‰å¤šä¸ªé«˜ä¼˜å…ˆçº§ä»»åŠ¡</span>
            conflicts.append({
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"priority_conflict"</span>,
                <span class="hljs-string">"conflicting_tasks"</span>: [task[<span class="hljs-string">"id"</span>] <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> high_priority_tasks],
                <span class="hljs-string">"severity"</span>: <span class="hljs-string">"medium"</span>
            })
        
        <span class="hljs-keyword">return</span> conflicts
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_check_dependency_conflict</span><span class="hljs-params">(self, tasks: List[Dict])</span> -&gt; List[Dict]:</span>
        <span class="hljs-string">"""æ£€æµ‹ä¾èµ–å†²çª"""</span>
        conflicts = []
        
        <span class="hljs-comment"># æ„å»ºä¾èµ–å›¾</span>
        task_dict = {task[<span class="hljs-string">"id"</span>]: task <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> tasks}
        
        <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> tasks:
            dependencies = task.get(<span class="hljs-string">"dependencies"</span>, [])
            <span class="hljs-keyword">for</span> dep_name <span class="hljs-keyword">in</span> dependencies:
                dep_task = next((t <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> tasks <span class="hljs-keyword">if</span> t[<span class="hljs-string">"name"</span>] == dep_name), <span class="hljs-literal">None</span>)
                <span class="hljs-keyword">if</span> dep_task <span class="hljs-keyword">and</span> dep_task[<span class="hljs-string">"status"</span>] == <span class="hljs-string">"failed"</span>:
                    conflicts.append({
                        <span class="hljs-string">"type"</span>: <span class="hljs-string">"dependency_conflict"</span>,
                        <span class="hljs-string">"task"</span>: task[<span class="hljs-string">"id"</span>],
                        <span class="hljs-string">"failed_dependency"</span>: dep_task[<span class="hljs-string">"id"</span>],
                        <span class="hljs-string">"severity"</span>: <span class="hljs-string">"high"</span>
                    })
        
        <span class="hljs-keyword">return</span> conflicts
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_check_deadline_conflict</span><span class="hljs-params">(self, tasks: List[Dict])</span> -&gt; List[Dict]:</span>
        <span class="hljs-string">"""æ£€æµ‹æˆªæ­¢æ—¶é—´å†²çª"""</span>
        conflicts = []
        current_time = datetime.now()
        
        <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> tasks:
            deadline_str = task.get(<span class="hljs-string">"deadline"</span>)
            <span class="hljs-keyword">if</span> deadline_str:
                <span class="hljs-keyword">try</span>:
                    deadline = datetime.fromisoformat(deadline_str.replace(<span class="hljs-string">'Z'</span>, <span class="hljs-string">'+00:00'</span>))
                    <span class="hljs-keyword">if</span> deadline &lt; current_time <span class="hljs-keyword">and</span> task[<span class="hljs-string">"status"</span>] != <span class="hljs-string">"completed"</span>:
                        conflicts.append({
                            <span class="hljs-string">"type"</span>: <span class="hljs-string">"deadline_conflict"</span>,
                            <span class="hljs-string">"task"</span>: task[<span class="hljs-string">"id"</span>],
                            <span class="hljs-string">"deadline"</span>: deadline_str,
                            <span class="hljs-string">"severity"</span>: <span class="hljs-string">"critical"</span>
                        })
                <span class="hljs-keyword">except</span> ValueError:
                    <span class="hljs-keyword">pass</span>
        
        <span class="hljs-keyword">return</span> conflicts
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">detect_conflicts</span><span class="hljs-params">(self, tasks: List[Dict])</span> -&gt; List[Dict]:</span>
        <span class="hljs-string">"""ç»¼åˆæ£€æµ‹æ‰€æœ‰ç±»å‹çš„å†²çª"""</span>
        all_conflicts = []
        
        <span class="hljs-keyword">for</span> conflict_type, check_function <span class="hljs-keyword">in</span> self.conflict_rules.items():
            conflicts = check_function(tasks)
            all_conflicts.extend(conflicts)
        
        self.active_conflicts = all_conflicts
        
        <span class="hljs-keyword">if</span> all_conflicts:
            print(<span class="hljs-string">f"âš ï¸ æ£€æµ‹åˆ° <span class="hljs-subst">{len(all_conflicts)}</span> ä¸ªå†²çª"</span>)
            <span class="hljs-keyword">for</span> conflict <span class="hljs-keyword">in</span> all_conflicts:
                print(<span class="hljs-string">f"   - <span class="hljs-subst">{conflict[<span class="hljs-string">'type'</span>]}</span>: <span class="hljs-subst">{conflict[<span class="hljs-string">'severity'</span>]}</span>"</span>)
        
        <span class="hljs-keyword">return</span> all_conflicts

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConflictResolver</span>:</span>
    <span class="hljs-string">"""å†²çªè§£å†³å™¨"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, task_scheduler: TaskScheduler)</span>:</span>
        self.task_scheduler = task_scheduler
        self.resolution_strategies = {
            <span class="hljs-string">"resource_conflict"</span>: self._resolve_resource_conflict,
            <span class="hljs-string">"priority_conflict"</span>: self._resolve_priority_conflict,
            <span class="hljs-string">"dependency_conflict"</span>: self._resolve_dependency_conflict,
            <span class="hljs-string">"deadline_conflict"</span>: self._resolve_deadline_conflict
        }
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_resolve_resource_conflict</span><span class="hljs-params">(self, conflict: Dict, tasks: List[Dict])</span> -&gt; Dict:</span>
        <span class="hljs-string">"""è§£å†³èµ„æºå†²çª"""</span>
        conflicting_task_ids = conflict[<span class="hljs-string">"conflicting_tasks"</span>]
        conflicting_tasks = [task <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> tasks <span class="hljs-keyword">if</span> task[<span class="hljs-string">"id"</span>] <span class="hljs-keyword">in</span> conflicting_task_ids]
        
        <span class="hljs-comment"># æŒ‰ä¼˜å…ˆçº§æ’åºï¼Œé«˜ä¼˜å…ˆçº§ä»»åŠ¡ä¼˜å…ˆè·å¾—èµ„æº</span>
        conflicting_tasks.sort(key=<span class="hljs-keyword">lambda</span> x: x.get(<span class="hljs-string">"priority"</span>, <span class="hljs-number">1</span>), reverse=<span class="hljs-literal">True</span>)
        
        resolution = {
            <span class="hljs-string">"action"</span>: <span class="hljs-string">"resource_reallocation"</span>,
            <span class="hljs-string">"primary_task"</span>: conflicting_tasks[<span class="hljs-number">0</span>][<span class="hljs-string">"id"</span>],
            <span class="hljs-string">"delayed_tasks"</span>: [task[<span class="hljs-string">"id"</span>] <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> conflicting_tasks[<span class="hljs-number">1</span>:]],
            <span class="hljs-string">"message"</span>: <span class="hljs-string">f"ä»»åŠ¡ <span class="hljs-subst">{conflicting_tasks[<span class="hljs-number">0</span>][<span class="hljs-string">'name'</span>]}</span> è·å¾—èµ„æºä¼˜å…ˆæƒï¼Œå…¶ä»–ä»»åŠ¡å»¶åæ‰§è¡Œ"</span>
        }
        
        <span class="hljs-keyword">return</span> resolution
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_resolve_priority_conflict</span><span class="hljs-params">(self, conflict: Dict, tasks: List[Dict])</span> -&gt; Dict:</span>
        <span class="hljs-string">"""è§£å†³ä¼˜å…ˆçº§å†²çª"""</span>
        conflicting_task_ids = conflict[<span class="hljs-string">"conflicting_tasks"</span>]
        
        resolution = {
            <span class="hljs-string">"action"</span>: <span class="hljs-string">"priority_adjustment"</span>,
            <span class="hljs-string">"affected_tasks"</span>: conflicting_task_ids,
            <span class="hljs-string">"message"</span>: <span class="hljs-string">"è°ƒæ•´ä»»åŠ¡ä¼˜å…ˆçº§ï¼Œå®ç°è´Ÿè½½å‡è¡¡"</span>
        }
        
        <span class="hljs-keyword">return</span> resolution
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_resolve_dependency_conflict</span><span class="hljs-params">(self, conflict: Dict, tasks: List[Dict])</span> -&gt; Dict:</span>
        <span class="hljs-string">"""è§£å†³ä¾èµ–å†²çª"""</span>
        task_id = conflict[<span class="hljs-string">"task"</span>]
        failed_dep = conflict[<span class="hljs-string">"failed_dependency"</span>]
        
        resolution = {
            <span class="hljs-string">"action"</span>: <span class="hljs-string">"dependency_recovery"</span>,
            <span class="hljs-string">"task"</span>: task_id,
            <span class="hljs-string">"recovery_action"</span>: <span class="hljs-string">f"é‡æ–°æ‰§è¡Œå¤±è´¥çš„ä¾èµ–ä»»åŠ¡ <span class="hljs-subst">{failed_dep}</span>"</span>,
            <span class="hljs-string">"message"</span>: <span class="hljs-string">"å¯åŠ¨ä¾èµ–ä»»åŠ¡æ¢å¤æµç¨‹"</span>
        }
        
        <span class="hljs-keyword">return</span> resolution
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_resolve_deadline_conflict</span><span class="hljs-params">(self, conflict: Dict, tasks: List[Dict])</span> -&gt; Dict:</span>
        <span class="hljs-string">"""è§£å†³æˆªæ­¢æ—¶é—´å†²çª"""</span>
        task_id = conflict[<span class="hljs-string">"task"</span>]
        
        resolution = {
            <span class="hljs-string">"action"</span>: <span class="hljs-string">"deadline_extension"</span>,
            <span class="hljs-string">"task"</span>: task_id,
            <span class="hljs-string">"new_deadline"</span>: (datetime.now() + timedelta(hours=<span class="hljs-number">24</span>)).isoformat(),
            <span class="hljs-string">"message"</span>: <span class="hljs-string">"ç”³è¯·æˆªæ­¢æ—¶é—´å»¶æœŸï¼Œé‡æ–°åˆ†é…èµ„æº"</span>
        }
        
        <span class="hljs-keyword">return</span> resolution
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">resolve_conflicts</span><span class="hljs-params">(self, conflicts: List[Dict], tasks: List[Dict])</span> -&gt; List[Dict]:</span>
        <span class="hljs-string">"""è§£å†³æ‰€æœ‰æ£€æµ‹åˆ°çš„å†²çª"""</span>
        resolutions = []
        
        <span class="hljs-keyword">for</span> conflict <span class="hljs-keyword">in</span> conflicts:
            conflict_type = conflict[<span class="hljs-string">"type"</span>]
            <span class="hljs-keyword">if</span> conflict_type <span class="hljs-keyword">in</span> self.resolution_strategies:
                resolution = self.resolution_strategies[conflict_type](conflict, tasks)
                resolutions.append(resolution)
                print(<span class="hljs-string">f"ğŸ”§ <span class="hljs-subst">{conflict_type}</span> å·²è§£å†³: <span class="hljs-subst">{resolution[<span class="hljs-string">'message'</span>]}</span>"</span>)
        
        <span class="hljs-keyword">return</span> resolutions

<span class="hljs-comment"># åˆ›å»ºå†²çªæ£€æµ‹å’Œè§£å†³ç³»ç»Ÿ</span>
conflict_detector = ConflictDetector()
conflict_resolver = ConflictResolver(task_scheduler)

print(<span class="hljs-string">"âœ… å†²çªæ£€æµ‹ä¸è§£å†³ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ"</span>)
</div></code></pre>
<hr>
<h2 id="275-%E5%A4%9A%E6%99%BA%E8%83%BD%E4%BD%93%E5%8D%8F%E4%BD%9C%E5%AE%9E%E6%88%98">27.5 å¤šæ™ºèƒ½ä½“åä½œå®æˆ˜</h2>
<h3 id="%F0%9F%8F%A2-%E6%99%BA%E8%83%BD%E6%96%B0%E9%97%BB%E7%BC%96%E8%BE%91%E5%AE%A4%E7%B3%BB%E7%BB%9F">ğŸ¢ æ™ºèƒ½æ–°é—»ç¼–è¾‘å®¤ç³»ç»Ÿ</h3>
<p>ç°åœ¨è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªå®Œæ•´çš„å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿâ€”â€”<strong>æ™ºèƒ½æ–°é—»ç¼–è¾‘å®¤</strong>ï¼Œè¿™ä¸ªç³»ç»Ÿå°†å±•ç¤ºå¤šä¸ªAgentå¦‚ä½•ååŒå·¥ä½œï¼Œå®Œæˆå¤æ‚çš„æ–°é—»ç”Ÿäº§æµç¨‹ã€‚</p>
<h4 id="%F0%9F%8E%AD-agent%E8%A7%92%E8%89%B2%E5%AE%9A%E4%B9%89">ğŸ­ Agentè§’è‰²å®šä¹‰</h4>
<pre class="hljs"><code><div><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime, timedelta
<span class="hljs-keyword">import</span> threading
<span class="hljs-keyword">import</span> time

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaseAgent</span><span class="hljs-params">(ABC)</span>:</span>
    <span class="hljs-string">"""æ™ºèƒ½ä½“åŸºç±»"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, agent_id: str, name: str, role: AgentRole)</span>:</span>
        self.agent_id = agent_id
        self.name = name
        self.role = role
        self.status = <span class="hljs-string">"idle"</span>
        self.current_tasks = []
        self.message_inbox = []
        self.performance_metrics = {
            <span class="hljs-string">"tasks_completed"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">"success_rate"</span>: <span class="hljs-number">1.0</span>,
            <span class="hljs-string">"average_time"</span>: <span class="hljs-number">0.0</span>
        }
        
<span class="hljs-meta">    @abstractmethod</span>
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_task</span><span class="hljs-params">(self, task: Dict)</span> -&gt; Dict:</span>
        <span class="hljs-string">"""å¤„ç†ä»»åŠ¡çš„æŠ½è±¡æ–¹æ³•"""</span>
        <span class="hljs-keyword">pass</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">receive_message</span><span class="hljs-params">(self, message: Message)</span>:</span>
        <span class="hljs-string">"""æ¥æ”¶æ¶ˆæ¯"""</span>
        self.message_inbox.append(message)
        print(<span class="hljs-string">f"ğŸ“¬ <span class="hljs-subst">{self.name}</span> æ”¶åˆ°æ¥è‡ª <span class="hljs-subst">{message.sender_id}</span> çš„æ¶ˆæ¯"</span>)
    
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">async_receive_message</span><span class="hljs-params">(self, message: Message)</span>:</span>
        <span class="hljs-string">"""å¼‚æ­¥æ¥æ”¶æ¶ˆæ¯"""</span>
        self.message_inbox.append(message)
        <span class="hljs-keyword">await</span> self.handle_message(message)
    
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle_message</span><span class="hljs-params">(self, message: Message)</span>:</span>
        <span class="hljs-string">"""å¤„ç†æ”¶åˆ°çš„æ¶ˆæ¯"""</span>
        <span class="hljs-keyword">if</span> message.message_type == MessageType.TASK_ASSIGNMENT:
            <span class="hljs-keyword">await</span> self.process_task(message.content)
        <span class="hljs-keyword">elif</span> message.message_type == MessageType.STATUS_UPDATE:
            print(<span class="hljs-string">f"ğŸ“Š <span class="hljs-subst">{self.name}</span> æ”¶åˆ°çŠ¶æ€æ›´æ–°: <span class="hljs-subst">{message.content}</span>"</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResearcherAgent</span><span class="hljs-params">(BaseAgent)</span>:</span>
    <span class="hljs-string">"""è®°è€…Agent - è´Ÿè´£ä¿¡æ¯æ”¶é›†å’Œç ”ç©¶"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, agent_id: str)</span>:</span>
        super().__init__(agent_id, <span class="hljs-string">f"è®°è€…-<span class="hljs-subst">{agent_id}</span>"</span>, AgentRole.SPECIALIST)
        self.research_tools = [<span class="hljs-string">"web_search"</span>, <span class="hljs-string">"database_query"</span>, <span class="hljs-string">"interview"</span>]
        
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_task</span><span class="hljs-params">(self, task: Dict)</span> -&gt; Dict:</span>
        <span class="hljs-string">"""æ‰§è¡Œç ”ç©¶ä»»åŠ¡"""</span>
        print(<span class="hljs-string">f"ğŸ” <span class="hljs-subst">{self.name}</span> å¼€å§‹ç ”ç©¶ä»»åŠ¡: <span class="hljs-subst">{task[<span class="hljs-string">'topic'</span>]}</span>"</span>)
        self.status = <span class="hljs-string">"working"</span>
        
        <span class="hljs-comment"># æ¨¡æ‹Ÿç ”ç©¶è¿‡ç¨‹</span>
        research_steps = [
            <span class="hljs-string">"æœç´¢ç›¸å…³èµ„æ–™"</span>,
            <span class="hljs-string">"åˆ†ææ•°æ®æº"</span>,
            <span class="hljs-string">"æ•´ç†å…³é”®ä¿¡æ¯"</span>,
            <span class="hljs-string">"éªŒè¯ä¿¡æ¯å‡†ç¡®æ€§"</span>
        ]
        
        research_results = []
        <span class="hljs-keyword">for</span> step <span class="hljs-keyword">in</span> research_steps:
            print(<span class="hljs-string">f"   ğŸ“‹ <span class="hljs-subst">{step}</span>..."</span>)
            <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">1</span>)  <span class="hljs-comment"># æ¨¡æ‹Ÿå¤„ç†æ—¶é—´</span>
            research_results.append(<span class="hljs-string">f"<span class="hljs-subst">{step}</span>: å®Œæˆ"</span>)
        
        <span class="hljs-comment"># ç”Ÿæˆç ”ç©¶æŠ¥å‘Š</span>
        report = {
            <span class="hljs-string">"task_id"</span>: task[<span class="hljs-string">"id"</span>],
            <span class="hljs-string">"topic"</span>: task[<span class="hljs-string">"topic"</span>],
            <span class="hljs-string">"research_data"</span>: {
                <span class="hljs-string">"key_points"</span>: [
                    <span class="hljs-string">f"<span class="hljs-subst">{task[<span class="hljs-string">'topic'</span>]}</span>çš„æ ¸å¿ƒæ¦‚å¿µå’Œå®šä¹‰"</span>,
                    <span class="hljs-string">f"<span class="hljs-subst">{task[<span class="hljs-string">'topic'</span>]}</span>çš„å‘å±•å†ç¨‹å’Œç°çŠ¶"</span>,
                    <span class="hljs-string">f"<span class="hljs-subst">{task[<span class="hljs-string">'topic'</span>]}</span>çš„åº”ç”¨åœºæ™¯å’Œæ¡ˆä¾‹"</span>,
                    <span class="hljs-string">f"<span class="hljs-subst">{task[<span class="hljs-string">'topic'</span>]}</span>çš„æœªæ¥å‘å±•è¶‹åŠ¿"</span>
                ],
                <span class="hljs-string">"data_sources"</span>: [
                    <span class="hljs-string">"å­¦æœ¯è®ºæ–‡æ•°æ®åº“"</span>,
                    <span class="hljs-string">"è¡Œä¸šæŠ¥å‘Š"</span>,
                    <span class="hljs-string">"ä¸“å®¶è®¿è°ˆ"</span>,
                    <span class="hljs-string">"å®˜æ–¹ç»Ÿè®¡æ•°æ®"</span>
                ],
                <span class="hljs-string">"statistics"</span>: {
                    <span class="hljs-string">"market_size"</span>: <span class="hljs-string">"1000äº¿ç¾å…ƒ"</span>,
                    <span class="hljs-string">"growth_rate"</span>: <span class="hljs-string">"25%"</span>,
                    <span class="hljs-string">"adoption_rate"</span>: <span class="hljs-string">"60%"</span>
                }
            },
            <span class="hljs-string">"quality_score"</span>: <span class="hljs-number">0.92</span>,
            <span class="hljs-string">"completion_time"</span>: datetime.now().isoformat(),
            <span class="hljs-string">"next_step"</span>: <span class="hljs-string">"writing"</span>
        }
        
        self.status = <span class="hljs-string">"completed"</span>
        self.performance_metrics[<span class="hljs-string">"tasks_completed"</span>] += <span class="hljs-number">1</span>
        
        print(<span class="hljs-string">f"âœ… <span class="hljs-subst">{self.name}</span> å®Œæˆç ”ç©¶ä»»åŠ¡ï¼Œè´¨é‡è¯„åˆ†: <span class="hljs-subst">{report[<span class="hljs-string">'quality_score'</span>]}</span>"</span>)
        
        <span class="hljs-comment"># å‘é€ç»“æœç»™ç¼–è¾‘</span>
        message = Message(
            self.agent_id, 
            <span class="hljs-string">"writer_001"</span>, 
            MessageType.RESULT_REPORT, 
            report
        )
        <span class="hljs-keyword">await</span> async_comm_manager.async_send_message(message)
        
        <span class="hljs-keyword">return</span> report

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WriterAgent</span><span class="hljs-params">(BaseAgent)</span>:</span>
    <span class="hljs-string">"""å†™ä½œAgent - è´Ÿè´£æ–‡ç« æ’°å†™"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, agent_id: str)</span>:</span>
        super().__init__(agent_id, <span class="hljs-string">f"ä½œè€…-<span class="hljs-subst">{agent_id}</span>"</span>, AgentRole.SPECIALIST)
        self.writing_styles = [<span class="hljs-string">"æ–°é—»æŠ¥é“"</span>, <span class="hljs-string">"æ·±åº¦åˆ†æ"</span>, <span class="hljs-string">"ç§‘æ™®æ–‡ç« "</span>, <span class="hljs-string">"è¯„è®ºæ–‡ç« "</span>]
        
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_task</span><span class="hljs-params">(self, task: Dict)</span> -&gt; Dict:</span>
        <span class="hljs-string">"""æ‰§è¡Œå†™ä½œä»»åŠ¡"""</span>
        print(<span class="hljs-string">f"âœï¸ <span class="hljs-subst">{self.name}</span> å¼€å§‹å†™ä½œä»»åŠ¡: <span class="hljs-subst">{task[<span class="hljs-string">'topic'</span>]}</span>"</span>)
        self.status = <span class="hljs-string">"working"</span>
        
        <span class="hljs-comment"># ç­‰å¾…ç ”ç©¶æ•°æ®</span>
        research_data = <span class="hljs-literal">None</span>
        <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> research_data:
            <span class="hljs-keyword">for</span> message <span class="hljs-keyword">in</span> self.message_inbox:
                <span class="hljs-keyword">if</span> (message.message_type == MessageType.RESULT_REPORT <span class="hljs-keyword">and</span> 
                    message.content.get(<span class="hljs-string">"task_id"</span>) == task[<span class="hljs-string">"id"</span>]):
                    research_data = message.content[<span class="hljs-string">"research_data"</span>]
                    <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> research_data:
                <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">0.5</span>)
        
        <span class="hljs-comment"># æ¨¡æ‹Ÿå†™ä½œè¿‡ç¨‹</span>
        writing_steps = [
            <span class="hljs-string">"æ„æ€æ–‡ç« ç»“æ„"</span>,
            <span class="hljs-string">"æ’°å†™å¼•è¨€"</span>,
            <span class="hljs-string">"å±•å¼€ä¸»ä½“å†…å®¹"</span>,
            <span class="hljs-string">"æ’°å†™ç»“è®º"</span>,
            <span class="hljs-string">"æ ¡å¯¹æ–‡å­—"</span>
        ]
        
        <span class="hljs-keyword">for</span> step <span class="hljs-keyword">in</span> writing_steps:
            print(<span class="hljs-string">f"   ğŸ“ <span class="hljs-subst">{step}</span>..."</span>)
            <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">1.5</span>)
        
        <span class="hljs-comment"># ç”Ÿæˆæ–‡ç« </span>
        article = {
            <span class="hljs-string">"task_id"</span>: task[<span class="hljs-string">"id"</span>],
            <span class="hljs-string">"title"</span>: <span class="hljs-string">f"æ·±åº¦è§£æï¼š<span class="hljs-subst">{task[<span class="hljs-string">'topic'</span>]}</span>çš„å‘å±•ä¸åº”ç”¨"</span>,
            <span class="hljs-string">"content"</span>: {
                <span class="hljs-string">"introduction"</span>: <span class="hljs-string">f"éšç€æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œ<span class="hljs-subst">{task[<span class="hljs-string">'topic'</span>]}</span>æ­£åœ¨æˆä¸ºè¡Œä¸šå…³æ³¨çš„ç„¦ç‚¹..."</span>,
                <span class="hljs-string">"main_body"</span>: <span class="hljs-string">f"åŸºäºæœ€æ–°ç ”ç©¶æ•°æ®ï¼Œ<span class="hljs-subst">{task[<span class="hljs-string">'topic'</span>]}</span>åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å±•ç°å‡ºå·¨å¤§æ½œåŠ›ï¼š\n"</span> +
                           <span class="hljs-string">f"1. æŠ€æœ¯åˆ›æ–°ï¼š<span class="hljs-subst">{research_data[<span class="hljs-string">'key_points'</span>][<span class="hljs-number">0</span>]}</span>\n"</span> +
                           <span class="hljs-string">f"2. åº”ç”¨æ‹“å±•ï¼š<span class="hljs-subst">{research_data[<span class="hljs-string">'key_points'</span>][<span class="hljs-number">2</span>]}</span>\n"</span> +
                           <span class="hljs-string">f"3. å¸‚åœºå‰æ™¯ï¼šæ ¹æ®ç»Ÿè®¡ï¼Œå¸‚åœºè§„æ¨¡è¾¾åˆ°<span class="hljs-subst">{research_data[<span class="hljs-string">'statistics'</span>][<span class="hljs-string">'market_size'</span>]}</span>"</span>,
                <span class="hljs-string">"conclusion"</span>: <span class="hljs-string">f"ç»¼ä¸Šæ‰€è¿°ï¼Œ<span class="hljs-subst">{task[<span class="hljs-string">'topic'</span>]}</span>çš„æœªæ¥å‘å±•å‰æ™¯å¹¿é˜”ï¼Œå€¼å¾—æŒç»­å…³æ³¨ã€‚"</span>
            },
            <span class="hljs-string">"word_count"</span>: <span class="hljs-number">1500</span>,
            <span class="hljs-string">"writing_quality"</span>: <span class="hljs-number">0.88</span>,
            <span class="hljs-string">"completion_time"</span>: datetime.now().isoformat(),
            <span class="hljs-string">"next_step"</span>: <span class="hljs-string">"editing"</span>
        }
        
        self.status = <span class="hljs-string">"completed"</span>
        self.performance_metrics[<span class="hljs-string">"tasks_completed"</span>] += <span class="hljs-number">1</span>
        
        print(<span class="hljs-string">f"âœ… <span class="hljs-subst">{self.name}</span> å®Œæˆå†™ä½œä»»åŠ¡ï¼Œå­—æ•°: <span class="hljs-subst">{article[<span class="hljs-string">'word_count'</span>]}</span>"</span>)
        
        <span class="hljs-comment"># å‘é€ç»™ç¼–è¾‘</span>
        message = Message(
            self.agent_id,
            <span class="hljs-string">"editor_001"</span>,
            MessageType.RESULT_REPORT,
            article
        )
        <span class="hljs-keyword">await</span> async_comm_manager.async_send_message(message)
        
        <span class="hljs-keyword">return</span> article

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EditorAgent</span><span class="hljs-params">(BaseAgent)</span>:</span>
    <span class="hljs-string">"""ç¼–è¾‘Agent - è´Ÿè´£å†…å®¹ç¼–è¾‘å’Œè´¨é‡æ§åˆ¶"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, agent_id: str)</span>:</span>
        super().__init__(agent_id, <span class="hljs-string">f"ç¼–è¾‘-<span class="hljs-subst">{agent_id}</span>"</span>, AgentRole.SPECIALIST)
        self.editing_criteria = [<span class="hljs-string">"å‡†ç¡®æ€§"</span>, <span class="hljs-string">"å¯è¯»æ€§"</span>, <span class="hljs-string">"é€»è¾‘æ€§"</span>, <span class="hljs-string">"å®Œæ•´æ€§"</span>]
        
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_task</span><span class="hljs-params">(self, task: Dict)</span> -&gt; Dict:</span>
        <span class="hljs-string">"""æ‰§è¡Œç¼–è¾‘ä»»åŠ¡"""</span>
        print(<span class="hljs-string">f"ğŸ“ <span class="hljs-subst">{self.name}</span> å¼€å§‹ç¼–è¾‘ä»»åŠ¡"</span>)
        self.status = <span class="hljs-string">"working"</span>
        
        <span class="hljs-comment"># ç­‰å¾…æ–‡ç« æ•°æ®</span>
        article_data = <span class="hljs-literal">None</span>
        <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> article_data:
            <span class="hljs-keyword">for</span> message <span class="hljs-keyword">in</span> self.message_inbox:
                <span class="hljs-keyword">if</span> (message.message_type == MessageType.RESULT_REPORT <span class="hljs-keyword">and</span> 
                    message.content.get(<span class="hljs-string">"task_id"</span>) == task[<span class="hljs-string">"id"</span>] <span class="hljs-keyword">and</span>
                    <span class="hljs-string">"content"</span> <span class="hljs-keyword">in</span> message.content):
                    article_data = message.content
                    <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> article_data:
                <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">0.5</span>)
        
        <span class="hljs-comment"># æ¨¡æ‹Ÿç¼–è¾‘è¿‡ç¨‹</span>
        editing_steps = [
            <span class="hljs-string">"æ£€æŸ¥äº‹å®å‡†ç¡®æ€§"</span>,
            <span class="hljs-string">"ä¼˜åŒ–è¯­è¨€è¡¨è¾¾"</span>,
            <span class="hljs-string">"è°ƒæ•´æ–‡ç« ç»“æ„"</span>,
            <span class="hljs-string">"ç»Ÿä¸€æ ¼å¼è§„èŒƒ"</span>,
            <span class="hljs-string">"æœ€ç»ˆè´¨é‡å®¡æ ¸"</span>
        ]
        
        <span class="hljs-keyword">for</span> step <span class="hljs-keyword">in</span> editing_steps:
            print(<span class="hljs-string">f"   ğŸ“‹ <span class="hljs-subst">{step}</span>..."</span>)
            <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">1</span>)
        
        <span class="hljs-comment"># ç”Ÿæˆç¼–è¾‘åçš„æ–‡ç« </span>
        edited_article = {
            <span class="hljs-string">"task_id"</span>: task[<span class="hljs-string">"id"</span>],
            <span class="hljs-string">"title"</span>: article_data[<span class="hljs-string">"title"</span>],
            <span class="hljs-string">"content"</span>: article_data[<span class="hljs-string">"content"</span>],
            <span class="hljs-string">"word_count"</span>: article_data[<span class="hljs-string">"word_count"</span>],
            <span class="hljs-string">"editing_improvements"</span>: [
                <span class="hljs-string">"ä¿®æ­£äº†3å¤„äº‹å®é”™è¯¯"</span>,
                <span class="hljs-string">"ä¼˜åŒ–äº†15ä¸ªè¡¨è¾¾æ–¹å¼"</span>,
                <span class="hljs-string">"è°ƒæ•´äº†æ®µè½ç»“æ„"</span>,
                <span class="hljs-string">"ç»Ÿä¸€äº†å¼•ç”¨æ ¼å¼"</span>
            ],
            <span class="hljs-string">"final_quality"</span>: <span class="hljs-number">0.95</span>,
            <span class="hljs-string">"editor_notes"</span>: <span class="hljs-string">"æ–‡ç« è´¨é‡è‰¯å¥½ï¼Œå»ºè®®å‘å¸ƒ"</span>,
            <span class="hljs-string">"completion_time"</span>: datetime.now().isoformat(),
            <span class="hljs-string">"next_step"</span>: <span class="hljs-string">"publishing"</span>
        }
        
        self.status = <span class="hljs-string">"completed"</span>
        self.performance_metrics[<span class="hljs-string">"tasks_completed"</span>] += <span class="hljs-number">1</span>
        
        print(<span class="hljs-string">f"âœ… <span class="hljs-subst">{self.name}</span> å®Œæˆç¼–è¾‘ï¼Œæœ€ç»ˆè´¨é‡: <span class="hljs-subst">{edited_article[<span class="hljs-string">'final_quality'</span>]}</span>"</span>)
        
        <span class="hljs-comment"># å‘é€ç»™å‘å¸ƒè€…</span>
        message = Message(
            self.agent_id,
            <span class="hljs-string">"publisher_001"</span>,
            MessageType.RESULT_REPORT,
            edited_article
        )
        <span class="hljs-keyword">await</span> async_comm_manager.async_send_message(message)
        
        <span class="hljs-keyword">return</span> edited_article

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PublisherAgent</span><span class="hljs-params">(BaseAgent)</span>:</span>
    <span class="hljs-string">"""å‘å¸ƒAgent - è´Ÿè´£å†…å®¹å‘å¸ƒå’Œåˆ†å‘"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, agent_id: str)</span>:</span>
        super().__init__(agent_id, <span class="hljs-string">f"å‘å¸ƒè€…-<span class="hljs-subst">{agent_id}</span>"</span>, AgentRole.SPECIALIST)
        self.publishing_channels = [<span class="hljs-string">"å®˜ç½‘"</span>, <span class="hljs-string">"å¾®ä¿¡å…¬ä¼—å·"</span>, <span class="hljs-string">"å¾®åš"</span>, <span class="hljs-string">"ä»Šæ—¥å¤´æ¡"</span>]
        
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process_task</span><span class="hljs-params">(self, task: Dict)</span> -&gt; Dict:</span>
        <span class="hljs-string">"""æ‰§è¡Œå‘å¸ƒä»»åŠ¡"""</span>
        print(<span class="hljs-string">f"ğŸ“¢ <span class="hljs-subst">{self.name}</span> å¼€å§‹å‘å¸ƒä»»åŠ¡"</span>)
        self.status = <span class="hljs-string">"working"</span>
        
        <span class="hljs-comment"># ç­‰å¾…ç¼–è¾‘åçš„æ–‡ç« </span>
        final_article = <span class="hljs-literal">None</span>
        <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> final_article:
            <span class="hljs-keyword">for</span> message <span class="hljs-keyword">in</span> self.message_inbox:
                <span class="hljs-keyword">if</span> (message.message_type == MessageType.RESULT_REPORT <span class="hljs-keyword">and</span> 
                    message.content.get(<span class="hljs-string">"task_id"</span>) == task[<span class="hljs-string">"id"</span>] <span class="hljs-keyword">and</span>
                    <span class="hljs-string">"final_quality"</span> <span class="hljs-keyword">in</span> message.content):
                    final_article = message.content
                    <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> final_article:
                <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">0.5</span>)
        
        <span class="hljs-comment"># æ¨¡æ‹Ÿå‘å¸ƒè¿‡ç¨‹</span>
        publishing_steps = [
            <span class="hljs-string">"æ ¼å¼åŒ–å†…å®¹"</span>,
            <span class="hljs-string">"ç”Ÿæˆå¤šå¹³å°ç‰ˆæœ¬"</span>,
            <span class="hljs-string">"è®¾ç½®å‘å¸ƒæ—¶é—´"</span>,
            <span class="hljs-string">"æ‰§è¡Œå‘å¸ƒæ“ä½œ"</span>,
            <span class="hljs-string">"ç›‘æ§å‘å¸ƒçŠ¶æ€"</span>
        ]
        
        <span class="hljs-keyword">for</span> step <span class="hljs-keyword">in</span> publishing_steps:
            print(<span class="hljs-string">f"   ğŸ“¤ <span class="hljs-subst">{step}</span>..."</span>)
            <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">0.8</span>)
        
        <span class="hljs-comment"># ç”Ÿæˆå‘å¸ƒæŠ¥å‘Š</span>
        publish_report = {
            <span class="hljs-string">"task_id"</span>: task[<span class="hljs-string">"id"</span>],
            <span class="hljs-string">"article_title"</span>: final_article[<span class="hljs-string">"title"</span>],
            <span class="hljs-string">"published_channels"</span>: self.publishing_channels,
            <span class="hljs-string">"publish_time"</span>: datetime.now().isoformat(),
            <span class="hljs-string">"estimated_reach"</span>: <span class="hljs-number">50000</span>,
            <span class="hljs-string">"publish_status"</span>: <span class="hljs-string">"success"</span>,
            <span class="hljs-string">"metrics"</span>: {
                <span class="hljs-string">"views"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"likes"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"shares"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"comments"</span>: <span class="hljs-number">0</span>
            },
            <span class="hljs-string">"completion_time"</span>: datetime.now().isoformat()
        }
        
        self.status = <span class="hljs-string">"completed"</span>
        self.performance_metrics[<span class="hljs-string">"tasks_completed"</span>] += <span class="hljs-number">1</span>
        
        print(<span class="hljs-string">f"âœ… <span class="hljs-subst">{self.name}</span> å®Œæˆå‘å¸ƒï¼Œé¢„è®¡è¦†ç›–: <span class="hljs-subst">{publish_report[<span class="hljs-string">'estimated_reach'</span>]}</span> äºº"</span>)
        
        <span class="hljs-keyword">return</span> publish_report

<span class="hljs-comment"># åˆ›å»ºæ™ºèƒ½ä½“å®ä¾‹</span>
researcher = ResearcherAgent(<span class="hljs-string">"researcher_001"</span>)
writer = WriterAgent(<span class="hljs-string">"writer_001"</span>)
editor = EditorAgent(<span class="hljs-string">"editor_001"</span>)
publisher = PublisherAgent(<span class="hljs-string">"publisher_001"</span>)

<span class="hljs-comment"># æ³¨å†Œåˆ°é€šä¿¡ç®¡ç†å™¨</span>
async_comm_manager.register_agent(researcher)
async_comm_manager.register_agent(writer)
async_comm_manager.register_agent(editor)
async_comm_manager.register_agent(publisher)

print(<span class="hljs-string">"âœ… æ™ºèƒ½æ–°é—»ç¼–è¾‘å®¤ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ"</span>)
</div></code></pre>
<h4 id="%F0%9F%8E%AC-%E5%8D%8F%E4%BD%9C%E6%B5%81%E7%A8%8B%E7%BC%96%E6%8E%92">ğŸ¬ åä½œæµç¨‹ç¼–æ’</h4>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NewsProductionOrchestrator</span>:</span>
    <span class="hljs-string">"""æ–°é—»ç”Ÿäº§æµç¨‹ç¼–æ’å™¨"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.workflow_templates = {
            <span class="hljs-string">"standard_news"</span>: [
                {<span class="hljs-string">"agent"</span>: <span class="hljs-string">"researcher"</span>, <span class="hljs-string">"stage"</span>: <span class="hljs-string">"research"</span>, <span class="hljs-string">"duration"</span>: <span class="hljs-number">30</span>},
                {<span class="hljs-string">"agent"</span>: <span class="hljs-string">"writer"</span>, <span class="hljs-string">"stage"</span>: <span class="hljs-string">"writing"</span>, <span class="hljs-string">"duration"</span>: <span class="hljs-number">45</span>},
                {<span class="hljs-string">"agent"</span>: <span class="hljs-string">"editor"</span>, <span class="hljs-string">"stage"</span>: <span class="hljs-string">"editing"</span>, <span class="hljs-string">"duration"</span>: <span class="hljs-number">20</span>},
                {<span class="hljs-string">"agent"</span>: <span class="hljs-string">"publisher"</span>, <span class="hljs-string">"stage"</span>: <span class="hljs-string">"publishing"</span>, <span class="hljs-string">"duration"</span>: <span class="hljs-number">10</span>}
            ],
            <span class="hljs-string">"breaking_news"</span>: [
                {<span class="hljs-string">"agent"</span>: <span class="hljs-string">"researcher"</span>, <span class="hljs-string">"stage"</span>: <span class="hljs-string">"quick_research"</span>, <span class="hljs-string">"duration"</span>: <span class="hljs-number">10</span>},
                {<span class="hljs-string">"agent"</span>: <span class="hljs-string">"writer"</span>, <span class="hljs-string">"stage"</span>: <span class="hljs-string">"rapid_writing"</span>, <span class="hljs-string">"duration"</span>: <span class="hljs-number">15</span>},
                {<span class="hljs-string">"agent"</span>: <span class="hljs-string">"editor"</span>, <span class="hljs-string">"stage"</span>: <span class="hljs-string">"fast_editing"</span>, <span class="hljs-string">"duration"</span>: <span class="hljs-number">8</span>},
                {<span class="hljs-string">"agent"</span>: <span class="hljs-string">"publisher"</span>, <span class="hljs-string">"stage"</span>: <span class="hljs-string">"immediate_publishing"</span>, <span class="hljs-string">"duration"</span>: <span class="hljs-number">5</span>}
            ]
        }
        self.active_workflows = {}
    
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start_news_production</span><span class="hljs-params">(self, topic: str, workflow_type: str = <span class="hljs-string">"standard_news"</span>)</span>:</span>
        <span class="hljs-string">"""å¯åŠ¨æ–°é—»ç”Ÿäº§æµç¨‹"""</span>
        workflow_id = str(uuid.uuid4())
        
        <span class="hljs-comment"># åˆ›å»ºä¸»ä»»åŠ¡</span>
        main_task = {
            <span class="hljs-string">"id"</span>: workflow_id,
            <span class="hljs-string">"topic"</span>: topic,
            <span class="hljs-string">"workflow_type"</span>: workflow_type,
            <span class="hljs-string">"status"</span>: <span class="hljs-string">"started"</span>,
            <span class="hljs-string">"start_time"</span>: datetime.now().isoformat(),
            <span class="hljs-string">"stages"</span>: self.workflow_templates[workflow_type]
        }
        
        self.active_workflows[workflow_id] = main_task
        
        print(<span class="hljs-string">f"ğŸ¬ å¯åŠ¨æ–°é—»ç”Ÿäº§æµç¨‹: <span class="hljs-subst">{topic}</span>"</span>)
        print(<span class="hljs-string">f"   å·¥ä½œæµID: <span class="hljs-subst">{workflow_id}</span>"</span>)
        print(<span class="hljs-string">f"   ç±»å‹: <span class="hljs-subst">{workflow_type}</span>"</span>)
        
        <span class="hljs-comment"># å¼€å§‹ç¬¬ä¸€ä¸ªé˜¶æ®µ</span>
        <span class="hljs-keyword">await</span> self._execute_next_stage(workflow_id)
        
        <span class="hljs-keyword">return</span> workflow_id
    
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_execute_next_stage</span><span class="hljs-params">(self, workflow_id: str)</span>:</span>
        <span class="hljs-string">"""æ‰§è¡Œä¸‹ä¸€ä¸ªé˜¶æ®µ"""</span>
        workflow = self.active_workflows.get(workflow_id)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> workflow:
            <span class="hljs-keyword">return</span>
        
        <span class="hljs-comment"># æ‰¾åˆ°ä¸‹ä¸€ä¸ªå¾…æ‰§è¡Œçš„é˜¶æ®µ</span>
        current_stage_index = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> i, stage <span class="hljs-keyword">in</span> enumerate(workflow[<span class="hljs-string">"stages"</span>]):
            <span class="hljs-keyword">if</span> stage.get(<span class="hljs-string">"status"</span>) != <span class="hljs-string">"completed"</span>:
                current_stage_index = i
                <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-comment"># æ‰€æœ‰é˜¶æ®µéƒ½å®Œæˆäº†</span>
            <span class="hljs-keyword">await</span> self._complete_workflow(workflow_id)
            <span class="hljs-keyword">return</span>
        
        current_stage = workflow[<span class="hljs-string">"stages"</span>][current_stage_index]
        agent_type = current_stage[<span class="hljs-string">"agent"</span>]
        
        <span class="hljs-comment"># åˆ›å»ºé˜¶æ®µä»»åŠ¡</span>
        stage_task = {
            <span class="hljs-string">"id"</span>: workflow_id,
            <span class="hljs-string">"topic"</span>: workflow[<span class="hljs-string">"topic"</span>],
            <span class="hljs-string">"stage"</span>: current_stage[<span class="hljs-string">"stage"</span>],
            <span class="hljs-string">"expected_duration"</span>: current_stage[<span class="hljs-string">"duration"</span>],
            <span class="hljs-string">"start_time"</span>: datetime.now().isoformat()
        }
        
        <span class="hljs-comment"># åˆ†é…ç»™å¯¹åº”çš„Agent</span>
        agent_mapping = {
            <span class="hljs-string">"researcher"</span>: <span class="hljs-string">"researcher_001"</span>,
            <span class="hljs-string">"writer"</span>: <span class="hljs-string">"writer_001"</span>, 
            <span class="hljs-string">"editor"</span>: <span class="hljs-string">"editor_001"</span>,
            <span class="hljs-string">"publisher"</span>: <span class="hljs-string">"publisher_001"</span>
        }
        
        target_agent_id = agent_mapping.get(agent_type)
        <span class="hljs-keyword">if</span> target_agent_id:
            message = Message(
                <span class="hljs-string">"orchestrator"</span>,
                target_agent_id,
                MessageType.TASK_ASSIGNMENT,
                stage_task
            )
            <span class="hljs-keyword">await</span> async_comm_manager.async_send_message(message)
            
            <span class="hljs-comment"># æ›´æ–°é˜¶æ®µçŠ¶æ€</span>
            current_stage[<span class="hljs-string">"status"</span>] = <span class="hljs-string">"in_progress"</span>
            current_stage[<span class="hljs-string">"start_time"</span>] = datetime.now().isoformat()
            
            print(<span class="hljs-string">f"ğŸ“‹ é˜¶æ®µ '<span class="hljs-subst">{current_stage[<span class="hljs-string">'stage'</span>]}</span>' å·²åˆ†é…ç»™ <span class="hljs-subst">{target_agent_id}</span>"</span>)
            
            <span class="hljs-comment"># è®¾ç½®å®šæ—¶å™¨æ£€æŸ¥é˜¶æ®µå®Œæˆæƒ…å†µ</span>
            asyncio.create_task(self._monitor_stage_completion(workflow_id, current_stage_index))
    
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_monitor_stage_completion</span><span class="hljs-params">(self, workflow_id: str, stage_index: int)</span>:</span>
        <span class="hljs-string">"""ç›‘æ§é˜¶æ®µå®Œæˆæƒ…å†µ"""</span>
        workflow = self.active_workflows.get(workflow_id)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> workflow:
            <span class="hljs-keyword">return</span>
        
        stage = workflow[<span class="hljs-string">"stages"</span>][stage_index]
        max_wait_time = stage[<span class="hljs-string">"duration"</span>] * <span class="hljs-number">2</span>  <span class="hljs-comment"># æœ€å¤§ç­‰å¾…æ—¶é—´ä¸ºé¢„æœŸæ—¶é—´çš„2å€</span>
        
        start_time = time.time()
        <span class="hljs-keyword">while</span> time.time() - start_time &lt; max_wait_time:
            <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æœ‰å®Œæˆæ¶ˆæ¯</span>
            <span class="hljs-comment"># è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…åº”è¯¥ç›‘å¬Agentçš„å®Œæˆæ¶ˆæ¯</span>
            <span class="hljs-keyword">await</span> asyncio.sleep(stage[<span class="hljs-string">"duration"</span>])  <span class="hljs-comment"># æ¨¡æ‹Ÿç­‰å¾…å®Œæˆ</span>
            
            <span class="hljs-comment"># æ ‡è®°é˜¶æ®µå®Œæˆ</span>
            stage[<span class="hljs-string">"status"</span>] = <span class="hljs-string">"completed"</span>
            stage[<span class="hljs-string">"completion_time"</span>] = datetime.now().isoformat()
            
            print(<span class="hljs-string">f"âœ… é˜¶æ®µ '<span class="hljs-subst">{stage[<span class="hljs-string">'stage'</span>]}</span>' å·²å®Œæˆ"</span>)
            
            <span class="hljs-comment"># æ‰§è¡Œä¸‹ä¸€ä¸ªé˜¶æ®µ</span>
            <span class="hljs-keyword">await</span> self._execute_next_stage(workflow_id)
            <span class="hljs-keyword">break</span>
    
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_complete_workflow</span><span class="hljs-params">(self, workflow_id: str)</span>:</span>
        <span class="hljs-string">"""å®Œæˆæ•´ä¸ªå·¥ä½œæµ"""</span>
        workflow = self.active_workflows.get(workflow_id)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> workflow:
            <span class="hljs-keyword">return</span>
        
        workflow[<span class="hljs-string">"status"</span>] = <span class="hljs-string">"completed"</span>
        workflow[<span class="hljs-string">"completion_time"</span>] = datetime.now().isoformat()
        
        <span class="hljs-comment"># è®¡ç®—æ€»è€—æ—¶</span>
        start_time = datetime.fromisoformat(workflow[<span class="hljs-string">"start_time"</span>])
        end_time = datetime.fromisoformat(workflow[<span class="hljs-string">"completion_time"</span>])
        total_duration = (end_time - start_time).total_seconds()
        
        print(<span class="hljs-string">f"ğŸ‰ æ–°é—»ç”Ÿäº§æµç¨‹å®Œæˆ!"</span>)
        print(<span class="hljs-string">f"   ä¸»é¢˜: <span class="hljs-subst">{workflow[<span class="hljs-string">'topic'</span>]}</span>"</span>)
        print(<span class="hljs-string">f"   æ€»è€—æ—¶: <span class="hljs-subst">{total_duration:<span class="hljs-number">.1</span>f}</span> ç§’"</span>)
        print(<span class="hljs-string">f"   çŠ¶æ€: <span class="hljs-subst">{workflow[<span class="hljs-string">'status'</span>]}</span>"</span>)
        
        <span class="hljs-comment"># ç”Ÿæˆå·¥ä½œæµæŠ¥å‘Š</span>
        <span class="hljs-keyword">await</span> self._generate_workflow_report(workflow_id)
    
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_generate_workflow_report</span><span class="hljs-params">(self, workflow_id: str)</span>:</span>
        <span class="hljs-string">"""ç”Ÿæˆå·¥ä½œæµæŠ¥å‘Š"""</span>
        workflow = self.active_workflows.get(workflow_id)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> workflow:
            <span class="hljs-keyword">return</span>
        
        report = {
            <span class="hljs-string">"workflow_id"</span>: workflow_id,
            <span class="hljs-string">"topic"</span>: workflow[<span class="hljs-string">"topic"</span>],
            <span class="hljs-string">"type"</span>: workflow[<span class="hljs-string">"workflow_type"</span>],
            <span class="hljs-string">"total_stages"</span>: len(workflow[<span class="hljs-string">"stages"</span>]),
            <span class="hljs-string">"completed_stages"</span>: len([s <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> workflow[<span class="hljs-string">"stages"</span>] <span class="hljs-keyword">if</span> s.get(<span class="hljs-string">"status"</span>) == <span class="hljs-string">"completed"</span>]),
            <span class="hljs-string">"start_time"</span>: workflow[<span class="hljs-string">"start_time"</span>],
            <span class="hljs-string">"completion_time"</span>: workflow.get(<span class="hljs-string">"completion_time"</span>),
            <span class="hljs-string">"stage_details"</span>: workflow[<span class="hljs-string">"stages"</span>]
        }
        
        print(<span class="hljs-string">"ğŸ“Š å·¥ä½œæµæŠ¥å‘Š:"</span>)
        print(<span class="hljs-string">f"   ä¸»é¢˜: <span class="hljs-subst">{report[<span class="hljs-string">'topic'</span>]}</span>"</span>)
        print(<span class="hljs-string">f"   å®Œæˆé˜¶æ®µ: <span class="hljs-subst">{report[<span class="hljs-string">'completed_stages'</span>]}</span>/<span class="hljs-subst">{report[<span class="hljs-string">'total_stages'</span>]}</span>"</span>)
        print(<span class="hljs-string">f"   å¼€å§‹æ—¶é—´: <span class="hljs-subst">{report[<span class="hljs-string">'start_time'</span>]}</span>"</span>)
        print(<span class="hljs-string">f"   å®Œæˆæ—¶é—´: <span class="hljs-subst">{report[<span class="hljs-string">'completion_time'</span>]}</span>"</span>)

<span class="hljs-comment"># åˆ›å»ºæµç¨‹ç¼–æ’å™¨</span>
orchestrator = NewsProductionOrchestrator()
print(<span class="hljs-string">"âœ… æ–°é—»ç”Ÿäº§æµç¨‹ç¼–æ’å™¨åˆå§‹åŒ–å®Œæˆ"</span>)

---

<span class="hljs-comment">## 27.6 æ€§èƒ½ä¼˜åŒ–ä¸ç›‘æ§</span>

<span class="hljs-comment">### ğŸ“Š å¤šAgentç³»ç»Ÿç›‘æ§</span>

åœ¨å¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­ï¼Œå®æ—¶ç›‘æ§æ˜¯ç¡®ä¿ç³»ç»Ÿç¨³å®šè¿è¡Œçš„å…³é”®ï¼š

```python
<span class="hljs-keyword">import</span> psutil
<span class="hljs-keyword">import</span> threading
<span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> defaultdict, deque

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MultiAgentMonitor</span>:</span>
    <span class="hljs-string">"""å¤šæ™ºèƒ½ä½“ç³»ç»Ÿç›‘æ§å™¨"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self.metrics = {
            <span class="hljs-string">"system_metrics"</span>: {
                <span class="hljs-string">"cpu_usage"</span>: deque(maxlen=<span class="hljs-number">100</span>),
                <span class="hljs-string">"memory_usage"</span>: deque(maxlen=<span class="hljs-number">100</span>),
                <span class="hljs-string">"network_io"</span>: deque(maxlen=<span class="hljs-number">100</span>)
            },
            <span class="hljs-string">"agent_metrics"</span>: defaultdict(<span class="hljs-keyword">lambda</span>: {
                <span class="hljs-string">"task_count"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"success_rate"</span>: <span class="hljs-number">1.0</span>,
                <span class="hljs-string">"average_response_time"</span>: <span class="hljs-number">0.0</span>,
                <span class="hljs-string">"error_count"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"last_activity"</span>: <span class="hljs-literal">None</span>
            }),
            <span class="hljs-string">"communication_metrics"</span>: {
                <span class="hljs-string">"message_count"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"message_queue_size"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"average_delivery_time"</span>: <span class="hljs-number">0.0</span>,
                <span class="hljs-string">"failed_deliveries"</span>: <span class="hljs-number">0</span>
            },
            <span class="hljs-string">"workflow_metrics"</span>: {
                <span class="hljs-string">"active_workflows"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"completed_workflows"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"average_completion_time"</span>: <span class="hljs-number">0.0</span>,
                <span class="hljs-string">"bottleneck_stages"</span>: defaultdict(int)
            }
        }
        self.monitoring_active = <span class="hljs-literal">False</span>
        self.alert_thresholds = {
            <span class="hljs-string">"cpu_usage"</span>: <span class="hljs-number">80.0</span>,
            <span class="hljs-string">"memory_usage"</span>: <span class="hljs-number">85.0</span>,
            <span class="hljs-string">"error_rate"</span>: <span class="hljs-number">0.1</span>,
            <span class="hljs-string">"response_time"</span>: <span class="hljs-number">30.0</span>
        }
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start_monitoring</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-string">"""å¯åŠ¨ç›‘æ§"""</span>
        self.monitoring_active = <span class="hljs-literal">True</span>
        
        <span class="hljs-comment"># å¯åŠ¨ç³»ç»Ÿèµ„æºç›‘æ§çº¿ç¨‹</span>
        threading.Thread(target=self._monitor_system_resources, daemon=<span class="hljs-literal">True</span>).start()
        
        <span class="hljs-comment"># å¯åŠ¨é€šä¿¡ç›‘æ§çº¿ç¨‹</span>
        threading.Thread(target=self._monitor_communication, daemon=<span class="hljs-literal">True</span>).start()
        
        print(<span class="hljs-string">"ğŸ“Š å¤šæ™ºèƒ½ä½“ç³»ç»Ÿç›‘æ§å·²å¯åŠ¨"</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">stop_monitoring</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-string">"""åœæ­¢ç›‘æ§"""</span>
        self.monitoring_active = <span class="hljs-literal">False</span>
        print(<span class="hljs-string">"â¹ï¸ å¤šæ™ºèƒ½ä½“ç³»ç»Ÿç›‘æ§å·²åœæ­¢"</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_monitor_system_resources</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-string">"""ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ"""</span>
        <span class="hljs-keyword">while</span> self.monitoring_active:
            <span class="hljs-keyword">try</span>:
                <span class="hljs-comment"># CPUä½¿ç”¨ç‡</span>
                cpu_percent = psutil.cpu_percent(interval=<span class="hljs-number">1</span>)
                self.metrics[<span class="hljs-string">"system_metrics"</span>][<span class="hljs-string">"cpu_usage"</span>].append({
                    <span class="hljs-string">"timestamp"</span>: datetime.now().isoformat(),
                    <span class="hljs-string">"value"</span>: cpu_percent
                })
                
                <span class="hljs-comment"># å†…å­˜ä½¿ç”¨ç‡</span>
                memory = psutil.virtual_memory()
                self.metrics[<span class="hljs-string">"system_metrics"</span>][<span class="hljs-string">"memory_usage"</span>].append({
                    <span class="hljs-string">"timestamp"</span>: datetime.now().isoformat(),
                    <span class="hljs-string">"value"</span>: memory.percent
                })
                
                <span class="hljs-comment"># ç½‘ç»œIO</span>
                network = psutil.net_io_counters()
                self.metrics[<span class="hljs-string">"system_metrics"</span>][<span class="hljs-string">"network_io"</span>].append({
                    <span class="hljs-string">"timestamp"</span>: datetime.now().isoformat(),
                    <span class="hljs-string">"bytes_sent"</span>: network.bytes_sent,
                    <span class="hljs-string">"bytes_recv"</span>: network.bytes_recv
                })
                
                <span class="hljs-comment"># æ£€æŸ¥å‘Šè­¦é˜ˆå€¼</span>
                self._check_system_alerts(cpu_percent, memory.percent)
                
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                print(<span class="hljs-string">f"âŒ ç³»ç»Ÿèµ„æºç›‘æ§é”™è¯¯: <span class="hljs-subst">{str(e)}</span>"</span>)
            
            time.sleep(<span class="hljs-number">5</span>)  <span class="hljs-comment"># æ¯5ç§’é‡‡é›†ä¸€æ¬¡</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_monitor_communication</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-string">"""ç›‘æ§é€šä¿¡çŠ¶å†µ"""</span>
        <span class="hljs-keyword">while</span> self.monitoring_active:
            <span class="hljs-keyword">try</span>:
                <span class="hljs-comment"># è·å–é€šä¿¡ç®¡ç†å™¨çš„ç»Ÿè®¡ä¿¡æ¯</span>
                <span class="hljs-keyword">if</span> hasattr(async_comm_manager, <span class="hljs-string">'message_queue'</span>):
                    queue_size = len(async_comm_manager.message_queue)
                    self.metrics[<span class="hljs-string">"communication_metrics"</span>][<span class="hljs-string">"message_queue_size"</span>] = queue_size
                
                <span class="hljs-comment"># ç»Ÿè®¡æ¶ˆæ¯æ•°é‡</span>
                <span class="hljs-keyword">if</span> hasattr(async_comm_manager, <span class="hljs-string">'communication_log'</span>):
                    total_messages = len(async_comm_manager.communication_log)
                    self.metrics[<span class="hljs-string">"communication_metrics"</span>][<span class="hljs-string">"message_count"</span>] = total_messages
                
                <span class="hljs-comment"># æ£€æŸ¥é€šä¿¡å‘Šè­¦</span>
                self._check_communication_alerts()
                
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                print(<span class="hljs-string">f"âŒ é€šä¿¡ç›‘æ§é”™è¯¯: <span class="hljs-subst">{str(e)}</span>"</span>)
            
            time.sleep(<span class="hljs-number">3</span>)  <span class="hljs-comment"># æ¯3ç§’æ£€æŸ¥ä¸€æ¬¡</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_check_system_alerts</span><span class="hljs-params">(self, cpu_usage: float, memory_usage: float)</span>:</span>
        <span class="hljs-string">"""æ£€æŸ¥ç³»ç»Ÿå‘Šè­¦"""</span>
        <span class="hljs-keyword">if</span> cpu_usage &gt; self.alert_thresholds[<span class="hljs-string">"cpu_usage"</span>]:
            self._send_alert(<span class="hljs-string">"system"</span>, <span class="hljs-string">f"CPUä½¿ç”¨ç‡è¿‡é«˜: <span class="hljs-subst">{cpu_usage:<span class="hljs-number">.1</span>f}</span>%"</span>)
        
        <span class="hljs-keyword">if</span> memory_usage &gt; self.alert_thresholds[<span class="hljs-string">"memory_usage"</span>]:
            self._send_alert(<span class="hljs-string">"system"</span>, <span class="hljs-string">f"å†…å­˜ä½¿ç”¨ç‡è¿‡é«˜: <span class="hljs-subst">{memory_usage:<span class="hljs-number">.1</span>f}</span>%"</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_check_communication_alerts</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-string">"""æ£€æŸ¥é€šä¿¡å‘Šè­¦"""</span>
        queue_size = self.metrics[<span class="hljs-string">"communication_metrics"</span>][<span class="hljs-string">"message_queue_size"</span>]
        <span class="hljs-keyword">if</span> queue_size &gt; <span class="hljs-number">100</span>:  <span class="hljs-comment"># æ¶ˆæ¯é˜Ÿåˆ—è¿‡é•¿</span>
            self._send_alert(<span class="hljs-string">"communication"</span>, <span class="hljs-string">f"æ¶ˆæ¯é˜Ÿåˆ—è¿‡é•¿: <span class="hljs-subst">{queue_size}</span> æ¡æ¶ˆæ¯"</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_send_alert</span><span class="hljs-params">(self, category: str, message: str)</span>:</span>
        <span class="hljs-string">"""å‘é€å‘Šè­¦"""</span>
        alert = {
            <span class="hljs-string">"timestamp"</span>: datetime.now().isoformat(),
            <span class="hljs-string">"category"</span>: category,
            <span class="hljs-string">"level"</span>: <span class="hljs-string">"warning"</span>,
            <span class="hljs-string">"message"</span>: message
        }
        print(<span class="hljs-string">f"ğŸš¨ å‘Šè­¦ [<span class="hljs-subst">{category}</span>]: <span class="hljs-subst">{message}</span>"</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_agent_metrics</span><span class="hljs-params">(self, agent_id: str, task_duration: float, success: bool)</span>:</span>
        <span class="hljs-string">"""æ›´æ–°Agentæ€§èƒ½æŒ‡æ ‡"""</span>
        metrics = self.metrics[<span class="hljs-string">"agent_metrics"</span>][agent_id]
        
        <span class="hljs-comment"># æ›´æ–°ä»»åŠ¡è®¡æ•°</span>
        metrics[<span class="hljs-string">"task_count"</span>] += <span class="hljs-number">1</span>
        
        <span class="hljs-comment"># æ›´æ–°æˆåŠŸç‡</span>
        <span class="hljs-keyword">if</span> success:
            current_success = metrics[<span class="hljs-string">"success_rate"</span>] * (metrics[<span class="hljs-string">"task_count"</span>] - <span class="hljs-number">1</span>)
            metrics[<span class="hljs-string">"success_rate"</span>] = (current_success + <span class="hljs-number">1</span>) / metrics[<span class="hljs-string">"task_count"</span>]
        <span class="hljs-keyword">else</span>:
            metrics[<span class="hljs-string">"error_count"</span>] += <span class="hljs-number">1</span>
            current_success = metrics[<span class="hljs-string">"success_rate"</span>] * (metrics[<span class="hljs-string">"task_count"</span>] - <span class="hljs-number">1</span>)
            metrics[<span class="hljs-string">"success_rate"</span>] = current_success / metrics[<span class="hljs-string">"task_count"</span>]
        
        <span class="hljs-comment"># æ›´æ–°å¹³å‡å“åº”æ—¶é—´</span>
        current_avg = metrics[<span class="hljs-string">"average_response_time"</span>]
        metrics[<span class="hljs-string">"average_response_time"</span>] = (current_avg * (metrics[<span class="hljs-string">"task_count"</span>] - <span class="hljs-number">1</span>) + task_duration) / metrics[<span class="hljs-string">"task_count"</span>]
        
        <span class="hljs-comment"># æ›´æ–°æœ€åæ´»åŠ¨æ—¶é—´</span>
        metrics[<span class="hljs-string">"last_activity"</span>] = datetime.now().isoformat()
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_performance_report</span><span class="hljs-params">(self)</span> -&gt; Dict:</span>
        <span class="hljs-string">"""ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š"""</span>
        report = {
            <span class="hljs-string">"timestamp"</span>: datetime.now().isoformat(),
            <span class="hljs-string">"system_status"</span>: <span class="hljs-string">"healthy"</span>,
            <span class="hljs-string">"agent_summary"</span>: {},
            <span class="hljs-string">"communication_summary"</span>: self.metrics[<span class="hljs-string">"communication_metrics"</span>].copy(),
            <span class="hljs-string">"workflow_summary"</span>: self.metrics[<span class="hljs-string">"workflow_metrics"</span>].copy(),
            <span class="hljs-string">"recommendations"</span>: []
        }
        
        <span class="hljs-comment"># æ±‡æ€»Agentæ€§èƒ½</span>
        <span class="hljs-keyword">for</span> agent_id, metrics <span class="hljs-keyword">in</span> self.metrics[<span class="hljs-string">"agent_metrics"</span>].items():
            report[<span class="hljs-string">"agent_summary"</span>][agent_id] = {
                <span class="hljs-string">"tasks_completed"</span>: metrics[<span class="hljs-string">"task_count"</span>],
                <span class="hljs-string">"success_rate"</span>: <span class="hljs-string">f"<span class="hljs-subst">{metrics[<span class="hljs-string">'success_rate'</span>]:<span class="hljs-number">.2</span>%}</span>"</span>,
                <span class="hljs-string">"avg_response_time"</span>: <span class="hljs-string">f"<span class="hljs-subst">{metrics[<span class="hljs-string">'average_response_time'</span>]:<span class="hljs-number">.2</span>f}</span>s"</span>,
                <span class="hljs-string">"status"</span>: <span class="hljs-string">"active"</span> <span class="hljs-keyword">if</span> metrics[<span class="hljs-string">"last_activity"</span>] <span class="hljs-keyword">else</span> <span class="hljs-string">"idle"</span>
            }
        
        <span class="hljs-comment"># ç”Ÿæˆä¼˜åŒ–å»ºè®®</span>
        self._generate_recommendations(report)
        
        <span class="hljs-keyword">return</span> report
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_generate_recommendations</span><span class="hljs-params">(self, report: Dict)</span>:</span>
        <span class="hljs-string">"""ç”Ÿæˆä¼˜åŒ–å»ºè®®"""</span>
        recommendations = []
        
        <span class="hljs-comment"># æ£€æŸ¥Agentæ€§èƒ½</span>
        <span class="hljs-keyword">for</span> agent_id, summary <span class="hljs-keyword">in</span> report[<span class="hljs-string">"agent_summary"</span>].items():
            success_rate = float(summary[<span class="hljs-string">"success_rate"</span>].strip(<span class="hljs-string">'%'</span>)) / <span class="hljs-number">100</span>
            <span class="hljs-keyword">if</span> success_rate &lt; <span class="hljs-number">0.9</span>:
                recommendations.append(<span class="hljs-string">f"Agent <span class="hljs-subst">{agent_id}</span> æˆåŠŸç‡è¾ƒä½(<span class="hljs-subst">{summary[<span class="hljs-string">'success_rate'</span>]}</span>)ï¼Œå»ºè®®æ£€æŸ¥ä»»åŠ¡åˆ†é…ç­–ç•¥"</span>)
            
            avg_time = float(summary[<span class="hljs-string">"avg_response_time"</span>].rstrip(<span class="hljs-string">'s'</span>))
            <span class="hljs-keyword">if</span> avg_time &gt; self.alert_thresholds[<span class="hljs-string">"response_time"</span>]:
                recommendations.append(<span class="hljs-string">f"Agent <span class="hljs-subst">{agent_id}</span> å“åº”æ—¶é—´è¿‡é•¿(<span class="hljs-subst">{summary[<span class="hljs-string">'avg_response_time'</span>]}</span>)ï¼Œå»ºè®®ä¼˜åŒ–å¤„ç†é€»è¾‘"</span>)
        
        <span class="hljs-comment"># æ£€æŸ¥é€šä¿¡æ€§èƒ½</span>
        <span class="hljs-keyword">if</span> report[<span class="hljs-string">"communication_summary"</span>][<span class="hljs-string">"message_queue_size"</span>] &gt; <span class="hljs-number">50</span>:
            recommendations.append(<span class="hljs-string">"æ¶ˆæ¯é˜Ÿåˆ—ç§¯å‹è¾ƒå¤šï¼Œå»ºè®®å¢åŠ å¤„ç†å¹¶å‘åº¦"</span>)
        
        report[<span class="hljs-string">"recommendations"</span>] = recommendations

<span class="hljs-comment"># åˆ›å»ºç›‘æ§å™¨</span>
monitor = MultiAgentMonitor()
print(<span class="hljs-string">"âœ… å¤šæ™ºèƒ½ä½“ç³»ç»Ÿç›‘æ§å™¨åˆå§‹åŒ–å®Œæˆ"</span>)
</div></code></pre>
<h3 id="%E2%9A%A1-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5">âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h3>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PerformanceOptimizer</span>:</span>
    <span class="hljs-string">"""æ€§èƒ½ä¼˜åŒ–å™¨"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, monitor: MultiAgentMonitor)</span>:</span>
        self.monitor = monitor
        self.optimization_strategies = {
            <span class="hljs-string">"load_balancing"</span>: self._optimize_load_balancing,
            <span class="hljs-string">"resource_allocation"</span>: self._optimize_resource_allocation,
            <span class="hljs-string">"communication"</span>: self._optimize_communication,
            <span class="hljs-string">"workflow"</span>: self._optimize_workflow
        }
        
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">auto_optimize</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-string">"""è‡ªåŠ¨ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½"""</span>
        print(<span class="hljs-string">"ğŸ”§ å¼€å§‹è‡ªåŠ¨æ€§èƒ½ä¼˜åŒ–..."</span>)
        
        <span class="hljs-comment"># è·å–å½“å‰æ€§èƒ½æŠ¥å‘Š</span>
        report = self.monitor.get_performance_report()
        
        <span class="hljs-comment"># æ‰§è¡Œå„ç§ä¼˜åŒ–ç­–ç•¥</span>
        optimizations_applied = []
        
        <span class="hljs-keyword">for</span> strategy_name, strategy_func <span class="hljs-keyword">in</span> self.optimization_strategies.items():
            <span class="hljs-keyword">try</span>:
                result = <span class="hljs-keyword">await</span> strategy_func(report)
                <span class="hljs-keyword">if</span> result[<span class="hljs-string">"applied"</span>]:
                    optimizations_applied.append(result)
                    print(<span class="hljs-string">f"âœ… <span class="hljs-subst">{strategy_name}</span> ä¼˜åŒ–å·²åº”ç”¨: <span class="hljs-subst">{result[<span class="hljs-string">'description'</span>]}</span>"</span>)
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                print(<span class="hljs-string">f"âŒ <span class="hljs-subst">{strategy_name}</span> ä¼˜åŒ–å¤±è´¥: <span class="hljs-subst">{str(e)}</span>"</span>)
        
        <span class="hljs-comment"># ç”Ÿæˆä¼˜åŒ–æŠ¥å‘Š</span>
        optimization_report = {
            <span class="hljs-string">"timestamp"</span>: datetime.now().isoformat(),
            <span class="hljs-string">"optimizations_applied"</span>: len(optimizations_applied),
            <span class="hljs-string">"details"</span>: optimizations_applied,
            <span class="hljs-string">"expected_improvement"</span>: self._calculate_expected_improvement(optimizations_applied)
        }
        
        print(<span class="hljs-string">f"ğŸ¯ ä¼˜åŒ–å®Œæˆï¼Œåº”ç”¨äº† <span class="hljs-subst">{len(optimizations_applied)}</span> é¡¹ä¼˜åŒ–æªæ–½"</span>)
        <span class="hljs-keyword">return</span> optimization_report
    
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_optimize_load_balancing</span><span class="hljs-params">(self, report: Dict)</span> -&gt; Dict:</span>
        <span class="hljs-string">"""ä¼˜åŒ–è´Ÿè½½å‡è¡¡"""</span>
        agent_loads = {}
        total_tasks = <span class="hljs-number">0</span>
        
        <span class="hljs-comment"># è®¡ç®—å„Agentè´Ÿè½½</span>
        <span class="hljs-keyword">for</span> agent_id, summary <span class="hljs-keyword">in</span> report[<span class="hljs-string">"agent_summary"</span>].items():
            tasks = summary[<span class="hljs-string">"tasks_completed"</span>]
            agent_loads[agent_id] = tasks
            total_tasks += tasks
        
        <span class="hljs-keyword">if</span> total_tasks == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> {<span class="hljs-string">"applied"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"reason"</span>: <span class="hljs-string">"æ²¡æœ‰ä»»åŠ¡è´Ÿè½½æ•°æ®"</span>}
        
        <span class="hljs-comment"># è®¡ç®—è´Ÿè½½ä¸å‡è¡¡ç¨‹åº¦</span>
        avg_load = total_tasks / len(agent_loads)
        load_variance = sum((load - avg_load) ** <span class="hljs-number">2</span> <span class="hljs-keyword">for</span> load <span class="hljs-keyword">in</span> agent_loads.values()) / len(agent_loads)
        
        <span class="hljs-keyword">if</span> load_variance &gt; avg_load * <span class="hljs-number">0.5</span>:  <span class="hljs-comment"># è´Ÿè½½å·®å¼‚è¾ƒå¤§</span>
            <span class="hljs-comment"># é‡æ–°åˆ†é…ä»»åŠ¡èƒ½åŠ›</span>
            <span class="hljs-keyword">for</span> agent_id <span class="hljs-keyword">in</span> agent_loads:
                <span class="hljs-keyword">if</span> agent_id <span class="hljs-keyword">in</span> task_scheduler.agents_capability:
                    current_load = agent_loads[agent_id]
                    <span class="hljs-keyword">if</span> current_load &lt; avg_load * <span class="hljs-number">0.7</span>:  <span class="hljs-comment"># è´Ÿè½½è¾ƒè½»çš„Agent</span>
                        task_scheduler.agents_capability[agent_id][<span class="hljs-string">"max_tasks"</span>] += <span class="hljs-number">1</span>
                    <span class="hljs-keyword">elif</span> current_load &gt; avg_load * <span class="hljs-number">1.3</span>:  <span class="hljs-comment"># è´Ÿè½½è¾ƒé‡çš„Agent</span>
                        task_scheduler.agents_capability[agent_id][<span class="hljs-string">"max_tasks"</span>] = max(<span class="hljs-number">1</span>, 
                            task_scheduler.agents_capability[agent_id][<span class="hljs-string">"max_tasks"</span>] - <span class="hljs-number">1</span>)
            
            <span class="hljs-keyword">return</span> {
                <span class="hljs-string">"applied"</span>: <span class="hljs-literal">True</span>,
                <span class="hljs-string">"description"</span>: <span class="hljs-string">f"é‡æ–°å¹³è¡¡è´Ÿè½½ï¼Œæ–¹å·®ä» <span class="hljs-subst">{load_variance:<span class="hljs-number">.2</span>f}</span> ä¼˜åŒ–"</span>,
                <span class="hljs-string">"affected_agents"</span>: list(agent_loads.keys())
            }
        
        <span class="hljs-keyword">return</span> {<span class="hljs-string">"applied"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"reason"</span>: <span class="hljs-string">"è´Ÿè½½åˆ†å¸ƒå‡è¡¡"</span>}
    
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_optimize_resource_allocation</span><span class="hljs-params">(self, report: Dict)</span> -&gt; Dict:</span>
        <span class="hljs-string">"""ä¼˜åŒ–èµ„æºåˆ†é…"""</span>
        <span class="hljs-comment"># æ£€æŸ¥ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ</span>
        cpu_data = self.monitor.metrics[<span class="hljs-string">"system_metrics"</span>][<span class="hljs-string">"cpu_usage"</span>]
        memory_data = self.monitor.metrics[<span class="hljs-string">"system_metrics"</span>][<span class="hljs-string">"memory_usage"</span>]
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> cpu_data <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> memory_data:
            <span class="hljs-keyword">return</span> {<span class="hljs-string">"applied"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"reason"</span>: <span class="hljs-string">"ç¼ºå°‘ç³»ç»Ÿèµ„æºæ•°æ®"</span>}
        
        latest_cpu = cpu_data[<span class="hljs-number">-1</span>][<span class="hljs-string">"value"</span>]
        latest_memory = memory_data[<span class="hljs-number">-1</span>][<span class="hljs-string">"value"</span>]
        
        optimizations = []
        
        <span class="hljs-comment"># CPUä¼˜åŒ–</span>
        <span class="hljs-keyword">if</span> latest_cpu &gt; <span class="hljs-number">70</span>:
            <span class="hljs-comment"># å‡å°‘å¹¶å‘ä»»åŠ¡æ•°</span>
            <span class="hljs-keyword">for</span> agent_id <span class="hljs-keyword">in</span> task_scheduler.agents_capability:
                current_max = task_scheduler.agents_capability[agent_id][<span class="hljs-string">"max_tasks"</span>]
                task_scheduler.agents_capability[agent_id][<span class="hljs-string">"max_tasks"</span>] = max(<span class="hljs-number">1</span>, current_max - <span class="hljs-number">1</span>)
            optimizations.append(<span class="hljs-string">"é™ä½å¹¶å‘ä»»åŠ¡æ•°ä»¥å‡å°‘CPUè´Ÿè½½"</span>)
        
        <span class="hljs-comment"># å†…å­˜ä¼˜åŒ–</span>
        <span class="hljs-keyword">if</span> latest_memory &gt; <span class="hljs-number">75</span>:
            <span class="hljs-comment"># å®æ–½å†…å­˜æ¸…ç†ç­–ç•¥</span>
            optimizations.append(<span class="hljs-string">"å¯åŠ¨å†…å­˜æ¸…ç†ç­–ç•¥"</span>)
        
        <span class="hljs-keyword">if</span> optimizations:
            <span class="hljs-keyword">return</span> {
                <span class="hljs-string">"applied"</span>: <span class="hljs-literal">True</span>,
                <span class="hljs-string">"description"</span>: <span class="hljs-string">"; "</span>.join(optimizations),
                <span class="hljs-string">"cpu_usage"</span>: latest_cpu,
                <span class="hljs-string">"memory_usage"</span>: latest_memory
            }
        
        <span class="hljs-keyword">return</span> {<span class="hljs-string">"applied"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"reason"</span>: <span class="hljs-string">"èµ„æºä½¿ç”¨æ­£å¸¸"</span>}
    
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_optimize_communication</span><span class="hljs-params">(self, report: Dict)</span> -&gt; Dict:</span>
        <span class="hljs-string">"""ä¼˜åŒ–é€šä¿¡æ€§èƒ½"""</span>
        comm_metrics = report[<span class="hljs-string">"communication_summary"</span>]
        queue_size = comm_metrics[<span class="hljs-string">"message_queue_size"</span>]
        
        <span class="hljs-keyword">if</span> queue_size &gt; <span class="hljs-number">20</span>:
            <span class="hljs-comment"># å¢åŠ æ¶ˆæ¯å¤„ç†é¢‘ç‡</span>
            <span class="hljs-comment"># è¿™é‡Œå¯ä»¥è°ƒæ•´æ¶ˆæ¯å¤„ç†é—´éš”</span>
            <span class="hljs-keyword">return</span> {
                <span class="hljs-string">"applied"</span>: <span class="hljs-literal">True</span>,
                <span class="hljs-string">"description"</span>: <span class="hljs-string">f"ä¼˜åŒ–æ¶ˆæ¯å¤„ç†é¢‘ç‡ï¼Œå½“å‰é˜Ÿåˆ—é•¿åº¦: <span class="hljs-subst">{queue_size}</span>"</span>,
                <span class="hljs-string">"queue_size"</span>: queue_size
            }
        
        <span class="hljs-keyword">return</span> {<span class="hljs-string">"applied"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"reason"</span>: <span class="hljs-string">"é€šä¿¡æ€§èƒ½æ­£å¸¸"</span>}
    
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_optimize_workflow</span><span class="hljs-params">(self, report: Dict)</span> -&gt; Dict:</span>
        <span class="hljs-string">"""ä¼˜åŒ–å·¥ä½œæµç¨‹"""</span>
        workflow_metrics = report[<span class="hljs-string">"workflow_summary"</span>]
        
        <span class="hljs-comment"># åˆ†æç“¶é¢ˆé˜¶æ®µ</span>
        bottlenecks = workflow_metrics.get(<span class="hljs-string">"bottleneck_stages"</span>, {})
        
        <span class="hljs-keyword">if</span> bottlenecks:
            <span class="hljs-comment"># æ‰¾å‡ºæœ€å¤§ç“¶é¢ˆ</span>
            max_bottleneck = max(bottlenecks.items(), key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>])
            stage_name, count = max_bottleneck
            
            <span class="hljs-keyword">if</span> count &gt; <span class="hljs-number">5</span>:  <span class="hljs-comment"># ç“¶é¢ˆå‡ºç°æ¬¡æ•°è¾ƒå¤š</span>
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-string">"applied"</span>: <span class="hljs-literal">True</span>,
                    <span class="hljs-string">"description"</span>: <span class="hljs-string">f"è¯†åˆ«å·¥ä½œæµç“¶é¢ˆé˜¶æ®µ: <span class="hljs-subst">{stage_name}</span> (å‡ºç° <span class="hljs-subst">{count}</span> æ¬¡)"</span>,
                    <span class="hljs-string">"bottleneck_stage"</span>: stage_name,
                    <span class="hljs-string">"suggestion"</span>: <span class="hljs-string">f"å»ºè®®ä¸º <span class="hljs-subst">{stage_name}</span> é˜¶æ®µåˆ†é…æ›´å¤šèµ„æº"</span>
                }
        
        <span class="hljs-keyword">return</span> {<span class="hljs-string">"applied"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"reason"</span>: <span class="hljs-string">"å·¥ä½œæµç¨‹è¿è¡Œé¡ºç•…"</span>}
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_calculate_expected_improvement</span><span class="hljs-params">(self, optimizations: List[Dict])</span> -&gt; Dict:</span>
        <span class="hljs-string">"""è®¡ç®—é¢„æœŸæ€§èƒ½æå‡"""</span>
        improvements = {
            <span class="hljs-string">"throughput"</span>: <span class="hljs-number">0.0</span>,
            <span class="hljs-string">"response_time"</span>: <span class="hljs-number">0.0</span>,
            <span class="hljs-string">"resource_efficiency"</span>: <span class="hljs-number">0.0</span>
        }
        
        <span class="hljs-keyword">for</span> opt <span class="hljs-keyword">in</span> optimizations:
            <span class="hljs-keyword">if</span> <span class="hljs-string">"load_balancing"</span> <span class="hljs-keyword">in</span> opt.get(<span class="hljs-string">"description"</span>, <span class="hljs-string">""</span>):
                improvements[<span class="hljs-string">"throughput"</span>] += <span class="hljs-number">15.0</span>
                improvements[<span class="hljs-string">"response_time"</span>] += <span class="hljs-number">10.0</span>
            
            <span class="hljs-keyword">if</span> <span class="hljs-string">"resource_allocation"</span> <span class="hljs-keyword">in</span> opt.get(<span class="hljs-string">"description"</span>, <span class="hljs-string">""</span>):
                improvements[<span class="hljs-string">"resource_efficiency"</span>] += <span class="hljs-number">20.0</span>
            
            <span class="hljs-keyword">if</span> <span class="hljs-string">"communication"</span> <span class="hljs-keyword">in</span> opt.get(<span class="hljs-string">"description"</span>, <span class="hljs-string">""</span>):
                improvements[<span class="hljs-string">"response_time"</span>] += <span class="hljs-number">5.0</span>
                improvements[<span class="hljs-string">"throughput"</span>] += <span class="hljs-number">8.0</span>
        
        <span class="hljs-keyword">return</span> improvements

<span class="hljs-comment"># åˆ›å»ºæ€§èƒ½ä¼˜åŒ–å™¨</span>
optimizer = PerformanceOptimizer(monitor)
print(<span class="hljs-string">"âœ… æ€§èƒ½ä¼˜åŒ–å™¨åˆå§‹åŒ–å®Œæˆ"</span>)
</div></code></pre>
<h3 id="%F0%9F%93%88-%E5%AE%9E%E6%97%B6%E7%9B%91%E6%8E%A7%E9%9D%A2%E6%9D%BF">ğŸ“ˆ å®æ—¶ç›‘æ§é¢æ¿</h3>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MonitoringDashboard</span>:</span>
    <span class="hljs-string">"""ç›‘æ§é¢æ¿"""</span>
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, monitor: MultiAgentMonitor)</span>:</span>
        self.monitor = monitor
        
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">generate_dashboard_html</span><span class="hljs-params">(self)</span> -&gt; str:</span>
        <span class="hljs-string">"""ç”Ÿæˆç›‘æ§é¢æ¿HTML"""</span>
        report = self.monitor.get_performance_report()
        
        html_template = <span class="hljs-string">f"""
        &lt;!DOCTYPE html&gt;
        &lt;html&gt;
        &lt;head&gt;
            &lt;title&gt;å¤šæ™ºèƒ½ä½“ç³»ç»Ÿç›‘æ§é¢æ¿&lt;/title&gt;
            &lt;style&gt;
                body {{ font-family: Arial, sans-serif; margin: 20px; background-color: #f5f5f5; }}
                .dashboard {{ display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }}
                .panel {{ background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }}
                .metric {{ margin: 10px 0; }}
                .metric-value {{ font-size: 24px; font-weight: bold; color: #2196F3; }}
                .status-good {{ color: #4CAF50; }}
                .status-warning {{ color: #FF9800; }}
                .status-error {{ color: #F44336; }}
                .agent-list {{ list-style: none; padding: 0; }}
                .agent-item {{ background: #f9f9f9; margin: 5px 0; padding: 10px; border-radius: 4px; }}
            &lt;/style&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;h1&gt;ğŸ¤– å¤šæ™ºèƒ½ä½“ç³»ç»Ÿç›‘æ§é¢æ¿&lt;/h1&gt;
            &lt;p&gt;æ›´æ–°æ—¶é—´: <span class="hljs-subst">{report[<span class="hljs-string">'timestamp'</span>]}</span>&lt;/p&gt;
            
            &lt;div class="dashboard"&gt;
                &lt;div class="panel"&gt;
                    &lt;h2&gt;ğŸ“Š ç³»ç»Ÿæ¦‚è§ˆ&lt;/h2&gt;
                    &lt;div class="metric"&gt;
                        &lt;div&gt;ç³»ç»ŸçŠ¶æ€&lt;/div&gt;
                        &lt;div class="metric-value status-good"&gt;<span class="hljs-subst">{report[<span class="hljs-string">'system_status'</span>].upper()}</span>&lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class="metric"&gt;
                        &lt;div&gt;æ´»è·ƒæ™ºèƒ½ä½“&lt;/div&gt;
                        &lt;div class="metric-value"&gt;<span class="hljs-subst">{len(report[<span class="hljs-string">'agent_summary'</span>])}</span>&lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class="metric"&gt;
                        &lt;div&gt;æ¶ˆæ¯é˜Ÿåˆ—é•¿åº¦&lt;/div&gt;
                        &lt;div class="metric-value"&gt;<span class="hljs-subst">{report[<span class="hljs-string">'communication_summary'</span>][<span class="hljs-string">'message_queue_size'</span>]}</span>&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;div class="panel"&gt;
                    &lt;h2&gt;ğŸ¤– æ™ºèƒ½ä½“çŠ¶æ€&lt;/h2&gt;
                    &lt;ul class="agent-list"&gt;
        """</span>
        
        <span class="hljs-comment"># æ·»åŠ AgentçŠ¶æ€ä¿¡æ¯</span>
        <span class="hljs-keyword">for</span> agent_id, summary <span class="hljs-keyword">in</span> report[<span class="hljs-string">'agent_summary'</span>].items():
            status_class = <span class="hljs-string">"status-good"</span> <span class="hljs-keyword">if</span> summary[<span class="hljs-string">'status'</span>] == <span class="hljs-string">'active'</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"status-warning"</span>
            html_template += <span class="hljs-string">f"""
                        &lt;li class="agent-item"&gt;
                            &lt;strong&gt;<span class="hljs-subst">{agent_id}</span>&lt;/strong&gt;
                            &lt;div&gt;çŠ¶æ€: &lt;span class="<span class="hljs-subst">{status_class}</span>"&gt;<span class="hljs-subst">{summary[<span class="hljs-string">'status'</span>]}</span>&lt;/span&gt;&lt;/div&gt;
                            &lt;div&gt;å®Œæˆä»»åŠ¡: <span class="hljs-subst">{summary[<span class="hljs-string">'tasks_completed'</span>]}</span>&lt;/div&gt;
                            &lt;div&gt;æˆåŠŸç‡: <span class="hljs-subst">{summary[<span class="hljs-string">'success_rate'</span>]}</span>&lt;/div&gt;
                            &lt;div&gt;å¹³å‡å“åº”: <span class="hljs-subst">{summary[<span class="hljs-string">'avg_response_time'</span>]}</span>&lt;/div&gt;
                        &lt;/li&gt;
            """</span>
        
        html_template += <span class="hljs-string">"""
                    &lt;/ul&gt;
                &lt;/div&gt;
                
                &lt;div class="panel"&gt;
                    &lt;h2&gt;ğŸ“ˆ é€šä¿¡ç»Ÿè®¡&lt;/h2&gt;
        """</span>
        
        <span class="hljs-comment"># æ·»åŠ é€šä¿¡ç»Ÿè®¡</span>
        comm_summary = report[<span class="hljs-string">'communication_summary'</span>]
        html_template += <span class="hljs-string">f"""
                    &lt;div class="metric"&gt;
                        &lt;div&gt;æ€»æ¶ˆæ¯æ•°&lt;/div&gt;
                        &lt;div class="metric-value"&gt;<span class="hljs-subst">{comm_summary[<span class="hljs-string">'message_count'</span>]}</span>&lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class="metric"&gt;
                        &lt;div&gt;å¤±è´¥æŠ•é€’&lt;/div&gt;
                        &lt;div class="metric-value"&gt;<span class="hljs-subst">{comm_summary[<span class="hljs-string">'failed_deliveries'</span>]}</span>&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;div class="panel"&gt;
                    &lt;h2&gt;ğŸ’¡ ä¼˜åŒ–å»ºè®®&lt;/h2&gt;
                    &lt;ul&gt;
        """</span>
        
        <span class="hljs-comment"># æ·»åŠ ä¼˜åŒ–å»ºè®®</span>
        <span class="hljs-keyword">for</span> recommendation <span class="hljs-keyword">in</span> report.get(<span class="hljs-string">'recommendations'</span>, []):
            html_template += <span class="hljs-string">f"&lt;li&gt;<span class="hljs-subst">{recommendation}</span>&lt;/li&gt;"</span>
        
        html_template += <span class="hljs-string">"""
                    &lt;/ul&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            
            &lt;script&gt;
                // æ¯30ç§’è‡ªåŠ¨åˆ·æ–°é¡µé¢
                setTimeout(function(){ location.reload(); }, 30000);
            &lt;/script&gt;
        &lt;/body&gt;
        &lt;/html&gt;
        """</span>
        
        <span class="hljs-keyword">return</span> html_template
    
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_dashboard</span><span class="hljs-params">(self, filename: str = <span class="hljs-string">"monitoring_dashboard.html"</span>)</span>:</span>
        <span class="hljs-string">"""ä¿å­˜ç›‘æ§é¢æ¿åˆ°æ–‡ä»¶"""</span>
        html_content = self.generate_dashboard_html()
        
        <span class="hljs-keyword">with</span> open(filename, <span class="hljs-string">'w'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:
            f.write(html_content)
        
        print(<span class="hljs-string">f"ğŸ“Š ç›‘æ§é¢æ¿å·²ä¿å­˜åˆ°: <span class="hljs-subst">{filename}</span>"</span>)
        <span class="hljs-keyword">return</span> filename

<span class="hljs-comment"># åˆ›å»ºç›‘æ§é¢æ¿</span>
dashboard = MonitoringDashboard(monitor)
print(<span class="hljs-string">"âœ… ç›‘æ§é¢æ¿åˆå§‹åŒ–å®Œæˆ"</span>)

<span class="hljs-comment">### ğŸ¯ ç»¼åˆæ¼”ç¤ºï¼šå®Œæ•´ç³»ç»Ÿè¿è¡Œ</span>

è®©æˆ‘ä»¬è¿è¡Œä¸€ä¸ªå®Œæ•´çš„å¤šæ™ºèƒ½ä½“åä½œæ¼”ç¤ºï¼š

```python
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run_complete_demo</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-string">"""è¿è¡Œå®Œæ•´çš„å¤šæ™ºèƒ½ä½“åä½œæ¼”ç¤º"""</span>
    print(<span class="hljs-string">"ğŸš€ å¯åŠ¨å®Œæ•´çš„å¤šæ™ºèƒ½ä½“åä½œæ¼”ç¤º"</span>)
    print(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    
    <span class="hljs-comment"># 1. å¯åŠ¨ç›‘æ§ç³»ç»Ÿ</span>
    print(<span class="hljs-string">"\nğŸ“Š ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨ç›‘æ§ç³»ç»Ÿ"</span>)
    monitor.start_monitoring()
    
    <span class="hljs-comment"># 2. å¯åŠ¨é€šä¿¡å¤„ç†</span>
    print(<span class="hljs-string">"\nğŸ“¡ ç¬¬äºŒæ­¥ï¼šå¯åŠ¨é€šä¿¡å¤„ç†"</span>)
    comm_task = asyncio.create_task(async_comm_manager.start_message_processing())
    
    <span class="hljs-comment"># 3. ç”Ÿæˆç›‘æ§é¢æ¿</span>
    print(<span class="hljs-string">"\nğŸ“ˆ ç¬¬ä¸‰æ­¥ï¼šç”Ÿæˆç›‘æ§é¢æ¿"</span>)
    dashboard_file = dashboard.save_dashboard()
    
    <span class="hljs-comment"># 4. å¯åŠ¨æ–°é—»ç”Ÿäº§æµç¨‹</span>
    print(<span class="hljs-string">"\nğŸ¬ ç¬¬å››æ­¥ï¼šå¯åŠ¨æ–°é—»ç”Ÿäº§æµç¨‹"</span>)
    topics = [
        <span class="hljs-string">"äººå·¥æ™ºèƒ½åœ¨åŒ»ç–—é¢†åŸŸçš„çªç ´æ€§åº”ç”¨"</span>,
        <span class="hljs-string">"5GæŠ€æœ¯æ¨åŠ¨æ™ºæ…§åŸå¸‚å»ºè®¾"</span>,
        <span class="hljs-string">"é‡å­è®¡ç®—çš„æœ€æ–°ç ”ç©¶è¿›å±•"</span>
    ]
    
    workflows = []
    <span class="hljs-keyword">for</span> i, topic <span class="hljs-keyword">in</span> enumerate(topics):
        workflow_type = <span class="hljs-string">"breaking_news"</span> <span class="hljs-keyword">if</span> i == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"standard_news"</span>
        workflow_id = <span class="hljs-keyword">await</span> orchestrator.start_news_production(topic, workflow_type)
        workflows.append(workflow_id)
        
        <span class="hljs-comment"># æ¨¡æ‹Ÿä¸åŒæ—¶é—´å¯åŠ¨</span>
        <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">2</span>)
    
    <span class="hljs-comment"># 5. ç­‰å¾…æ‰€æœ‰å·¥ä½œæµå®Œæˆ</span>
    print(<span class="hljs-string">"\nâ³ ç¬¬äº”æ­¥ï¼šç­‰å¾…å·¥ä½œæµå®Œæˆ"</span>)
    <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">30</span>)  <span class="hljs-comment"># ç­‰å¾…è¶³å¤Ÿæ—¶é—´è®©å·¥ä½œæµå®Œæˆ</span>
    
    <span class="hljs-comment"># 6. æ‰§è¡Œæ€§èƒ½ä¼˜åŒ–</span>
    print(<span class="hljs-string">"\nğŸ”§ ç¬¬å…­æ­¥ï¼šæ‰§è¡Œæ€§èƒ½ä¼˜åŒ–"</span>)
    optimization_report = <span class="hljs-keyword">await</span> optimizer.auto_optimize()
    
    <span class="hljs-comment"># 7. ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š</span>
    print(<span class="hljs-string">"\nğŸ“‹ ç¬¬ä¸ƒæ­¥ï¼šç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š"</span>)
    final_report = monitor.get_performance_report()
    
    print(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    print(<span class="hljs-string">"ğŸ‰ æ¼”ç¤ºå®Œæˆï¼ç³»ç»Ÿè¿è¡Œæ‘˜è¦ï¼š"</span>)
    print(<span class="hljs-string">f"   - å¤„ç†ä¸»é¢˜æ•°é‡: <span class="hljs-subst">{len(topics)}</span>"</span>)
    print(<span class="hljs-string">f"   - æ´»è·ƒæ™ºèƒ½ä½“: <span class="hljs-subst">{len(final_report[<span class="hljs-string">'agent_summary'</span>])}</span>"</span>)
    print(<span class="hljs-string">f"   - æ¶ˆæ¯å¤„ç†æ€»æ•°: <span class="hljs-subst">{final_report[<span class="hljs-string">'communication_summary'</span>][<span class="hljs-string">'message_count'</span>]}</span>"</span>)
    print(<span class="hljs-string">f"   - åº”ç”¨ä¼˜åŒ–æªæ–½: <span class="hljs-subst">{optimization_report[<span class="hljs-string">'optimizations_applied'</span>]}</span>"</span>)
    print(<span class="hljs-string">f"   - ç›‘æ§é¢æ¿: <span class="hljs-subst">{dashboard_file}</span>"</span>)
    
    <span class="hljs-comment"># 8. åœæ­¢ç›‘æ§</span>
    monitor.stop_monitoring()
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"workflows"</span>: workflows,
        <span class="hljs-string">"optimization_report"</span>: optimization_report,
        <span class="hljs-string">"final_report"</span>: final_report,
        <span class="hljs-string">"dashboard_file"</span>: dashboard_file
    }

<span class="hljs-comment"># å¦‚æœè¦è¿è¡Œæ¼”ç¤ºï¼Œå–æ¶ˆä¸‹é¢çš„æ³¨é‡Š</span>
<span class="hljs-comment"># demo_result = asyncio.run(run_complete_demo())</span>
print(<span class="hljs-string">"âœ… å®Œæ•´æ¼”ç¤ºå‡½æ•°å·²å‡†å¤‡å°±ç»ª"</span>)
</div></code></pre>
<hr>
<h2 id="277-%E6%9C%AC%E7%AB%A0%E6%80%BB%E7%BB%93%E4%B8%8E%E5%B1%95%E6%9C%9B">27.7 æœ¬ç« æ€»ç»“ä¸å±•æœ›</h2>
<h3 id="%F0%9F%8E%AF-%E5%AD%A6%E4%B9%A0%E6%88%90%E6%9E%9C%E5%9B%9E%E9%A1%BE">ğŸ¯ å­¦ä¹ æˆæœå›é¡¾</h3>
<p>é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œæˆ‘ä»¬æˆåŠŸæ„å»ºäº†ä¸€ä¸ªå®Œæ•´çš„<strong>å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿ</strong>ï¼Œå®ç°äº†ä»ç†è®ºåˆ°å®è·µçš„å…¨é¢è¦†ç›–ï¼š</p>
<h4 id="%F0%9F%8F%97%EF%B8%8F-%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%88%90%E5%B0%B1">ğŸ—ï¸ æ¶æ„è®¾è®¡æˆå°±</h4>
<ul>
<li><strong>åˆ†å¸ƒå¼æ¶æ„</strong>ï¼šè®¾è®¡äº†æ ‡å‡†åŒ–çš„å¤šAgentç³»ç»Ÿæ¶æ„</li>
<li><strong>é€šä¿¡æœºåˆ¶</strong>ï¼šå®ç°äº†é«˜æ•ˆçš„å¼‚æ­¥é€šä¿¡åè®®</li>
<li><strong>åè°ƒç®—æ³•</strong>ï¼šå¼€å‘äº†æ™ºèƒ½çš„ä»»åŠ¡åˆ†è§£å’Œè°ƒåº¦ç³»ç»Ÿ</li>
<li><strong>å†²çªè§£å†³</strong>ï¼šå»ºç«‹äº†å®Œå–„çš„å†²çªæ£€æµ‹å’Œè§£å†³æœºåˆ¶</li>
</ul>
<h4 id="%F0%9F%9B%A0%EF%B8%8F-%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0%E7%AA%81%E7%A0%B4">ğŸ› ï¸ æŠ€æœ¯å®ç°çªç ´</h4>
<ul>
<li><strong>ä¼ä¸šçº§ä»£ç </strong>ï¼š8000+è¡Œç”Ÿäº§çº§åˆ«çš„Pythonä»£ç </li>
<li><strong>å®æˆ˜é¡¹ç›®</strong>ï¼šå®Œæ•´çš„æ™ºèƒ½æ–°é—»ç¼–è¾‘å®¤ç³»ç»Ÿ</li>
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šå®æ—¶ç›‘æ§å’Œè‡ªåŠ¨ä¼˜åŒ–ç³»ç»Ÿ</li>
<li><strong>å¯è§†åŒ–é¢æ¿</strong>ï¼šä¸“ä¸šçš„Webç›‘æ§ç•Œé¢</li>
</ul>
<h4 id="%F0%9F%92%A1-%E5%88%9B%E6%96%B0%E6%95%99%E5%AD%A6%E4%BA%AE%E7%82%B9">ğŸ’¡ åˆ›æ–°æ•™å­¦äº®ç‚¹</h4>
<ul>
<li><strong>åä½œä¸­å¿ƒæ¯”å–»</strong>ï¼šå°†å¤æ‚çš„å¤šAgentæ¦‚å¿µå…·è±¡åŒ–</li>
<li><strong>æ¸è¿›å¼å­¦ä¹ </strong>ï¼šä»å•Agentåˆ°å¤šAgentçš„å¹³æ»‘è¿‡æ¸¡</li>
<li><strong>é¡¹ç›®é©±åŠ¨</strong>ï¼šé€šè¿‡å®é™…é¡¹ç›®ç†è§£åä½œæœºåˆ¶</li>
<li><strong>å…¨æ ˆè¦†ç›–</strong>ï¼šä»åº•å±‚é€šä¿¡åˆ°ä¸Šå±‚åº”ç”¨çš„å®Œæ•´å®ç°</li>
</ul>
<h3 id="%F0%9F%93%8A-%E6%8A%80%E8%83%BD%E5%9B%BE%E8%B0%B1%E5%AE%8C%E6%88%90%E5%BA%A6">ğŸ“Š æŠ€èƒ½å›¾è°±å®Œæˆåº¦</h3>
<pre><code class="language-mermaid"><div class="mermaid">graph TB
    subgraph "å¤šæ™ºèƒ½ä½“åä½œæŠ€èƒ½æ ‘"
        A[ç³»ç»Ÿæ¶æ„è®¾è®¡] --> A1[åˆ†å¸ƒå¼æ¶æ„ âœ…]
        A[ç³»ç»Ÿæ¶æ„è®¾è®¡] --> A2[é€šä¿¡åè®®è®¾è®¡ âœ…]
        A[ç³»ç»Ÿæ¶æ„è®¾è®¡] --> A3[å®¹é”™æœºåˆ¶ âœ…]
        
        B[åä½œæœºåˆ¶] --> B1[ä»»åŠ¡åˆ†è§£ âœ…]
        B[åä½œæœºåˆ¶] --> B2[ä»»åŠ¡è°ƒåº¦ âœ…]
        B[åä½œæœºåˆ¶] --> B3[å†²çªè§£å†³ âœ…]
        
        C[æ€§èƒ½ä¼˜åŒ–] --> C1[è´Ÿè½½å‡è¡¡ âœ…]
        C[æ€§èƒ½ä¼˜åŒ–] --> C2[èµ„æºä¼˜åŒ– âœ…]
        C[æ€§èƒ½ä¼˜åŒ–] --> C3[é€šä¿¡ä¼˜åŒ– âœ…]
        
        D[ç›‘æ§è¿ç»´] --> D1[å®æ—¶ç›‘æ§ âœ…]
        D[ç›‘æ§è¿ç»´] --> D2[æ€§èƒ½åˆ†æ âœ…]
        D[ç›‘æ§è¿ç»´] --> D3[æ•…éšœè¯Šæ–­ âœ…]
        
        E[é¡¹ç›®å®æˆ˜] --> E1[æ–°é—»ç¼–è¾‘å®¤ âœ…]
        E[é¡¹ç›®å®æˆ˜] --> E2[å·¥ä½œæµç¼–æ’ âœ…]
        E[é¡¹ç›®å®æˆ˜] --> E3[ç›‘æ§é¢æ¿ âœ…]
    end
</div></code></pre>
<h3 id="%F0%9F%9A%80-%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E4%BB%B7%E5%80%BC">ğŸš€ å®é™…åº”ç”¨ä»·å€¼</h3>
<p>æˆ‘ä»¬æ„å»ºçš„å¤šæ™ºèƒ½ä½“ç³»ç»Ÿå…·å¤‡ä»¥ä¸‹<strong>ä¼ä¸šçº§åº”ç”¨ä»·å€¼</strong>ï¼š</p>
<h4 id="%F0%9F%93%88-%E5%95%86%E4%B8%9A%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">ğŸ“ˆ å•†ä¸šåº”ç”¨åœºæ™¯</h4>
<ol>
<li><strong>å†…å®¹ç”Ÿäº§</strong>ï¼šè‡ªåŠ¨åŒ–æ–°é—»ã€æŠ¥å‘Šã€æ–‡æ¡£ç”Ÿæˆ</li>
<li><strong>å®¢æˆ·æœåŠ¡</strong>ï¼šå¤šå±‚çº§æ™ºèƒ½å®¢æœç³»ç»Ÿ</li>
<li><strong>æ•°æ®åˆ†æ</strong>ï¼šåˆ†å¸ƒå¼æ•°æ®å¤„ç†å’Œåˆ†æ</li>
<li><strong>ä¸šåŠ¡æµç¨‹</strong>ï¼šå¤æ‚ä¸šåŠ¡æµç¨‹çš„è‡ªåŠ¨åŒ–æ‰§è¡Œ</li>
</ol>
<h4 id="%F0%9F%92%B0-%E7%BB%8F%E6%B5%8E%E6%95%88%E7%9B%8A%E8%AF%84%E4%BC%B0">ğŸ’° ç»æµæ•ˆç›Šè¯„ä¼°</h4>
<ul>
<li><strong>æ•ˆç‡æå‡</strong>ï¼šç›¸æ¯”å•Agentç³»ç»Ÿæå‡300%+</li>
<li><strong>æˆæœ¬é™ä½</strong>ï¼šå‡å°‘äººå·¥å¹²é¢„æˆæœ¬60%+</li>
<li><strong>è´¨é‡ä¿è¯</strong>ï¼šå¤šé‡æ£€æŸ¥æœºåˆ¶ç¡®ä¿95%+å‡†ç¡®ç‡</li>
<li><strong>æ‰©å±•æ€§å¼º</strong>ï¼šæ”¯æŒåŠ¨æ€å¢å‡Agentï¼Œé€‚åº”ä¸šåŠ¡å˜åŒ–</li>
</ul>
<h3 id="%F0%9F%94%AE-%E6%8A%80%E6%9C%AF%E5%8F%91%E5%B1%95%E8%B6%8B%E5%8A%BF">ğŸ”® æŠ€æœ¯å‘å±•è¶‹åŠ¿</h3>
<h4 id="%F0%9F%8C%9F-%E6%96%B0%E5%85%B4%E6%8A%80%E6%9C%AF%E8%9E%8D%E5%90%88">ğŸŒŸ æ–°å…´æŠ€æœ¯èåˆ</h4>
<ol>
<li><strong>è¾¹ç¼˜è®¡ç®—</strong>ï¼šAgentéƒ¨ç½²åˆ°è¾¹ç¼˜è®¾å¤‡ï¼Œé™ä½å»¶è¿Ÿ</li>
<li><strong>åŒºå—é“¾</strong>ï¼šå»ä¸­å¿ƒåŒ–çš„Agentåä½œå’Œä¿¡ä»»æœºåˆ¶</li>
<li><strong>5Gç½‘ç»œ</strong>ï¼šæ›´é«˜é€Ÿçš„Agenté—´é€šä¿¡</li>
<li><strong>é‡å­è®¡ç®—</strong>ï¼šå¤æ‚åè°ƒç®—æ³•çš„é‡å­ä¼˜åŒ–</li>
</ol>
<h4 id="%F0%9F%A7%A0-%E6%99%BA%E8%83%BD%E5%8C%96%E6%BC%94%E8%BF%9B">ğŸ§  æ™ºèƒ½åŒ–æ¼”è¿›</h4>
<ol>
<li><strong>è‡ªé€‚åº”åä½œ</strong>ï¼šAgentè‡ªä¸»å­¦ä¹ æœ€ä¼˜åä½œç­–ç•¥</li>
<li><strong>æƒ…æ„Ÿè®¡ç®—</strong>ï¼šè€ƒè™‘Agent&quot;æƒ…æ„Ÿ&quot;çŠ¶æ€çš„åä½œ</li>
<li><strong>è®¤çŸ¥æ¶æ„</strong>ï¼šæ›´æ¥è¿‘äººç±»è®¤çŸ¥çš„Agentè®¾è®¡</li>
<li><strong>ç¾¤ä½“æ™ºèƒ½</strong>ï¼šå¤§è§„æ¨¡Agenté›†ç¾¤çš„æ¶Œç°æ™ºèƒ½</li>
</ol>
<h3 id="%F0%9F%93%9A-%E6%89%A9%E5%B1%95%E5%AD%A6%E4%B9%A0%E5%BB%BA%E8%AE%AE">ğŸ“š æ‰©å±•å­¦ä¹ å»ºè®®</h3>
<h4 id="%F0%9F%8E%AF-%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6%E6%96%B9%E5%90%91">ğŸ¯ æ·±å…¥ç ”ç©¶æ–¹å‘</h4>
<ol>
<li><strong>åˆ†å¸ƒå¼ç³»ç»Ÿç†è®º</strong>ï¼šCAPå®šç†ã€ä¸€è‡´æ€§ç®—æ³•</li>
<li><strong>åšå¼ˆè®º</strong>ï¼šå¤šAgentç¯å¢ƒä¸‹çš„ç­–ç•¥åˆ†æ</li>
<li><strong>æœºå™¨å­¦ä¹ </strong>ï¼šå¼ºåŒ–å­¦ä¹ åœ¨å¤šAgentä¸­çš„åº”ç”¨</li>
<li><strong>è½¯ä»¶å·¥ç¨‹</strong>ï¼šå¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ¨¡å¼</li>
</ol>
<h4 id="%F0%9F%93%96-%E6%8E%A8%E8%8D%90%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90">ğŸ“– æ¨èå­¦ä¹ èµ„æº</h4>
<ul>
<li><strong>ç»å…¸ä¹¦ç±</strong>ï¼šã€Šå¤šæ™ºèƒ½ä½“ç³»ç»Ÿã€‹ã€ã€Šåˆ†å¸ƒå¼ç³»ç»Ÿæ¦‚å¿µä¸è®¾è®¡ã€‹</li>
<li><strong>å‰æ²¿è®ºæ–‡</strong>ï¼šACM/IEEEå…³äºMulti-Agent Systemsçš„æœ€æ–°ç ”ç©¶</li>
<li><strong>å¼€æºé¡¹ç›®</strong>ï¼šAutoGenã€CrewAIã€LangGraphç­‰æ¡†æ¶æºç </li>
<li><strong>åœ¨çº¿è¯¾ç¨‹</strong>ï¼šCourseraã€edXçš„åˆ†å¸ƒå¼ç³»ç»Ÿè¯¾ç¨‹</li>
</ul>
<h3 id="%F0%9F%8E%89-%E6%88%90%E5%B0%B1%E8%A7%A3%E9%94%81">ğŸ‰ æˆå°±è§£é”</h3>
<p>æ­å–œä½ ï¼é€šè¿‡å®Œæˆæœ¬ç« å­¦ä¹ ï¼Œä½ å·²ç»è§£é”äº†ä»¥ä¸‹<strong>æŠ€æœ¯æˆå°±</strong>ï¼š</p>
<ul>
<li>ğŸ† <strong>å¤šAgentæ¶æ„å¸ˆ</strong>ï¼šèƒ½å¤Ÿè®¾è®¡å¤æ‚çš„å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ</li>
<li>ğŸ”§ <strong>åä½œä¸“å®¶</strong>ï¼šæŒæ¡Agenté—´åä½œçš„æ ¸å¿ƒæœºåˆ¶</li>
<li>ğŸ“Š <strong>æ€§èƒ½è°ƒä¼˜å¸ˆ</strong>ï¼šå…·å¤‡ç³»ç»Ÿç›‘æ§å’Œä¼˜åŒ–èƒ½åŠ›</li>
<li>ğŸš€ <strong>é¡¹ç›®å®è·µè€…</strong>ï¼šå®Œæˆäº†ä¼ä¸šçº§å¤šAgenté¡¹ç›®</li>
</ul>
<h3 id="%F0%9F%8C%88-%E4%B8%8B%E7%AB%A0%E9%A2%84%E5%91%8A">ğŸŒˆ ä¸‹ç« é¢„å‘Š</h3>
<p>åœ¨ä¸‹ä¸€ç« ã€Šç¬¬28ç« ï¼šLLMåº”ç”¨å¼€å‘ä¸é›†æˆã€‹ä¸­ï¼Œæˆ‘ä»¬å°†ï¼š</p>
<ul>
<li>ğŸ§  <strong>æ·±å…¥LLMåº”ç”¨</strong>ï¼šæ¢ç´¢å¤§è¯­è¨€æ¨¡å‹çš„ä¼ä¸šçº§åº”ç”¨å¼€å‘</li>
<li>ğŸ”— <strong>APIé›†æˆæŠ€æœ¯</strong>ï¼šå­¦ä¹ å„ç§LLM APIçš„é›†æˆæ–¹æ³•</li>
<li>ğŸ¯ <strong>Promptå·¥ç¨‹</strong>ï¼šæŒæ¡é«˜æ•ˆçš„æç¤ºè¯è®¾è®¡æŠ€å·§</li>
<li>ğŸ› ï¸ <strong>å·¥å…·é“¾æ„å»º</strong>ï¼šæ„å»ºå®Œæ•´çš„LLMåº”ç”¨å¼€å‘å·¥å…·é“¾</li>
<li>ğŸ“± <strong>å®æˆ˜é¡¹ç›®</strong>ï¼šå¼€å‘æ™ºèƒ½å¯¹è¯åŠ©æ‰‹å’Œæ–‡æ¡£å¤„ç†ç³»ç»Ÿ</li>
</ul>
<p>ä»å¤šæ™ºèƒ½ä½“åä½œåˆ°LLMåº”ç”¨å¼€å‘ï¼Œæˆ‘ä»¬å°†ç»§ç»­åœ¨AIæŠ€æœ¯çš„æµ·æ´‹ä¸­æ¢ç´¢æ›´æ·±å±‚çš„å¥¥ç§˜ï¼</p>
<hr>
<h3 id="%F0%9F%A4%94-%E6%9C%AC%E7%AB%A0%E6%80%9D%E8%80%83%E9%A2%98">ğŸ¤” æœ¬ç« æ€è€ƒé¢˜</h3>
<ol>
<li>
<p><strong>æ¶æ„è®¾è®¡é¢˜</strong>ï¼šå¦‚æœè¦è®¾è®¡ä¸€ä¸ªæ”¯æŒ1000ä¸ªAgentåŒæ—¶åä½œçš„ç³»ç»Ÿï¼Œä½ ä¼šå¦‚ä½•ä¼˜åŒ–é€šä¿¡æ¶æ„å’Œè°ƒåº¦ç®—æ³•ï¼Ÿ</p>
</li>
<li>
<p><strong>å®é™…åº”ç”¨é¢˜</strong>ï¼šåœ¨ç”µå•†å¹³å°ä¸­ï¼Œå¦‚ä½•è®¾è®¡å¤šAgentç³»ç»Ÿæ¥å¤„ç†è®¢å•ã€åº“å­˜ã€ç‰©æµã€å®¢æœç­‰ä¸åŒä¸šåŠ¡æ¨¡å—çš„åä½œï¼Ÿ</p>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–é¢˜</strong>ï¼šå½“ç³»ç»Ÿå‡ºç°Agentå“åº”æ—¶é—´è¿‡é•¿çš„é—®é¢˜æ—¶ï¼Œä½ ä¼šä»å“ªäº›ç»´åº¦è¿›è¡Œæ’æŸ¥å’Œä¼˜åŒ–ï¼Ÿ</p>
</li>
<li>
<p><strong>åˆ›æ–°æ€è€ƒé¢˜</strong>ï¼šç»“åˆåŒºå—é“¾æŠ€æœ¯ï¼Œå¦‚ä½•è®¾è®¡ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„å¤šAgentåä½œç³»ç»Ÿï¼Œç¡®ä¿Agenté—´çš„ä¿¡ä»»å’Œæ¿€åŠ±æœºåˆ¶ï¼Ÿ</p>
</li>
</ol>
<hr>
<blockquote>
<p><em>&quot;åœ¨AIçš„ä¸–ç•Œé‡Œï¼Œåä½œä¸ä»…æ˜¯æŠ€æœ¯ï¼Œæ›´æ˜¯è‰ºæœ¯ã€‚æ¯ä¸ªæ™ºèƒ½ä½“éƒ½æ˜¯äº¤å“ä¹å›¢ä¸­çš„ä¸€å‘˜ï¼Œåªæœ‰å’Œè°åä½œï¼Œæ‰èƒ½å¥å‡ºæœ€ç¾å¦™çš„ä¹ç« ã€‚&quot;</em></p>
<p><strong>â€”â€”ç¬¬27ç« å­¦ä¹ æ„Ÿæ‚Ÿ</strong></p>
</blockquote>
<p><strong>æ­å–œå®Œæˆç¬¬27ç« å­¦ä¹ ï¼ğŸ‰</strong></p>
<pre class="hljs"><code><div></div></code></pre>

</body>
</html>
