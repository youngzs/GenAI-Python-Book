# ç¬¬11ç« ï¼šæ•°æ®ç»“æ„-å­—å…¸ä¸é›†åˆ

> ğŸ’¡ **ç« èŠ‚å¯¼è¯­**  
> å¦‚æœè¯´åˆ—è¡¨æ˜¯è´­ç‰©è½¦ï¼Œé‚£ä¹ˆå­—å…¸å°±æ˜¯é€šè®¯å½•â€”â€”æ¯ä¸ªå§“åéƒ½å¯¹åº”ä¸€ä¸ªç”µè¯å·ç ã€‚è€Œé›†åˆå°±åƒç­çº§åå•ï¼Œæ¯ä¸ªå­¦ç”Ÿéƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œè¿˜å¯ä»¥è¿›è¡Œäº¤é›†ã€å¹¶é›†ç­‰æ•°å­¦è¿ç®—ã€‚æœ¬ç« å°†å¸¦ä½ æŒæ¡Pythonä¸­æœ€é‡è¦çš„ä¸¤ç§æ•°æ®ç»“æ„ï¼šå­—å…¸å’Œé›†åˆã€‚

## ğŸ¯ å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬ç« å­¦ä¹ åï¼Œä½ å°†èƒ½å¤Ÿï¼š

### ğŸ“š çŸ¥è¯†ç›®æ ‡
- **ç†è§£å­—å…¸çš„æœ¬è´¨**ï¼šæŒæ¡é”®å€¼å¯¹æ˜ å°„çš„æ¦‚å¿µå’Œå“ˆå¸Œè¡¨åŸç†
- **æŒæ¡å­—å…¸æ“ä½œ**ï¼šç†Ÿç»ƒä½¿ç”¨å­—å…¸çš„åˆ›å»ºã€è®¿é—®ã€ä¿®æ”¹ã€éå†ç­‰æ“ä½œ
- **ç†è§£é›†åˆç‰¹æ€§**ï¼šæŒæ¡é›†åˆçš„å”¯ä¸€æ€§å’Œæ•°å­¦è¿ç®—ç‰¹æ€§
- **æŒæ¡é›†åˆè¿ç®—**ï¼šç†Ÿç»ƒä½¿ç”¨äº¤é›†ã€å¹¶é›†ã€å·®é›†ç­‰é›†åˆè¿ç®—
- **ç†è§£æ€§èƒ½ä¼˜åŠ¿**ï¼šäº†è§£å“ˆå¸Œè¡¨O(1)æ—¶é—´å¤æ‚åº¦çš„ä¼˜åŠ¿

### ğŸ› ï¸ æŠ€èƒ½ç›®æ ‡
- **å­—å…¸æ¨å¯¼å¼**ï¼šèƒ½å¤Ÿä½¿ç”¨å­—å…¸æ¨å¯¼å¼è¿›è¡Œé«˜æ•ˆæ•°æ®å¤„ç†
- **åµŒå¥—å­—å…¸**ï¼šèƒ½å¤Ÿå¤„ç†å¤æ‚çš„å¤šå±‚åµŒå¥—å­—å…¸ç»“æ„
- **é›†åˆæ¨å¯¼å¼**ï¼šèƒ½å¤Ÿä½¿ç”¨é›†åˆæ¨å¯¼å¼è¿›è¡Œæ•°æ®ç­›é€‰å’Œå»é‡
- **æ€§èƒ½ä¼˜åŒ–**ï¼šèƒ½å¤Ÿæ ¹æ®åœºæ™¯é€‰æ‹©æœ€ä¼˜çš„æ•°æ®ç»“æ„
- **ç»¼åˆåº”ç”¨**ï¼šèƒ½å¤Ÿç»“åˆå­—å…¸å’Œé›†åˆè§£å†³å®é™…é—®é¢˜

### ğŸ¯ åº”ç”¨ç›®æ ‡
- **æ•°æ®ç®¡ç†**ï¼šèƒ½å¤Ÿè®¾è®¡å’Œå®ç°å¤æ‚çš„æ•°æ®ç®¡ç†ç³»ç»Ÿ
- **æ•°æ®åˆ†æ**ï¼šèƒ½å¤Ÿä½¿ç”¨å­—å…¸å’Œé›†åˆè¿›è¡Œæ•°æ®ç»Ÿè®¡å’Œåˆ†æ
- **ç®—æ³•ä¼˜åŒ–**ï¼šèƒ½å¤Ÿåˆ©ç”¨å“ˆå¸Œè¡¨ç‰¹æ€§ä¼˜åŒ–ç®—æ³•æ€§èƒ½
- **é¡¹ç›®å¼€å‘**ï¼šèƒ½å¤Ÿåœ¨å®é™…é¡¹ç›®ä¸­åˆç†è¿ç”¨å­—å…¸å’Œé›†åˆ

## ğŸ—ºï¸ çŸ¥è¯†å›¾è°±

```mermaid
mindmap
  root((ç¬¬11ç« <br/>å­—å…¸ä¸é›†åˆ))
    å­—å…¸åŸºç¡€
      æ¦‚å¿µç†è§£
        é”®å€¼å¯¹æ˜ å°„
        å“ˆå¸Œè¡¨åŸç†
        é€šè®¯å½•æ¯”å–»
      åˆ›å»ºæ–¹æ³•
        ç›´æ¥åˆ›å»º
        dict()æ„é€ 
        fromkeys()æ–¹æ³•
        å­—å…¸æ¨å¯¼å¼
      åŸºç¡€æ“ä½œ
        é”®å€¼è®¿é—®
        æ·»åŠ ä¿®æ”¹
        åˆ é™¤æ“ä½œ
        éå†æ–¹æ³•
      å¸¸ç”¨æ–¹æ³•
        get()å®‰å…¨è®¿é—®
        keys()è·å–é”®
        values()è·å–å€¼
        items()è·å–é¡¹
        update()åˆå¹¶
        pop()å¼¹å‡º
    å­—å…¸é«˜çº§
      æ¨å¯¼å¼
        åŸºç¡€è¯­æ³•
        æ¡ä»¶ç­›é€‰
        å¤æ‚è¡¨è¾¾å¼
      åµŒå¥—å­—å…¸
        å¤šå±‚ç»“æ„
        æ·±åº¦è®¿é—®
        é€’å½’å¤„ç†
      æ€§èƒ½ä¼˜åŒ–
        æŸ¥æ‰¾æ•ˆç‡
        å†…å­˜ä½¿ç”¨
        æœ€ä½³å®è·µ
    é›†åˆåŸºç¡€
      æ¦‚å¿µç†è§£
        å”¯ä¸€æ€§ç‰¹å¾
        æ— åºæ€§ç‰¹å¾
        ç­çº§åå•æ¯”å–»
      åˆ›å»ºæ–¹æ³•
        ç›´æ¥åˆ›å»º
        set()æ„é€ 
        é›†åˆæ¨å¯¼å¼
      åŸºç¡€æ“ä½œ
        æ·»åŠ åˆ é™¤
        æˆå‘˜æµ‹è¯•
        é•¿åº¦è·å–
    é›†åˆè¿ç®—
      æ•°å­¦è¿ç®—
        äº¤é›†intersection
        å¹¶é›†union
        å·®é›†difference
        å¯¹ç§°å·®symmetric_difference
      è¿ç®—ç¬¦
        &äº¤é›†
        |å¹¶é›†
        -å·®é›†
        ^å¯¹ç§°å·®
      å®é™…åº”ç”¨
        æ•°æ®å»é‡
        æƒé™ç®¡ç†
        æ•°æ®åˆ†æ
    ç»¼åˆåº”ç”¨
      æ€§èƒ½å¯¹æ¯”
        æ—¶é—´å¤æ‚åº¦
        ç©ºé—´å¤æ‚åº¦
        é€‚ç”¨åœºæ™¯
      é€‰æ‹©ç­–ç•¥
        æ•°æ®ç‰¹ç‚¹
        æ“ä½œéœ€æ±‚
        æ€§èƒ½è¦æ±‚
      é¡¹ç›®æ¡ˆä¾‹
        å›¾ä¹¦ç®¡ç†
        ç”¨æˆ·æƒé™
        æ•°æ®åˆ†æ
```

## ğŸ“‹ æœ¬ç« å†…å®¹æ¦‚è§ˆ

| èŠ‚æ¬¡ | æ ‡é¢˜ | æ ¸å¿ƒå†…å®¹ | å­¦ä¹ é‡ç‚¹ |
|------|------|----------|----------|
| 11.1 | å­—å…¸åŸºç¡€ | å­—å…¸åˆ›å»ºã€è®¿é—®ã€ä¿®æ”¹ã€éå† | é”®å€¼å¯¹æ¦‚å¿µï¼ŒåŸºç¡€æ“ä½œ |
| 11.2 | å­—å…¸é«˜çº§æ“ä½œ | å­—å…¸æ¨å¯¼å¼ã€åµŒå¥—å­—å…¸ã€æ€§èƒ½ä¼˜åŒ– | é«˜æ•ˆæ•°æ®å¤„ç†æŠ€å·§ |
| 11.3 | é›†åˆè¯¦è§£ | é›†åˆåˆ›å»ºã€æ•°å­¦è¿ç®—ã€æ¨å¯¼å¼ | é›†åˆç‰¹æ€§å’Œæ•°å­¦æ€ç»´ |
| 11.4 | ç»¼åˆåº”ç”¨ | æ€§èƒ½å¯¹æ¯”ã€é€‰æ‹©ç­–ç•¥ã€é¡¹ç›®æ¡ˆä¾‹ | å®é™…åº”ç”¨å’Œä¼˜åŒ– |

---

## 11.1 å­—å…¸åŸºç¡€

### ğŸ§  æ¦‚å¿µç†è§£ï¼šå­—å…¸å°±åƒé€šè®¯å½•

æƒ³è±¡ä¸€ä¸‹ä½ çš„æ‰‹æœºé€šè®¯å½•ï¼š
- **å§“å** â†’ **ç”µè¯å·ç **
- **å¼ ä¸‰** â†’ **13800138000**
- **æå››** â†’ **13900139000**

è¿™å°±æ˜¯å­—å…¸çš„æœ¬è´¨ï¼š**é”®å€¼å¯¹æ˜ å°„**ï¼ˆKey-Value Mappingï¼‰

```python
# é€šè®¯å½•å°±æ˜¯ä¸€ä¸ªå­—å…¸
contacts = {
    "å¼ ä¸‰": "13800138000",
    "æå››": "13900139000", 
    "ç‹äº”": "13700137000"
}

# é€šè¿‡å§“åï¼ˆé”®ï¼‰å¿«é€Ÿæ‰¾åˆ°ç”µè¯ï¼ˆå€¼ï¼‰
print(contacts["å¼ ä¸‰"])  # è¾“å‡º: 13800138000
```

### ğŸ”‘ å­—å…¸çš„æ ¸å¿ƒç‰¹ç‚¹

1. **é”®å€¼å¯¹å­˜å‚¨**ï¼šæ¯ä¸ªå…ƒç´ éƒ½æ˜¯"é”®:å€¼"çš„å½¢å¼
2. **é”®å”¯ä¸€æ€§**ï¼šæ¯ä¸ªé”®åªèƒ½å‡ºç°ä¸€æ¬¡ï¼ˆå°±åƒé€šè®¯å½•é‡Œä¸èƒ½æœ‰é‡åï¼‰
3. **å¿«é€ŸæŸ¥æ‰¾**ï¼šé€šè¿‡é”®å¯ä»¥O(1)æ—¶é—´æ‰¾åˆ°å€¼
4. **å¯å˜æ€§**ï¼šå¯ä»¥æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤é”®å€¼å¯¹
5. **æ— åºæ€§**ï¼šPython 3.7+ä¿æŒæ’å…¥é¡ºåºï¼Œä½†ä¸ä¾èµ–é¡ºåº

### ğŸ“ å­—å…¸çš„åˆ›å»ºæ–¹æ³•

#### æ–¹æ³•1ï¼šç›´æ¥åˆ›å»º
```python
# åˆ›å»ºå­¦ç”Ÿä¿¡æ¯å­—å…¸
student = {
    "name": "å¼ ä¸‰",
    "age": 20,
    "major": "è®¡ç®—æœºç§‘å­¦",
    "score": 85
}

# åˆ›å»ºç©ºå­—å…¸
empty_dict = {}
```

#### æ–¹æ³•2ï¼šä½¿ç”¨dict()æ„é€ å‡½æ•°
```python
# ä»é”®å€¼å¯¹åˆ—è¡¨åˆ›å»º
items = [("name", "æå››"), ("age", 21), ("major", "æ•°å­¦")]
student2 = dict(items)

# ä½¿ç”¨å…³é”®å­—å‚æ•°åˆ›å»º
student3 = dict(name="ç‹äº”", age=19, major="ç‰©ç†")

# ä»å…¶ä»–å­—å…¸åˆ›å»ºï¼ˆå¤åˆ¶ï¼‰
student4 = dict(student)
```

#### æ–¹æ³•3ï¼šä½¿ç”¨fromkeys()æ–¹æ³•
```python
# åˆ›å»ºå…·æœ‰ç›¸åŒå€¼çš„å­—å…¸
subjects = ["æ•°å­¦", "ç‰©ç†", "åŒ–å­¦", "ç”Ÿç‰©"]
scores = dict.fromkeys(subjects, 0)  # æ‰€æœ‰ç§‘ç›®åˆå§‹åˆ†æ•°ä¸º0
print(scores)  # {'æ•°å­¦': 0, 'ç‰©ç†': 0, 'åŒ–å­¦': 0, 'ç”Ÿç‰©': 0}
```

#### æ–¹æ³•4ï¼šå­—å…¸æ¨å¯¼å¼ï¼ˆé«˜çº§æŠ€å·§ï¼‰
```python
# åˆ›å»ºå¹³æ–¹æ•°å­—å…¸
squares = {x: x**2 for x in range(1, 6)}
print(squares)  # {1: 1, 2: 4, 3: 9, 4: 16, 5: 25}

# ä»åˆ—è¡¨åˆ›å»ºç´¢å¼•å­—å…¸
names = ["å¼ ä¸‰", "æå››", "ç‹äº”"]
name_index = {name: i for i, name in enumerate(names)}
print(name_index)  # {'å¼ ä¸‰': 0, 'æå››': 1, 'ç‹äº”': 2}
```

### ğŸ” å­—å…¸çš„è®¿é—®æ“ä½œ

#### åŸºç¡€è®¿é—®
```python
student = {
    "name": "å¼ ä¸‰",
    "age": 20,
    "major": "è®¡ç®—æœºç§‘å­¦",
    "score": 85
}

# é€šè¿‡é”®è®¿é—®å€¼
print(student["name"])    # å¼ ä¸‰
print(student["age"])     # 20

# è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæŠ¥é”™
# print(student["height"])  # KeyError: 'height'
```

#### å®‰å…¨è®¿é—®ï¼šget()æ–¹æ³•
```python
# ä½¿ç”¨get()æ–¹æ³•å®‰å…¨è®¿é—®
print(student.get("name"))        # å¼ ä¸‰
print(student.get("height"))      # Noneï¼ˆä¸å­˜åœ¨æ—¶è¿”å›Noneï¼‰
print(student.get("height", 170)) # 170ï¼ˆä¸å­˜åœ¨æ—¶è¿”å›é»˜è®¤å€¼ï¼‰

# æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨
if "height" in student:
    print(f"èº«é«˜ï¼š{student['height']}")
else:
    print("èº«é«˜ä¿¡æ¯ä¸å­˜åœ¨")
```

### âœï¸ å­—å…¸çš„ä¿®æ”¹æ“ä½œ

#### æ·»åŠ å’Œä¿®æ”¹
```python
student = {"name": "å¼ ä¸‰", "age": 20}

# æ·»åŠ æ–°çš„é”®å€¼å¯¹
student["major"] = "è®¡ç®—æœºç§‘å­¦"
student["score"] = 85

# ä¿®æ”¹å·²å­˜åœ¨çš„å€¼
student["age"] = 21

print(student)
# {'name': 'å¼ ä¸‰', 'age': 21, 'major': 'è®¡ç®—æœºç§‘å­¦', 'score': 85}
```

#### åˆ é™¤æ“ä½œ
```python
student = {
    "name": "å¼ ä¸‰", 
    "age": 20, 
    "major": "è®¡ç®—æœºç§‘å­¦", 
    "score": 85,
    "temp": "ä¸´æ—¶æ•°æ®"
}

# æ–¹æ³•1ï¼šdelè¯­å¥
del student["temp"]

# æ–¹æ³•2ï¼špop()æ–¹æ³•ï¼ˆè¿”å›è¢«åˆ é™¤çš„å€¼ï¼‰
score = student.pop("score")
print(f"åˆ é™¤çš„åˆ†æ•°ï¼š{score}")  # åˆ é™¤çš„åˆ†æ•°ï¼š85

# æ–¹æ³•3ï¼špop()æ–¹æ³•å®‰å…¨åˆ é™¤ï¼ˆä¸å­˜åœ¨æ—¶è¿”å›é»˜è®¤å€¼ï¼‰
height = student.pop("height", "æœªçŸ¥")
print(f"èº«é«˜ï¼š{height}")  # èº«é«˜ï¼šæœªçŸ¥

# æ–¹æ³•4ï¼špopitem()åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªé”®å€¼å¯¹
last_item = student.popitem()
print(f"åˆ é™¤çš„é¡¹ï¼š{last_item}")

# æ–¹æ³•5ï¼šclear()æ¸…ç©ºæ‰€æœ‰å†…å®¹
# student.clear()  # å­—å…¸å˜ä¸ºç©º {}
```

### ğŸ”„ å­—å…¸çš„éå†æ–¹æ³•

```python
student = {
    "name": "å¼ ä¸‰",
    "age": 20,
    "major": "è®¡ç®—æœºç§‘å­¦",
    "score": 85
}

# æ–¹æ³•1ï¼šéå†é”®
print("=== éå†é”® ===")
for key in student:
    print(f"é”®ï¼š{key}")

# æ–¹æ³•2ï¼šéå†é”®ï¼ˆæ˜¾å¼ï¼‰
print("\n=== éå†é”®ï¼ˆæ˜¾å¼ï¼‰===")
for key in student.keys():
    print(f"é”®ï¼š{key}ï¼Œå€¼ï¼š{student[key]}")

# æ–¹æ³•3ï¼šéå†å€¼
print("\n=== éå†å€¼ ===")
for value in student.values():
    print(f"å€¼ï¼š{value}")

# æ–¹æ³•4ï¼šéå†é”®å€¼å¯¹ï¼ˆæ¨èï¼‰
print("\n=== éå†é”®å€¼å¯¹ ===")
for key, value in student.items():
    print(f"{key}: {value}")
```

### ğŸ› ï¸ å­—å…¸çš„å¸¸ç”¨æ–¹æ³•

```python
student = {
    "name": "å¼ ä¸‰",
    "age": 20,
    "major": "è®¡ç®—æœºç§‘å­¦",
    "score": 85
}

# 1. keys() - è·å–æ‰€æœ‰é”®
keys = student.keys()
print(f"æ‰€æœ‰é”®ï¼š{list(keys)}")

# 2. values() - è·å–æ‰€æœ‰å€¼
values = student.values()
print(f"æ‰€æœ‰å€¼ï¼š{list(values)}")

# 3. items() - è·å–æ‰€æœ‰é”®å€¼å¯¹
items = student.items()
print(f"æ‰€æœ‰é”®å€¼å¯¹ï¼š{list(items)}")

# 4. get() - å®‰å…¨è·å–å€¼
name = student.get("name", "æœªçŸ¥")
height = student.get("height", 170)

# 5. update() - æ›´æ–°å­—å…¸
new_info = {"height": 175, "weight": 65, "age": 21}
student.update(new_info)
print(f"æ›´æ–°åï¼š{student}")

# 6. setdefault() - è®¾ç½®é»˜è®¤å€¼
student.setdefault("phone", "æœªæä¾›")  # å¦‚æœphoneä¸å­˜åœ¨ï¼Œè®¾ç½®é»˜è®¤å€¼
student.setdefault("name", "æå››")     # å¦‚æœnameå­˜åœ¨ï¼Œä¸æ”¹å˜
print(f"è®¾ç½®é»˜è®¤å€¼åï¼š{student}")

# 7. copy() - æµ…å¤åˆ¶
student_copy = student.copy()
print(f"å¤åˆ¶çš„å­—å…¸ï¼š{student_copy}")
```

### ğŸ’¼ ç¤ºä¾‹1ï¼šå­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿ

è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿæ¥æŒæ¡å­—å…¸çš„åŸºç¡€æ“ä½œï¼š

```python
class StudentManager:
    """å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿ - å­—å…¸åŸºç¡€åº”ç”¨"""
    
    def __init__(self):
        """åˆå§‹åŒ–å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ"""
        self.students = {}  # ä½¿ç”¨å­—å…¸å­˜å‚¨å­¦ç”Ÿä¿¡æ¯
        print("ğŸ“š å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿå·²å¯åŠ¨")
    
    def add_student(self, student_id, name, age, major, score):
        """æ·»åŠ å­¦ç”Ÿä¿¡æ¯"""
        if student_id in self.students:
            print(f"âŒ å­¦å· {student_id} å·²å­˜åœ¨ï¼")
            return False
        
        # åˆ›å»ºå­¦ç”Ÿä¿¡æ¯å­—å…¸
        student_info = {
            "name": name,
            "age": age,
            "major": major,
            "score": score,
            "created_time": self._get_current_time()
        }
        
        self.students[student_id] = student_info
        print(f"âœ… æˆåŠŸæ·»åŠ å­¦ç”Ÿï¼š{name} (å­¦å·ï¼š{student_id})")
        return True
    
    def get_student(self, student_id):
        """è·å–å­¦ç”Ÿä¿¡æ¯"""
        student = self.students.get(student_id)
        if student:
            print(f"\nğŸ“‹ å­¦ç”Ÿä¿¡æ¯ (å­¦å·ï¼š{student_id})")
            print("-" * 30)
            for key, value in student.items():
                print(f"{key}: {value}")
            return student
        else:
            print(f"âŒ æœªæ‰¾åˆ°å­¦å·ä¸º {student_id} çš„å­¦ç”Ÿ")
            return None
    
    def update_student(self, student_id, **kwargs):
        """æ›´æ–°å­¦ç”Ÿä¿¡æ¯"""
        if student_id not in self.students:
            print(f"âŒ å­¦å· {student_id} ä¸å­˜åœ¨ï¼")
            return False
        
        # æ›´æ–°ä¿¡æ¯
        old_info = self.students[student_id].copy()
        self.students[student_id].update(kwargs)
        
        print(f"âœ… æˆåŠŸæ›´æ–°å­¦ç”Ÿ {student_id} çš„ä¿¡æ¯")
        print("æ›´æ–°å†…å®¹ï¼š")
        for key, value in kwargs.items():
            old_value = old_info.get(key, "æ— ")
            print(f"  {key}: {old_value} â†’ {value}")
        
        return True
    
    def delete_student(self, student_id):
        """åˆ é™¤å­¦ç”Ÿä¿¡æ¯"""
        if student_id in self.students:
            student_name = self.students[student_id]["name"]
            del self.students[student_id]
            print(f"âœ… æˆåŠŸåˆ é™¤å­¦ç”Ÿï¼š{student_name} (å­¦å·ï¼š{student_id})")
            return True
        else:
            print(f"âŒ å­¦å· {student_id} ä¸å­˜åœ¨ï¼")
            return False
    
    def list_all_students(self):
        """åˆ—å‡ºæ‰€æœ‰å­¦ç”Ÿ"""
        if not self.students:
            print("ğŸ“ æš‚æ— å­¦ç”Ÿä¿¡æ¯")
            return
        
        print(f"\nğŸ“Š æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯ (å…± {len(self.students)} äºº)")
        print("=" * 60)
        print(f"{'å­¦å·':<10} {'å§“å':<8} {'å¹´é¾„':<6} {'ä¸“ä¸š':<12} {'åˆ†æ•°':<6}")
        print("-" * 60)
        
        for student_id, info in self.students.items():
            print(f"{student_id:<10} {info['name']:<8} {info['age']:<6} "
                  f"{info['major']:<12} {info['score']:<6}")
    
    def search_by_major(self, major):
        """æŒ‰ä¸“ä¸šæœç´¢å­¦ç”Ÿ"""
        results = {}
        for student_id, info in self.students.items():
            if info["major"] == major:
                results[student_id] = info
        
        if results:
            print(f"\nğŸ” {major} ä¸“ä¸šçš„å­¦ç”Ÿ (å…± {len(results)} äºº)")
            print("-" * 40)
            for student_id, info in results.items():
                print(f"å­¦å·ï¼š{student_id}, å§“åï¼š{info['name']}, åˆ†æ•°ï¼š{info['score']}")
        else:
            print(f"âŒ æœªæ‰¾åˆ° {major} ä¸“ä¸šçš„å­¦ç”Ÿ")
        
        return results
    
    def get_statistics(self):
        """è·å–ç»Ÿè®¡ä¿¡æ¯"""
        if not self.students:
            print("ğŸ“Š æš‚æ— æ•°æ®å¯ç»Ÿè®¡")
            return
        
        # è®¡ç®—ç»Ÿè®¡æ•°æ®
        total_students = len(self.students)
        total_score = sum(info["score"] for info in self.students.values())
        avg_score = total_score / total_students
        
        # ä¸“ä¸šç»Ÿè®¡
        major_count = {}
        for info in self.students.values():
            major = info["major"]
            major_count[major] = major_count.get(major, 0) + 1
        
        # å¹´é¾„ç»Ÿè®¡
        ages = [info["age"] for info in self.students.values()]
        avg_age = sum(ages) / len(ages)
        
        print(f"\nğŸ“Š ç»Ÿè®¡ä¿¡æ¯")
        print("=" * 30)
        print(f"å­¦ç”Ÿæ€»æ•°ï¼š{total_students}")
        print(f"å¹³å‡åˆ†æ•°ï¼š{avg_score:.2f}")
        print(f"å¹³å‡å¹´é¾„ï¼š{avg_age:.1f}")
        print(f"\nå„ä¸“ä¸šäººæ•°ï¼š")
        for major, count in major_count.items():
            print(f"  {major}: {count}äºº")
    
    def _get_current_time(self):
        """è·å–å½“å‰æ—¶é—´ï¼ˆç®€åŒ–ç‰ˆï¼‰"""
        import datetime
        return datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S")

# ä½¿ç”¨ç¤ºä¾‹
def student_management_demo():
    """å­¦ç”Ÿç®¡ç†ç³»ç»Ÿæ¼”ç¤º"""
    print("ğŸ“ å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿæ¼”ç¤º")
    print("=" * 50)
    
    # åˆ›å»ºç®¡ç†ç³»ç»Ÿ
    manager = StudentManager()
    
    # æ·»åŠ å­¦ç”Ÿ
    print("\nğŸ“ æ·»åŠ å­¦ç”Ÿä¿¡æ¯:")
    manager.add_student("2021001", "å¼ ä¸‰", 20, "è®¡ç®—æœºç§‘å­¦", 85)
    manager.add_student("2021002", "æå››", 21, "æ•°å­¦", 92)
    manager.add_student("2021003", "ç‹äº”", 19, "è®¡ç®—æœºç§‘å­¦", 78)
    manager.add_student("2021004", "èµµå…­", 22, "ç‰©ç†", 88)
    manager.add_student("2021005", "é’±ä¸ƒ", 20, "æ•°å­¦", 95)
    
    # å°è¯•æ·»åŠ é‡å¤å­¦å·
    manager.add_student("2021001", "é‡å¤å­¦å·", 20, "æµ‹è¯•", 60)
    
    # æŸ¥çœ‹æ‰€æœ‰å­¦ç”Ÿ
    manager.list_all_students()
    
    # æŸ¥è¯¢ç‰¹å®šå­¦ç”Ÿ
    print("\nğŸ” æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯:")
    manager.get_student("2021002")
    manager.get_student("2021999")  # ä¸å­˜åœ¨çš„å­¦å·
    
    # æ›´æ–°å­¦ç”Ÿä¿¡æ¯
    print("\nâœï¸ æ›´æ–°å­¦ç”Ÿä¿¡æ¯:")
    manager.update_student("2021003", score=82, age=20)
    
    # æŒ‰ä¸“ä¸šæœç´¢
    print("\nğŸ” æŒ‰ä¸“ä¸šæœç´¢:")
    manager.search_by_major("è®¡ç®—æœºç§‘å­¦")
    manager.search_by_major("åŒ–å­¦")  # ä¸å­˜åœ¨çš„ä¸“ä¸š
    
    # ç»Ÿè®¡ä¿¡æ¯
    manager.get_statistics()
    
    # åˆ é™¤å­¦ç”Ÿ
    print("\nğŸ—‘ï¸ åˆ é™¤å­¦ç”Ÿ:")
    manager.delete_student("2021004")
    manager.delete_student("2021999")  # ä¸å­˜åœ¨çš„å­¦å·
    
    # æŸ¥çœ‹åˆ é™¤åçš„ç»“æœ
    manager.list_all_students()

# è¿è¡Œæ¼”ç¤º
if __name__ == "__main__":
    student_management_demo()
```

**è¿è¡Œç»“æœï¼š**
```
ğŸ“ å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿæ¼”ç¤º
==================================================
ğŸ“š å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿå·²å¯åŠ¨

ğŸ“ æ·»åŠ å­¦ç”Ÿä¿¡æ¯:
âœ… æˆåŠŸæ·»åŠ å­¦ç”Ÿï¼šå¼ ä¸‰ (å­¦å·ï¼š2021001)
âœ… æˆåŠŸæ·»åŠ å­¦ç”Ÿï¼šæå›› (å­¦å·ï¼š2021002)
âœ… æˆåŠŸæ·»åŠ å­¦ç”Ÿï¼šç‹äº” (å­¦å·ï¼š2021003)
âœ… æˆåŠŸæ·»åŠ å­¦ç”Ÿï¼šèµµå…­ (å­¦å·ï¼š2021004)
âœ… æˆåŠŸæ·»åŠ å­¦ç”Ÿï¼šé’±ä¸ƒ (å­¦å·ï¼š2021005)
âŒ å­¦å· 2021001 å·²å­˜åœ¨ï¼

ğŸ“Š æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯ (å…± 5 äºº)
============================================================
å­¦å·         å§“å       å¹´é¾„     ä¸“ä¸š           åˆ†æ•°    
------------------------------------------------------------
2021001    å¼ ä¸‰       20     è®¡ç®—æœºç§‘å­¦        85    
2021002    æå››       21     æ•°å­¦            92    
2021003    ç‹äº”       19     è®¡ç®—æœºç§‘å­¦        78    
2021004    èµµå…­       22     ç‰©ç†            88    
2021005    é’±ä¸ƒ       20     æ•°å­¦            95    

ğŸ” æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯:

ğŸ“‹ å­¦ç”Ÿä¿¡æ¯ (å­¦å·ï¼š2021002)
------------------------------
name: æå››
age: 21
major: æ•°å­¦
score: 92
created_time: 2024-02-01 10:30:15
âŒ æœªæ‰¾åˆ°å­¦å·ä¸º 2021999 çš„å­¦ç”Ÿ

âœï¸ æ›´æ–°å­¦ç”Ÿä¿¡æ¯:
âœ… æˆåŠŸæ›´æ–°å­¦ç”Ÿ 2021003 çš„ä¿¡æ¯
æ›´æ–°å†…å®¹ï¼š
  score: 78 â†’ 82
  age: 19 â†’ 20

ğŸ” æŒ‰ä¸“ä¸šæœç´¢:

ğŸ” è®¡ç®—æœºç§‘å­¦ ä¸“ä¸šçš„å­¦ç”Ÿ (å…± 2 äºº)
----------------------------------------
å­¦å·ï¼š2021001, å§“åï¼šå¼ ä¸‰, åˆ†æ•°ï¼š85
å­¦å·ï¼š2021003, å§“åï¼šç‹äº”, åˆ†æ•°ï¼š82
âŒ æœªæ‰¾åˆ° åŒ–å­¦ ä¸“ä¸šçš„å­¦ç”Ÿ

ğŸ“Š ç»Ÿè®¡ä¿¡æ¯
==============================
å­¦ç”Ÿæ€»æ•°ï¼š5
å¹³å‡åˆ†æ•°ï¼š88.40
å¹³å‡å¹´é¾„ï¼š20.4

å„ä¸“ä¸šäººæ•°ï¼š
  è®¡ç®—æœºç§‘å­¦: 2äºº
  æ•°å­¦: 2äºº
  ç‰©ç†: 1äºº

ğŸ—‘ï¸ åˆ é™¤å­¦ç”Ÿ:
âœ… æˆåŠŸåˆ é™¤å­¦ç”Ÿï¼šèµµå…­ (å­¦å·ï¼š2021004)
âŒ å­¦å· 2021999 ä¸å­˜åœ¨ï¼

ğŸ“Š æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯ (å…± 4 äºº)
============================================================
å­¦å·         å§“å       å¹´é¾„     ä¸“ä¸š           åˆ†æ•°    
------------------------------------------------------------
2021001    å¼ ä¸‰       20     è®¡ç®—æœºç§‘å­¦        85    
2021002    æå››       21     æ•°å­¦            92    
2021003    ç‹äº”       20     è®¡ç®—æœºç§‘å­¦        82    
2021005    é’±ä¸ƒ       20     æ•°å­¦            95    
```

### ğŸ¯ ç¤ºä¾‹1æ€»ç»“

è¿™ä¸ªå­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿå±•ç¤ºäº†å­—å…¸çš„æ ¸å¿ƒåº”ç”¨ï¼š

1. **æ•°æ®å­˜å‚¨**ï¼šç”¨å­—å…¸å­˜å‚¨ç»“æ„åŒ–æ•°æ®
2. **å¿«é€ŸæŸ¥æ‰¾**ï¼šé€šè¿‡å­¦å·ï¼ˆé”®ï¼‰å¿«é€Ÿæ‰¾åˆ°å­¦ç”Ÿä¿¡æ¯ï¼ˆå€¼ï¼‰
3. **åŠ¨æ€ä¿®æ”¹**ï¼šå¯ä»¥éšæ—¶æ·»åŠ ã€æ›´æ–°ã€åˆ é™¤å­¦ç”Ÿä¿¡æ¯
4. **éå†æ“ä½œ**ï¼šå¯ä»¥éå†æ‰€æœ‰å­¦ç”Ÿè¿›è¡Œç»Ÿè®¡åˆ†æ
5. **å®‰å…¨è®¿é—®**ï¼šä½¿ç”¨get()æ–¹æ³•é¿å…KeyErrorå¼‚å¸¸

**å…³é”®æŠ€æœ¯ç‚¹ï¼š**
- åµŒå¥—å­—å…¸ï¼šæ¯ä¸ªå­¦ç”Ÿä¿¡æ¯æœ¬èº«å°±æ˜¯ä¸€ä¸ªå­—å…¸
- å­—å…¸æ–¹æ³•ï¼šget(), update(), items(), keys(), values()
- å¼‚å¸¸å¤„ç†ï¼šæ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨é¿å…é”™è¯¯
- æ•°æ®ç»Ÿè®¡ï¼šéå†å­—å…¸è¿›è¡Œè®¡ç®—å’Œåˆ†æ

--- 

## 11.2 å­—å…¸é«˜çº§æ“ä½œ

### ğŸš€ å­—å…¸æ¨å¯¼å¼ï¼šè‡ªåŠ¨åŒ–åç‰‡åˆ¶ä½œæœº

æƒ³è±¡ä¸€ä¸ªè‡ªåŠ¨åŒ–åç‰‡åˆ¶ä½œæœºï¼šè¾“å…¥å‘˜å·¥åˆ—è¡¨ï¼Œè‡ªåŠ¨ç”Ÿæˆæ¯ä¸ªäººçš„åç‰‡ä¿¡æ¯ã€‚è¿™å°±æ˜¯å­—å…¸æ¨å¯¼å¼çš„å¨åŠ›ï¼

#### åŸºç¡€è¯­æ³•
```python
# å­—å…¸æ¨å¯¼å¼çš„åŸºæœ¬è¯­æ³•
# {key_expression: value_expression for item in iterable}

# ç¤ºä¾‹ï¼šåˆ›å»ºå¹³æ–¹æ•°å­—å…¸
squares = {x: x**2 for x in range(1, 6)}
print(squares)  # {1: 1, 2: 4, 3: 9, 4: 16, 5: 25}

# ç¤ºä¾‹ï¼šä»åˆ—è¡¨åˆ›å»ºç´¢å¼•å­—å…¸
fruits = ["apple", "banana", "orange", "grape"]
fruit_index = {fruit: i for i, fruit in enumerate(fruits)}
print(fruit_index)  # {'apple': 0, 'banana': 1, 'orange': 2, 'grape': 3}
```

#### æ¡ä»¶ç­›é€‰
```python
# å¸¦æ¡ä»¶çš„å­—å…¸æ¨å¯¼å¼
# {key_expr: value_expr for item in iterable if condition}

# ç¤ºä¾‹ï¼šåªåŒ…å«å¶æ•°çš„å¹³æ–¹å­—å…¸
even_squares = {x: x**2 for x in range(1, 11) if x % 2 == 0}
print(even_squares)  # {2: 4, 4: 16, 6: 36, 8: 64, 10: 100}

# ç¤ºä¾‹ï¼šä»å­¦ç”Ÿåˆ—è¡¨åˆ›å»ºåŠæ ¼å­¦ç”Ÿå­—å…¸
students = [("å¼ ä¸‰", 85), ("æå››", 65), ("ç‹äº”", 92), ("èµµå…­", 58)]
passed_students = {name: score for name, score in students if score >= 60}
print(passed_students)  # {'å¼ ä¸‰': 85, 'æå››': 65, 'ç‹äº”': 92}
```

#### å¤æ‚è¡¨è¾¾å¼
```python
# å¤æ‚çš„é”®å€¼è¡¨è¾¾å¼
data = ["apple", "banana", "cherry"]

# åˆ›å»ºé•¿åº¦å’Œé¦–å­—æ¯çš„æ˜ å°„
length_first = {len(word): word[0].upper() for word in data}
print(length_first)  # {5: 'A', 6: 'C'}  # æ³¨æ„ï¼šç›¸åŒé•¿åº¦ä¼šè¦†ç›–

# æ›´å®‰å…¨çš„æ–¹å¼ï¼šä½¿ç”¨å…ƒç»„ä½œä¸ºé”®
word_info = {(len(word), word[0]): word.upper() for word in data}
print(word_info)  # {(5, 'a'): 'APPLE', (6, 'b'): 'BANANA', (6, 'c'): 'CHERRY'}
```

### ğŸ’¼ ç¤ºä¾‹2ï¼šè¯é¢‘ç»Ÿè®¡åˆ†æå™¨

è®©æˆ‘ä»¬ç”¨å­—å…¸æ¨å¯¼å¼åˆ›å»ºä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ï¼š

```python
import re
from collections import Counter

class TextAnalyzer:
    """æ–‡æœ¬åˆ†æå™¨ - å­—å…¸æ¨å¯¼å¼åº”ç”¨"""
    
    def __init__(self, text):
        """åˆå§‹åŒ–æ–‡æœ¬åˆ†æå™¨"""
        self.original_text = text
        self.words = self._extract_words(text)
        print(f"ğŸ“ æ–‡æœ¬åˆ†æå™¨å·²åˆå§‹åŒ–ï¼Œå…±æå– {len(self.words)} ä¸ªè¯æ±‡")
    
    def _extract_words(self, text):
        """æå–å•è¯ï¼ˆç®€åŒ–ç‰ˆï¼Œæ”¯æŒä¸­è‹±æ–‡ï¼‰"""
        # ç®€å•çš„è¯æ±‡æå–ï¼Œå®é™…åº”ç”¨ä¸­å¯èƒ½éœ€è¦æ›´å¤æ‚çš„åˆ†è¯
        words = re.findall(r'\w+', text.lower())
        return words
    
    def basic_word_count(self):
        """åŸºç¡€è¯é¢‘ç»Ÿè®¡ - ä½¿ç”¨å­—å…¸æ¨å¯¼å¼"""
        # è·å–å”¯ä¸€è¯æ±‡
        unique_words = set(self.words)
        
        # ä½¿ç”¨å­—å…¸æ¨å¯¼å¼ç»Ÿè®¡è¯é¢‘
        word_count = {word: self.words.count(word) for word in unique_words}
        
        print("\nğŸ“Š åŸºç¡€è¯é¢‘ç»Ÿè®¡ï¼ˆå­—å…¸æ¨å¯¼å¼ï¼‰:")
        for word, count in sorted(word_count.items(), key=lambda x: x[1], reverse=True)[:10]:
            print(f"  {word}: {count}æ¬¡")
        
        return word_count
    
    def advanced_word_analysis(self):
        """é«˜çº§è¯æ±‡åˆ†æ"""
        # è¯é•¿åº¦åˆ†å¸ƒ
        length_dist = {}
        for word in self.words:
            length = len(word)
            length_dist[length] = length_dist.get(length, 0) + 1
        
        print("\nğŸ“ è¯é•¿åº¦åˆ†å¸ƒ:")
        for length in sorted(length_dist.keys()):
            print(f"  {length}å­—ç¬¦: {length_dist[length]}ä¸ªè¯")
        
        # é¦–å­—æ¯åˆ†å¸ƒï¼ˆä½¿ç”¨å­—å…¸æ¨å¯¼å¼ï¼‰
        first_letter_words = {}
        for word in self.words:
            if word:  # ç¡®ä¿è¯ä¸ä¸ºç©º
                first_letter = word[0].upper()
                if first_letter not in first_letter_words:
                    first_letter_words[first_letter] = []
                first_letter_words[first_letter].append(word)
        
        # ç»Ÿè®¡æ¯ä¸ªé¦–å­—æ¯çš„è¯æ±‡æ•°é‡
        first_letter_count = {letter: len(words) for letter, words in first_letter_words.items()}
        
        print("\nğŸ”¤ é¦–å­—æ¯åˆ†å¸ƒ:")
        for letter in sorted(first_letter_count.keys()):
            print(f"  {letter}: {first_letter_count[letter]}ä¸ªè¯")
        
        return length_dist, first_letter_count
    
    def filter_words(self, min_length=3, min_frequency=2):
        """ç­›é€‰è¯æ±‡ - æ¡ä»¶å­—å…¸æ¨å¯¼å¼"""
        # å…ˆç»Ÿè®¡è¯é¢‘
        word_count = {word: self.words.count(word) for word in set(self.words)}
        
        # ç­›é€‰ç¬¦åˆæ¡ä»¶çš„è¯æ±‡
        filtered_words = {
            word: count for word, count in word_count.items() 
            if len(word) >= min_length and count >= min_frequency
        }
        
        print(f"\nğŸ” ç­›é€‰ç»“æœï¼ˆé•¿åº¦â‰¥{min_length}ï¼Œé¢‘ç‡â‰¥{min_frequency}ï¼‰:")
        for word, count in sorted(filtered_words.items(), key=lambda x: x[1], reverse=True):
            print(f"  {word}: {count}æ¬¡")
        
        return filtered_words
    
    def word_categories(self):
        """è¯æ±‡åˆ†ç±» - å¤æ‚å­—å…¸æ¨å¯¼å¼"""
        word_count = {word: self.words.count(word) for word in set(self.words)}
        
        # æŒ‰é¢‘ç‡åˆ†ç±»
        categories = {
            "é«˜é¢‘è¯": {word: count for word, count in word_count.items() if count >= 5},
            "ä¸­é¢‘è¯": {word: count for word, count in word_count.items() if 2 <= count < 5},
            "ä½é¢‘è¯": {word: count for word, count in word_count.items() if count == 1}
        }
        
        print("\nğŸ“‚ è¯æ±‡åˆ†ç±»:")
        for category, words in categories.items():
            print(f"  {category}: {len(words)}ä¸ª")
            if len(words) <= 10:  # åªæ˜¾ç¤ºå‰10ä¸ª
                for word, count in list(words.items())[:10]:
                    print(f"    {word}({count})")
            else:
                print(f"    æ˜¾ç¤ºå‰5ä¸ª: {list(words.keys())[:5]}...")
        
        return categories
    
    def generate_report(self):
        """ç”Ÿæˆåˆ†ææŠ¥å‘Š"""
        print("\n" + "="*50)
        print("ğŸ“‹ æ–‡æœ¬åˆ†ææŠ¥å‘Š")
        print("="*50)
        
        # åŸºæœ¬ç»Ÿè®¡
        total_words = len(self.words)
        unique_words = len(set(self.words))
        avg_word_length = sum(len(word) for word in self.words) / total_words if total_words > 0 else 0
        
        print(f"æ€»è¯æ•°: {total_words}")
        print(f"å”¯ä¸€è¯æ•°: {unique_words}")
        print(f"å¹³å‡è¯é•¿: {avg_word_length:.2f}")
        print(f"è¯æ±‡ä¸°å¯Œåº¦: {unique_words/total_words:.2%}")
        
        # è¯¦ç»†åˆ†æ
        self.basic_word_count()
        self.advanced_word_analysis()
        self.filter_words()
        self.word_categories()

# ä½¿ç”¨ç¤ºä¾‹
def text_analysis_demo():
    """æ–‡æœ¬åˆ†ææ¼”ç¤º"""
    print("ğŸ“š æ–‡æœ¬åˆ†æå™¨æ¼”ç¤º")
    print("=" * 50)
    
    # ç¤ºä¾‹æ–‡æœ¬ï¼ˆä¸­è‹±æ–‡æ··åˆï¼‰
    sample_text = """
    Pythonæ˜¯ä¸€é—¨å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ï¼ŒPythoné€‚åˆåˆå­¦è€…å­¦ä¹ ã€‚
    Python has powerful libraries for data analysis and machine learning.
    Many developers choose Python for web development and automation.
    å­¦ä¹ Pythonå¯ä»¥å¸®åŠ©ä½ åœ¨æ•°æ®ç§‘å­¦å’Œäººå·¥æ™ºèƒ½é¢†åŸŸå–å¾—æˆåŠŸã€‚
    Pythonçš„è¯­æ³•ç®€æ´æ˜äº†ï¼ŒPythonç¤¾åŒºæ´»è·ƒå‹å¥½ã€‚
    """
    
    # åˆ›å»ºåˆ†æå™¨
    analyzer = TextAnalyzer(sample_text)
    
    # ç”Ÿæˆå®Œæ•´æŠ¥å‘Š
    analyzer.generate_report()

# è¿è¡Œæ¼”ç¤º
if __name__ == "__main__":
    text_analysis_demo()
```

### ğŸ—ï¸ åµŒå¥—å­—å…¸ï¼šå¤šçº§æ–‡ä»¶å¤¹ç³»ç»Ÿ

åµŒå¥—å­—å…¸å°±åƒå¤šçº§æ–‡ä»¶å¤¹ç³»ç»Ÿï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹é‡Œè¿˜å¯ä»¥æœ‰å­æ–‡ä»¶å¤¹ï¼š

```python
# å¤æ‚çš„åµŒå¥—å­—å…¸ç»“æ„
company_data = {
    "departments": {
        "æŠ€æœ¯éƒ¨": {
            "manager": "å¼ ä¸‰",
            "employees": {
                "001": {"name": "æå››", "position": "é«˜çº§å·¥ç¨‹å¸ˆ", "salary": 15000},
                "002": {"name": "ç‹äº”", "position": "å·¥ç¨‹å¸ˆ", "salary": 12000},
                "003": {"name": "èµµå…­", "position": "åˆçº§å·¥ç¨‹å¸ˆ", "salary": 8000}
            },
            "budget": 500000,
            "projects": ["é¡¹ç›®A", "é¡¹ç›®B", "é¡¹ç›®C"]
        },
        "é”€å”®éƒ¨": {
            "manager": "é’±ä¸ƒ",
            "employees": {
                "101": {"name": "å­™å…«", "position": "é”€å”®ç»ç†", "salary": 13000},
                "102": {"name": "å‘¨ä¹", "position": "é”€å”®ä»£è¡¨", "salary": 9000}
            },
            "budget": 300000,
            "targets": {"Q1": 1000000, "Q2": 1200000, "Q3": 1500000, "Q4": 1800000}
        }
    },
    "company_info": {
        "name": "ç§‘æŠ€åˆ›æ–°å…¬å¸",
        "founded": 2020,
        "location": "åŒ—äº¬",
        "total_employees": 0  # å°†é€šè¿‡è®¡ç®—å¾—å‡º
    }
}

# è®¿é—®åµŒå¥—å­—å…¸
print("æŠ€æœ¯éƒ¨ç»ç†:", company_data["departments"]["æŠ€æœ¯éƒ¨"]["manager"])
print("å‘˜å·¥001çš„å§“å:", company_data["departments"]["æŠ€æœ¯éƒ¨"]["employees"]["001"]["name"])

# å®‰å…¨è®¿é—®åµŒå¥—å­—å…¸
def safe_get_nested(data, keys, default=None):
    """å®‰å…¨è·å–åµŒå¥—å­—å…¸çš„å€¼"""
    for key in keys:
        if isinstance(data, dict) and key in data:
            data = data[key]
        else:
            return default
    return data

# ä½¿ç”¨å®‰å…¨è®¿é—®
salary = safe_get_nested(company_data, ["departments", "æŠ€æœ¯éƒ¨", "employees", "001", "salary"])
print(f"å‘˜å·¥001çš„è–ªèµ„: {salary}")

# ä¸å­˜åœ¨çš„è·¯å¾„
invalid = safe_get_nested(company_data, ["departments", "äººäº‹éƒ¨", "manager"], "æœªçŸ¥")
print(f"äººäº‹éƒ¨ç»ç†: {invalid}")
```

### ğŸ”„ å­—å…¸åˆå¹¶ä¸æ›´æ–°

```python
# å­—å…¸åˆå¹¶çš„å¤šç§æ–¹æ³•
dict1 = {"a": 1, "b": 2, "c": 3}
dict2 = {"c": 4, "d": 5, "e": 6}

# æ–¹æ³•1: update() - ä¿®æ”¹åŸå­—å…¸
dict1_copy = dict1.copy()
dict1_copy.update(dict2)
print("update()æ–¹æ³•:", dict1_copy)  # {'a': 1, 'b': 2, 'c': 4, 'd': 5, 'e': 6}

# æ–¹æ³•2: {**dict1, **dict2} - åˆ›å»ºæ–°å­—å…¸
merged = {**dict1, **dict2}
print("è§£åŒ…æ–¹æ³•:", merged)  # {'a': 1, 'b': 2, 'c': 4, 'd': 5, 'e': 6}

# æ–¹æ³•3: dict1 | dict2 - Python 3.9+
# merged_new = dict1 | dict2
# print("ç®¡é“æ“ä½œç¬¦:", merged_new)

# å¤æ‚åˆå¹¶ï¼šä¿ç•™æ‰€æœ‰å€¼
def merge_with_lists(dict1, dict2):
    """åˆå¹¶å­—å…¸ï¼Œé‡å¤é”®çš„å€¼ç»„æˆåˆ—è¡¨"""
    result = {}
    all_keys = set(dict1.keys()) | set(dict2.keys())
    
    for key in all_keys:
        values = []
        if key in dict1:
            values.append(dict1[key])
        if key in dict2:
            values.append(dict2[key])
        
        result[key] = values[0] if len(values) == 1 else values
    
    return result

complex_merged = merge_with_lists(dict1, dict2)
print("å¤æ‚åˆå¹¶:", complex_merged)  # {'a': 1, 'b': 2, 'c': [3, 4], 'd': 5, 'e': 6}
```

### âš¡ å­—å…¸æ€§èƒ½ä¼˜åŒ–

```python
import time

def performance_comparison():
    """å­—å…¸æ€§èƒ½å¯¹æ¯”"""
    print("\nâš¡ å­—å…¸æ€§èƒ½å¯¹æ¯”æµ‹è¯•")
    print("=" * 40)
    
    # æµ‹è¯•æ•°æ®
    test_size = 100000
    test_data = list(range(test_size))
    
    # 1. å­—å…¸åˆ›å»ºæ€§èƒ½
    print("1. åˆ›å»ºæ€§èƒ½å¯¹æ¯”:")
    
    # æ–¹æ³•1: å¾ªç¯åˆ›å»º
    start_time = time.time()
    dict1 = {}
    for i in test_data:
        dict1[i] = i * 2
    time1 = time.time() - start_time
    print(f"   å¾ªç¯åˆ›å»º: {time1:.4f}ç§’")
    
    # æ–¹æ³•2: å­—å…¸æ¨å¯¼å¼
    start_time = time.time()
    dict2 = {i: i * 2 for i in test_data}
    time2 = time.time() - start_time
    print(f"   æ¨å¯¼å¼åˆ›å»º: {time2:.4f}ç§’")
    
    # æ–¹æ³•3: dict() + zip()
    start_time = time.time()
    dict3 = dict(zip(test_data, [i * 2 for i in test_data]))
    time3 = time.time() - start_time
    print(f"   zip()åˆ›å»º: {time3:.4f}ç§’")
    
    print(f"   æ¨å¯¼å¼æ¯”å¾ªç¯å¿«: {time1/time2:.2f}å€")
    
    # 2. æŸ¥æ‰¾æ€§èƒ½å¯¹æ¯”
    print("\n2. æŸ¥æ‰¾æ€§èƒ½å¯¹æ¯”:")
    
    # å­—å…¸æŸ¥æ‰¾
    start_time = time.time()
    for i in range(1000):
        _ = dict1.get(i * 50)
    dict_time = time.time() - start_time
    print(f"   å­—å…¸æŸ¥æ‰¾: {dict_time:.6f}ç§’")
    
    # åˆ—è¡¨æŸ¥æ‰¾ï¼ˆå¯¹æ¯”ï¼‰
    test_list = list(dict1.items())
    start_time = time.time()
    for i in range(1000):
        target = i * 50
        for key, value in test_list:
            if key == target:
                break
    list_time = time.time() - start_time
    print(f"   åˆ—è¡¨æŸ¥æ‰¾: {list_time:.6f}ç§’")
    
    print(f"   å­—å…¸æ¯”åˆ—è¡¨å¿«: {list_time/dict_time:.0f}å€")

# è¿è¡Œæ€§èƒ½æµ‹è¯•
performance_comparison()
```

--- 

## 11.3 é›†åˆè¯¦è§£

### ğŸ“ æ¦‚å¿µç†è§£ï¼šé›†åˆå°±åƒç­çº§åå•

æƒ³è±¡ä¸€ä¸‹ç­çº§åå•ï¼š
- **æ¯ä¸ªå­¦ç”Ÿéƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„**ï¼ˆä¸èƒ½æœ‰é‡å¤çš„å­¦ç”Ÿï¼‰
- **å¯ä»¥è¿›è¡Œæ•°å­¦è¿ç®—**ï¼šå“ªäº›å­¦ç”Ÿå‚åŠ äº†æ•°å­¦è¯¾ï¼Ÿå“ªäº›å­¦ç”ŸåŒæ—¶å‚åŠ äº†æ•°å­¦å’Œè‹±è¯­è¯¾ï¼Ÿ
- **å¿«é€ŸæŸ¥æ‰¾**ï¼šæŸä¸ªå­¦ç”Ÿæ˜¯å¦åœ¨ç­çº§é‡Œï¼Ÿ

è¿™å°±æ˜¯é›†åˆçš„æœ¬è´¨ï¼š**å”¯ä¸€å…ƒç´ çš„æ— åºé›†åˆ**

```python
# ç­çº§åå•å°±æ˜¯ä¸€ä¸ªé›†åˆ
math_class = {"å¼ ä¸‰", "æå››", "ç‹äº”", "èµµå…­"}
english_class = {"æå››", "ç‹äº”", "é’±ä¸ƒ", "å­™å…«"}

# æ£€æŸ¥å­¦ç”Ÿæ˜¯å¦åœ¨ç­çº§é‡Œ
print("å¼ ä¸‰" in math_class)  # True
print("å¼ ä¸‰" in english_class)  # False

# åŒæ—¶å‚åŠ ä¸¤é—¨è¯¾çš„å­¦ç”Ÿï¼ˆäº¤é›†ï¼‰
both_classes = math_class & english_class
print("åŒæ—¶å‚åŠ ä¸¤é—¨è¯¾çš„å­¦ç”Ÿ:", both_classes)  # {'æå››', 'ç‹äº”'}
```

### ğŸ”‘ é›†åˆçš„æ ¸å¿ƒç‰¹ç‚¹

1. **å…ƒç´ å”¯ä¸€æ€§**ï¼šæ¯ä¸ªå…ƒç´ åªèƒ½å‡ºç°ä¸€æ¬¡
2. **æ— åºæ€§**ï¼šå…ƒç´ æ²¡æœ‰å›ºå®šçš„é¡ºåº
3. **å¯å˜æ€§**ï¼šå¯ä»¥æ·»åŠ ã€åˆ é™¤å…ƒç´ 
4. **æ•°å­¦è¿ç®—**ï¼šæ”¯æŒäº¤é›†ã€å¹¶é›†ã€å·®é›†ç­‰è¿ç®—
5. **å¿«é€Ÿæˆå‘˜æµ‹è¯•**ï¼šæ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨çš„æ•ˆç‡å¾ˆé«˜

### ğŸ“ é›†åˆçš„åˆ›å»ºæ–¹æ³•

#### æ–¹æ³•1ï¼šç›´æ¥åˆ›å»º
```python
# åˆ›å»ºé›†åˆ
fruits = {"apple", "banana", "orange", "apple"}  # é‡å¤çš„"apple"ä¼šè¢«è‡ªåŠ¨å»é™¤
print(fruits)  # {'apple', 'banana', 'orange'}

# åˆ›å»ºç©ºé›†åˆï¼ˆæ³¨æ„ï¼š{}åˆ›å»ºçš„æ˜¯å­—å…¸ï¼Œä¸æ˜¯é›†åˆï¼‰
empty_set = set()  # æ­£ç¡®
# empty_set = {}  # é”™è¯¯ï¼è¿™æ˜¯å­—å…¸
```

#### æ–¹æ³•2ï¼šä½¿ç”¨set()æ„é€ å‡½æ•°
```python
# ä»åˆ—è¡¨åˆ›å»ºé›†åˆï¼ˆè‡ªåŠ¨å»é‡ï¼‰
numbers_list = [1, 2, 2, 3, 3, 3, 4, 5]
numbers_set = set(numbers_list)
print(numbers_set)  # {1, 2, 3, 4, 5}

# ä»å­—ç¬¦ä¸²åˆ›å»ºé›†åˆ
char_set = set("hello")
print(char_set)  # {'h', 'e', 'l', 'o'}  # æ³¨æ„ï¼š'l'åªå‡ºç°ä¸€æ¬¡

# ä»å…¶ä»–å¯è¿­ä»£å¯¹è±¡åˆ›å»º
tuple_set = set((1, 2, 3, 2, 1))
print(tuple_set)  # {1, 2, 3}
```

#### æ–¹æ³•3ï¼šé›†åˆæ¨å¯¼å¼
```python
# é›†åˆæ¨å¯¼å¼çš„åŸºæœ¬è¯­æ³•
# {expression for item in iterable if condition}

# åˆ›å»ºå¶æ•°é›†åˆ
even_numbers = {x for x in range(1, 11) if x % 2 == 0}
print(even_numbers)  # {2, 4, 6, 8, 10}

# ä»å­—ç¬¦ä¸²åˆ—è¡¨åˆ›å»ºé¦–å­—æ¯é›†åˆ
words = ["apple", "banana", "cherry", "apricot"]
first_letters = {word[0].upper() for word in words}
print(first_letters)  # {'A', 'B', 'C'}
```

### ğŸ› ï¸ é›†åˆçš„åŸºç¡€æ“ä½œ

#### æ·»åŠ å’Œåˆ é™¤å…ƒç´ 
```python
students = {"å¼ ä¸‰", "æå››", "ç‹äº”"}

# æ·»åŠ å•ä¸ªå…ƒç´ 
students.add("èµµå…­")
print(students)  # {'å¼ ä¸‰', 'æå››', 'ç‹äº”', 'èµµå…­'}

# æ·»åŠ å¤šä¸ªå…ƒç´ 
students.update(["é’±ä¸ƒ", "å­™å…«"])
# æˆ–è€… students.update({"é’±ä¸ƒ", "å­™å…«"})
print(students)  # {'å¼ ä¸‰', 'æå››', 'ç‹äº”', 'èµµå…­', 'é’±ä¸ƒ', 'å­™å…«'}

# åˆ é™¤å…ƒç´ 
students.remove("å¼ ä¸‰")  # å¦‚æœå…ƒç´ ä¸å­˜åœ¨ä¼šæŠ¥é”™
students.discard("å‘¨ä¹")  # å¦‚æœå…ƒç´ ä¸å­˜åœ¨ä¸ä¼šæŠ¥é”™

# éšæœºåˆ é™¤å¹¶è¿”å›ä¸€ä¸ªå…ƒç´ 
random_student = students.pop()
print(f"éšæœºåˆ é™¤çš„å­¦ç”Ÿ: {random_student}")

# æ¸…ç©ºé›†åˆ
# students.clear()
```

#### æˆå‘˜æµ‹è¯•å’Œé•¿åº¦
```python
students = {"å¼ ä¸‰", "æå››", "ç‹äº”", "èµµå…­"}

# æˆå‘˜æµ‹è¯•
print("å¼ ä¸‰" in students)     # True
print("å‘¨ä¹" not in students) # True

# é›†åˆé•¿åº¦
print(f"ç­çº§äººæ•°: {len(students)}")  # ç­çº§äººæ•°: 4

# æ£€æŸ¥é›†åˆæ˜¯å¦ä¸ºç©º
if students:
    print("ç­çº§ä¸ä¸ºç©º")
else:
    print("ç­çº§ä¸ºç©º")
```

### ğŸ§® é›†åˆçš„æ•°å­¦è¿ç®—

#### äº¤é›†ï¼ˆIntersectionï¼‰- å…±åŒå…ƒç´ 
```python
math_class = {"å¼ ä¸‰", "æå››", "ç‹äº”", "èµµå…­"}
english_class = {"æå››", "ç‹äº”", "é’±ä¸ƒ", "å­™å…«"}

# æ–¹æ³•1ï¼šä½¿ç”¨ & è¿ç®—ç¬¦
both_classes = math_class & english_class
print("åŒæ—¶å‚åŠ ä¸¤é—¨è¯¾:", both_classes)  # {'æå››', 'ç‹äº”'}

# æ–¹æ³•2ï¼šä½¿ç”¨ intersection() æ–¹æ³•
both_classes2 = math_class.intersection(english_class)
print("åŒæ—¶å‚åŠ ä¸¤é—¨è¯¾:", both_classes2)  # {'æå››', 'ç‹äº”'}

# å¤šä¸ªé›†åˆçš„äº¤é›†
physics_class = {"ç‹äº”", "èµµå…­", "é’±ä¸ƒ"}
all_three = math_class & english_class & physics_class
print("ä¸‰é—¨è¯¾éƒ½å‚åŠ :", all_three)  # {'ç‹äº”'}
```

#### å¹¶é›†ï¼ˆUnionï¼‰- æ‰€æœ‰å…ƒç´ 
```python
# æ–¹æ³•1ï¼šä½¿ç”¨ | è¿ç®—ç¬¦
all_students = math_class | english_class
print("æ‰€æœ‰å­¦ç”Ÿ:", all_students)  
# {'å¼ ä¸‰', 'æå››', 'ç‹äº”', 'èµµå…­', 'é’±ä¸ƒ', 'å­™å…«'}

# æ–¹æ³•2ï¼šä½¿ç”¨ union() æ–¹æ³•
all_students2 = math_class.union(english_class)
print("æ‰€æœ‰å­¦ç”Ÿ:", all_students2)

# å¤šä¸ªé›†åˆçš„å¹¶é›†
all_students_three = math_class | english_class | physics_class
print("ä¸‰ä¸ªç­æ‰€æœ‰å­¦ç”Ÿ:", all_students_three)
```

#### å·®é›†ï¼ˆDifferenceï¼‰- ç‹¬æœ‰å…ƒç´ 
```python
# æ–¹æ³•1ï¼šä½¿ç”¨ - è¿ç®—ç¬¦
only_math = math_class - english_class
print("åªå‚åŠ æ•°å­¦è¯¾:", only_math)  # {'å¼ ä¸‰', 'èµµå…­'}

only_english = english_class - math_class
print("åªå‚åŠ è‹±è¯­è¯¾:", only_english)  # {'é’±ä¸ƒ', 'å­™å…«'}

# æ–¹æ³•2ï¼šä½¿ç”¨ difference() æ–¹æ³•
only_math2 = math_class.difference(english_class)
print("åªå‚åŠ æ•°å­¦è¯¾:", only_math2)  # {'å¼ ä¸‰', 'èµµå…­'}
```

#### å¯¹ç§°å·®é›†ï¼ˆSymmetric Differenceï¼‰- ä¸å…±åŒçš„å…ƒç´ 
```python
# æ–¹æ³•1ï¼šä½¿ç”¨ ^ è¿ç®—ç¬¦
different_classes = math_class ^ english_class
print("åªå‚åŠ ä¸€é—¨è¯¾:", different_classes)  
# {'å¼ ä¸‰', 'èµµå…­', 'é’±ä¸ƒ', 'å­™å…«'}

# æ–¹æ³•2ï¼šä½¿ç”¨ symmetric_difference() æ–¹æ³•
different_classes2 = math_class.symmetric_difference(english_class)
print("åªå‚åŠ ä¸€é—¨è¯¾:", different_classes2)
```

### ğŸ’¼ ç¤ºä¾‹3ï¼šæƒé™ç®¡ç†ç³»ç»Ÿ

è®©æˆ‘ä»¬ç”¨é›†åˆåˆ›å»ºä¸€ä¸ªå®ç”¨çš„æƒé™ç®¡ç†ç³»ç»Ÿï¼š

```python
class PermissionManager:
    """æƒé™ç®¡ç†ç³»ç»Ÿ - é›†åˆè¿ç®—åº”ç”¨"""
    
    def __init__(self):
        """åˆå§‹åŒ–æƒé™ç®¡ç†ç³»ç»Ÿ"""
        # å®šä¹‰ç³»ç»Ÿä¸­çš„æ‰€æœ‰æƒé™
        self.all_permissions = {
            "read", "write", "delete", "execute", 
            "admin", "user_manage", "system_config", 
            "backup", "restore", "audit"
        }
        
        # é¢„å®šä¹‰è§’è‰²æƒé™
        self.role_permissions = {
            "admin": {"read", "write", "delete", "execute", "admin", 
                     "user_manage", "system_config", "backup", "restore", "audit"},
            "manager": {"read", "write", "delete", "user_manage", "backup", "audit"},
            "editor": {"read", "write", "delete"},
            "viewer": {"read"},
            "guest": set()  # ç©ºæƒé™
        }
        
        # ç”¨æˆ·æƒé™ï¼ˆç”¨æˆ·å¯èƒ½æœ‰å¤šä¸ªè§’è‰²ï¼‰
        self.user_roles = {}
        self.user_custom_permissions = {}
        
        print("ğŸ” æƒé™ç®¡ç†ç³»ç»Ÿå·²å¯åŠ¨")
        self._display_system_info()
    
    def _display_system_info(self):
        """æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯"""
        print(f"ğŸ“‹ ç³»ç»Ÿæƒé™æ€»æ•°: {len(self.all_permissions)}")
        print(f"ğŸ‘¥ é¢„å®šä¹‰è§’è‰²: {len(self.role_permissions)}ä¸ª")
        print("ğŸ­ è§’è‰²åˆ—è¡¨:", ", ".join(self.role_permissions.keys()))
    
    def add_user(self, username, roles=None, custom_permissions=None):
        """æ·»åŠ ç”¨æˆ·"""
        if roles is None:
            roles = set()
        if custom_permissions is None:
            custom_permissions = set()
        
        # éªŒè¯è§’è‰²æ˜¯å¦å­˜åœ¨
        invalid_roles = roles - set(self.role_permissions.keys())
        if invalid_roles:
            print(f"âŒ æ— æ•ˆè§’è‰²: {invalid_roles}")
            return False
        
        # éªŒè¯è‡ªå®šä¹‰æƒé™æ˜¯å¦æœ‰æ•ˆ
        invalid_permissions = custom_permissions - self.all_permissions
        if invalid_permissions:
            print(f"âŒ æ— æ•ˆæƒé™: {invalid_permissions}")
            return False
        
        self.user_roles[username] = roles
        self.user_custom_permissions[username] = custom_permissions
        
        print(f"âœ… ç”¨æˆ· {username} æ·»åŠ æˆåŠŸ")
        print(f"   è§’è‰²: {roles if roles else 'æ— '}")
        print(f"   è‡ªå®šä¹‰æƒé™: {custom_permissions if custom_permissions else 'æ— '}")
        return True
    
    def get_user_permissions(self, username):
        """è·å–ç”¨æˆ·çš„æ‰€æœ‰æƒé™"""
        if username not in self.user_roles:
            print(f"âŒ ç”¨æˆ· {username} ä¸å­˜åœ¨")
            return set()
        
        # ä»è§’è‰²è·å–æƒé™
        role_permissions = set()
        for role in self.user_roles[username]:
            role_permissions |= self.role_permissions[role]
        
        # åˆå¹¶è‡ªå®šä¹‰æƒé™
        custom_permissions = self.user_custom_permissions.get(username, set())
        total_permissions = role_permissions | custom_permissions
        
        return total_permissions
    
    def check_permission(self, username, permission):
        """æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰ç‰¹å®šæƒé™"""
        user_permissions = self.get_user_permissions(username)
        has_permission = permission in user_permissions
        
        print(f"ğŸ” æƒé™æ£€æŸ¥: {username} -> {permission}")
        print(f"   ç»“æœ: {'âœ… æœ‰æƒé™' if has_permission else 'âŒ æ— æƒé™'}")
        
        return has_permission
    
    def compare_users(self, user1, user2):
        """æ¯”è¾ƒä¸¤ä¸ªç”¨æˆ·çš„æƒé™"""
        if user1 not in self.user_roles or user2 not in self.user_roles:
            print("âŒ ç”¨æˆ·ä¸å­˜åœ¨")
            return
        
        permissions1 = self.get_user_permissions(user1)
        permissions2 = self.get_user_permissions(user2)
        
        # è®¡ç®—æƒé™å…³ç³»
        common = permissions1 & permissions2  # å…±åŒæƒé™
        only_user1 = permissions1 - permissions2  # åªæœ‰ç”¨æˆ·1æœ‰çš„æƒé™
        only_user2 = permissions2 - permissions1  # åªæœ‰ç”¨æˆ·2æœ‰çš„æƒé™
        
        print(f"\nğŸ‘¥ ç”¨æˆ·æƒé™å¯¹æ¯”: {user1} vs {user2}")
        print("=" * 50)
        print(f"ğŸ“Š {user1} æ€»æƒé™æ•°: {len(permissions1)}")
        print(f"ğŸ“Š {user2} æ€»æƒé™æ•°: {len(permissions2)}")
        print(f"ğŸ¤ å…±åŒæƒé™ ({len(common)}ä¸ª): {common if common else 'æ— '}")
        print(f"ğŸ”¸ {user1}ç‹¬æœ‰ ({len(only_user1)}ä¸ª): {only_user1 if only_user1 else 'æ— '}")
        print(f"ğŸ”¹ {user2}ç‹¬æœ‰ ({len(only_user2)}ä¸ª): {only_user2 if only_user2 else 'æ— '}")
    
    def get_role_analysis(self):
        """åˆ†æè§’è‰²æƒé™å…³ç³»"""
        print("\nğŸ­ è§’è‰²æƒé™åˆ†æ")
        print("=" * 50)
        
        roles = list(self.role_permissions.keys())
        
        # æ˜¾ç¤ºæ¯ä¸ªè§’è‰²çš„æƒé™æ•°é‡
        for role in roles:
            permissions = self.role_permissions[role]
            print(f"ğŸ‘¤ {role}: {len(permissions)}ä¸ªæƒé™")
            if len(permissions) <= 5:
                print(f"   æƒé™åˆ—è¡¨: {permissions}")
            else:
                sample = list(permissions)[:3]
                print(f"   æƒé™ç¤ºä¾‹: {sample}... (å…±{len(permissions)}ä¸ª)")
        
        # æ‰¾å‡ºæƒé™åŒ…å«å…³ç³»
        print(f"\nğŸ”— è§’è‰²åŒ…å«å…³ç³»:")
        for i, role1 in enumerate(roles):
            for role2 in roles[i+1:]:
                perm1 = self.role_permissions[role1]
                perm2 = self.role_permissions[role2]
                
                if perm1.issubset(perm2):
                    print(f"   {role1} âŠ† {role2} ({role1}æ˜¯{role2}çš„å­é›†)")
                elif perm2.issubset(perm1):
                    print(f"   {role2} âŠ† {role1} ({role2}æ˜¯{role1}çš„å­é›†)")
    
    def suggest_role(self, required_permissions):
        """æ ¹æ®éœ€è¦çš„æƒé™æ¨èè§’è‰²"""
        required_set = set(required_permissions)
        
        # æ£€æŸ¥æƒé™æ˜¯å¦æœ‰æ•ˆ
        invalid = required_set - self.all_permissions
        if invalid:
            print(f"âŒ æ— æ•ˆæƒé™: {invalid}")
            return None
        
        print(f"\nğŸ’¡ æƒé™éœ€æ±‚: {required_set}")
        print("ğŸ¯ è§’è‰²æ¨è:")
        
        suitable_roles = []
        for role, permissions in self.role_permissions.items():
            if required_set.issubset(permissions):
                extra = permissions - required_set
                suitable_roles.append((role, len(extra), extra))
        
        if suitable_roles:
            # æŒ‰å¤šä½™æƒé™æ•°é‡æ’åºï¼Œæ¨èæœ€ç²¾ç¡®çš„è§’è‰²
            suitable_roles.sort(key=lambda x: x[1])
            
            for role, extra_count, extra_perms in suitable_roles:
                print(f"   âœ… {role}: æ»¡è¶³éœ€æ±‚ï¼Œé¢å¤–{extra_count}ä¸ªæƒé™")
                if extra_count <= 3:
                    print(f"      é¢å¤–æƒé™: {extra_perms}")
        else:
            print("   âŒ æ²¡æœ‰å•ä¸€è§’è‰²èƒ½æ»¡è¶³éœ€æ±‚ï¼Œå»ºè®®ä½¿ç”¨è‡ªå®šä¹‰æƒé™æˆ–ç»„åˆè§’è‰²")

# ä½¿ç”¨ç¤ºä¾‹
def permission_management_demo():
    """æƒé™ç®¡ç†ç³»ç»Ÿæ¼”ç¤º"""
    print("ğŸ” æƒé™ç®¡ç†ç³»ç»Ÿæ¼”ç¤º")
    print("=" * 60)
    
    # åˆ›å»ºæƒé™ç®¡ç†å™¨
    pm = PermissionManager()
    
    # æ·»åŠ ç”¨æˆ·
    print("\nğŸ‘¤ æ·»åŠ ç”¨æˆ·:")
    pm.add_user("alice", {"admin"})
    pm.add_user("bob", {"manager", "editor"})
    pm.add_user("charlie", {"viewer"}, {"write"})  # æŸ¥çœ‹è€…+å†™æƒé™
    pm.add_user("david", {"editor"})
    
    # æƒé™æ£€æŸ¥
    print("\nğŸ” æƒé™æ£€æŸ¥:")
    pm.check_permission("alice", "delete")
    pm.check_permission("bob", "admin")
    pm.check_permission("charlie", "write")
    pm.check_permission("david", "user_manage")
    
    # ç”¨æˆ·æƒé™å¯¹æ¯”
    pm.compare_users("alice", "bob")
    pm.compare_users("charlie", "david")
    
    # è§’è‰²åˆ†æ
    pm.get_role_analysis()
    
    # è§’è‰²æ¨è
    print("\n" + "="*60)
    pm.suggest_role(["read", "write"])
    pm.suggest_role(["read", "write", "delete", "backup"])
    pm.suggest_role(["read", "admin", "system_config"])

# è¿è¡Œæ¼”ç¤º
if __name__ == "__main__":
    permission_management_demo()
```

### ğŸ” é›†åˆæ¨å¯¼å¼çš„é«˜çº§åº”ç”¨

```python
# æ•°æ®å»é‡å’Œç­›é€‰
emails = [
    "user1@example.com", "user2@example.com", "user1@example.com",
    "admin@company.com", "test@company.com", "user3@example.com"
]

# å»é‡å¹¶ç­›é€‰å…¬å¸é‚®ç®±
company_emails = {email for email in emails if email.endswith("@company.com")}
print("å…¬å¸é‚®ç®±:", company_emails)  # {'admin@company.com', 'test@company.com'}

# ä»åµŒå¥—æ•°æ®ä¸­æå–å”¯ä¸€å€¼
students_data = [
    {"name": "å¼ ä¸‰", "subjects": ["æ•°å­¦", "ç‰©ç†", "è‹±è¯­"]},
    {"name": "æå››", "subjects": ["æ•°å­¦", "åŒ–å­¦", "ç”Ÿç‰©"]},
    {"name": "ç‹äº”", "subjects": ["ç‰©ç†", "åŒ–å­¦", "è‹±è¯­"]}
]

# æå–æ‰€æœ‰ç§‘ç›®
all_subjects = {subject for student in students_data for subject in student["subjects"]}
print("æ‰€æœ‰ç§‘ç›®:", all_subjects)  # {'æ•°å­¦', 'ç‰©ç†', 'è‹±è¯­', 'åŒ–å­¦', 'ç”Ÿç‰©'}

# å¤æ‚æ¡ä»¶ç­›é€‰
numbers = range(1, 101)
special_numbers = {
    n for n in numbers 
    if n % 3 == 0 and n % 5 != 0 and n > 20
}
print("ç‰¹æ®Šæ•°å­—(3çš„å€æ•°ä½†ä¸æ˜¯5çš„å€æ•°ï¼Œä¸”>20):", sorted(list(special_numbers))[:10])
```

---

## 11.4 ç»¼åˆåº”ç”¨ä¸æ•°æ®ç»“æ„é€‰æ‹©

### ğŸ“Š å››ç§åŸºæœ¬æ•°æ®ç»“æ„å¯¹æ¯”

è®©æˆ‘ä»¬ç³»ç»Ÿæ€§åœ°å¯¹æ¯”Pythonçš„å››ç§åŸºæœ¬æ•°æ®ç»“æ„ï¼š

| ç‰¹æ€§ | åˆ—è¡¨(List) | å…ƒç»„(Tuple) | å­—å…¸(Dict) | é›†åˆ(Set) |
|------|------------|-------------|------------|-----------|
| **æœ‰åºæ€§** | âœ… æœ‰åº | âœ… æœ‰åº | âœ… æœ‰åº(3.7+) | âŒ æ— åº |
| **å¯å˜æ€§** | âœ… å¯å˜ | âŒ ä¸å¯å˜ | âœ… å¯å˜ | âœ… å¯å˜ |
| **é‡å¤å…ƒç´ ** | âœ… å…è®¸ | âœ… å…è®¸ | âŒ é”®å”¯ä¸€ | âŒ ä¸å…è®¸ |
| **ç´¢å¼•è®¿é—®** | âœ… æ”¯æŒ | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| **é”®å€¼å¯¹** | âŒ ä¸æ”¯æŒ | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| **æ•°å­¦è¿ç®—** | âŒ ä¸æ”¯æŒ | âŒ ä¸æ”¯æŒ | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ |
| **æŸ¥æ‰¾æ•ˆç‡** | O(n) | O(n) | O(1) | O(1) |
| **æ’å…¥æ•ˆç‡** | O(1)æœ«å°¾ | âŒ ä¸å¯å˜ | O(1) | O(1) |
| **å†…å­˜å ç”¨** | ä¸­ç­‰ | æœ€å° | è¾ƒå¤§ | ä¸­ç­‰ |

### ğŸ¯ æ•°æ®ç»“æ„é€‰æ‹©ç­–ç•¥

#### é€‰æ‹©åˆ—è¡¨çš„åœºæ™¯
```python
# 1. éœ€è¦ä¿æŒå…ƒç´ é¡ºåº
shopping_list = ["ç‰›å¥¶", "é¢åŒ…", "é¸¡è›‹", "è‹¹æœ"]

# 2. éœ€è¦é€šè¿‡ç´¢å¼•è®¿é—®
scores = [85, 92, 78, 96, 88]
first_score = scores[0]

# 3. éœ€è¦é¢‘ç¹æ·»åŠ /åˆ é™¤å…ƒç´ 
tasks = []
tasks.append("å®Œæˆä½œä¸š")
tasks.append("å¤ä¹ åŠŸè¯¾")

# 4. å…è®¸é‡å¤å…ƒç´ 
daily_temperatures = [25, 26, 25, 27, 25, 28]
```

#### é€‰æ‹©å…ƒç»„çš„åœºæ™¯
```python
# 1. æ•°æ®ä¸ä¼šæ”¹å˜
coordinates = (39.9042, 116.4074)  # åŒ—äº¬åæ ‡

# 2. ä½œä¸ºå­—å…¸çš„é”®
location_info = {
    (39.9042, 116.4074): "åŒ—äº¬",
    (31.2304, 121.4737): "ä¸Šæµ·"
}

# 3. å‡½æ•°è¿”å›å¤šä¸ªå€¼
def get_name_age():
    return "å¼ ä¸‰", 20

name, age = get_name_age()

# 4. é…ç½®ä¿¡æ¯
database_config = ("localhost", 3306, "mydb", "user", "password")
```

#### é€‰æ‹©å­—å…¸çš„åœºæ™¯
```python
# 1. éœ€è¦é”®å€¼å¯¹æ˜ å°„
student_scores = {"å¼ ä¸‰": 85, "æå››": 92, "ç‹äº”": 78}

# 2. éœ€è¦å¿«é€ŸæŸ¥æ‰¾
user_permissions = {
    "admin": ["read", "write", "delete"],
    "user": ["read", "write"],
    "guest": ["read"]
}

# 3. å­˜å‚¨ç»“æ„åŒ–æ•°æ®
person = {
    "name": "å¼ ä¸‰",
    "age": 25,
    "city": "åŒ—äº¬",
    "hobbies": ["è¯»ä¹¦", "è¿åŠ¨", "æ—…æ¸¸"]
}

# 4. ç¼“å­˜è®¡ç®—ç»“æœ
cache = {}
def expensive_function(x):
    if x in cache:
        return cache[x]
    result = x ** 2 + x ** 3  # å‡è®¾è¿™æ˜¯ä¸€ä¸ªæ˜‚è´µçš„è®¡ç®—
    cache[x] = result
    return result
```

#### é€‰æ‹©é›†åˆçš„åœºæ™¯
```python
# 1. éœ€è¦å»é™¤é‡å¤å…ƒç´ 
unique_visitors = set(["user1", "user2", "user1", "user3"])

# 2. éœ€è¦æ•°å­¦è¿ç®—
python_students = {"å¼ ä¸‰", "æå››", "ç‹äº”"}
java_students = {"æå››", "ç‹äº”", "èµµå…­"}
both_languages = python_students & java_students

# 3. å¿«é€Ÿæˆå‘˜æµ‹è¯•
valid_extensions = {".jpg", ".png", ".gif", ".bmp"}
if file_extension in valid_extensions:
    print("æ”¯æŒçš„å›¾ç‰‡æ ¼å¼")

# 4. æ ‡ç­¾ç³»ç»Ÿ
article_tags = {"Python", "ç¼–ç¨‹", "æ•™ç¨‹", "æ•°æ®ç»“æ„"}
```

### ğŸ’¼ ç¤ºä¾‹4ï¼šæ•°æ®åˆ†æä¸å»é‡ç³»ç»Ÿ

```python
import json
from datetime import datetime, timedelta
import random

class DataAnalyzer:
    """æ•°æ®åˆ†æä¸å»é‡ç³»ç»Ÿ - ç»¼åˆåº”ç”¨å­—å…¸å’Œé›†åˆ"""
    
    def __init__(self):
        """åˆå§‹åŒ–æ•°æ®åˆ†æå™¨"""
        self.raw_data = []
        self.processed_data = {}
        self.statistics = {}
        print("ğŸ“Š æ•°æ®åˆ†æä¸å»é‡ç³»ç»Ÿå·²å¯åŠ¨")
    
    def load_sample_data(self):
        """åŠ è½½ç¤ºä¾‹æ•°æ®"""
        # æ¨¡æ‹Ÿç”¨æˆ·è®¿é—®æ—¥å¿—æ•°æ®ï¼ˆåŒ…å«é‡å¤ï¼‰
        users = ["user1", "user2", "user3", "user4", "user5"]
        pages = ["/home", "/about", "/products", "/contact", "/blog"]
        
        sample_data = []
        for _ in range(100):
            record = {
                "user_id": random.choice(users),
                "page": random.choice(pages),
                "timestamp": datetime.now() - timedelta(
                    days=random.randint(0, 30),
                    hours=random.randint(0, 23),
                    minutes=random.randint(0, 59)
                ),
                "ip": f"192.168.1.{random.randint(1, 255)}",
                "user_agent": random.choice(["Chrome", "Firefox", "Safari", "Edge"])
            }
            sample_data.append(record)
        
        self.raw_data = sample_data
        print(f"âœ… å·²åŠ è½½ {len(sample_data)} æ¡ç¤ºä¾‹æ•°æ®")
        return sample_data
    
    def basic_statistics(self):
        """åŸºç¡€ç»Ÿè®¡åˆ†æ"""
        if not self.raw_data:
            print("âŒ æ²¡æœ‰æ•°æ®å¯åˆ†æ")
            return
        
        print("\nğŸ“Š åŸºç¡€ç»Ÿè®¡åˆ†æ")
        print("=" * 40)
        
        # ä½¿ç”¨é›†åˆç»Ÿè®¡å”¯ä¸€å€¼
        unique_users = {record["user_id"] for record in self.raw_data}
        unique_pages = {record["page"] for record in self.raw_data}
        unique_ips = {record["ip"] for record in self.raw_data}
        unique_browsers = {record["user_agent"] for record in self.raw_data}
        
        print(f"æ€»è®°å½•æ•°: {len(self.raw_data)}")
        print(f"å”¯ä¸€ç”¨æˆ·æ•°: {len(unique_users)}")
        print(f"å”¯ä¸€é¡µé¢æ•°: {len(unique_pages)}")
        print(f"å”¯ä¸€IPæ•°: {len(unique_ips)}")
        print(f"æµè§ˆå™¨ç±»å‹: {len(unique_browsers)}")
        
        # ä¿å­˜ç»Ÿè®¡ç»“æœ
        self.statistics["basic"] = {
            "total_records": len(self.raw_data),
            "unique_users": len(unique_users),
            "unique_pages": len(unique_pages),
            "unique_ips": len(unique_ips),
            "unique_browsers": len(unique_browsers)
        }
        
        return {
            "users": unique_users,
            "pages": unique_pages,
            "ips": unique_ips,
            "browsers": unique_browsers
        }
    
    def frequency_analysis(self):
        """é¢‘ç‡åˆ†æ"""
        print("\nğŸ“ˆ é¢‘ç‡åˆ†æ")
        print("=" * 40)
        
        # ä½¿ç”¨å­—å…¸ç»Ÿè®¡é¢‘ç‡
        user_counts = {}
        page_counts = {}
        browser_counts = {}
        
        for record in self.raw_data:
            # ç”¨æˆ·è®¿é—®é¢‘ç‡
            user_id = record["user_id"]
            user_counts[user_id] = user_counts.get(user_id, 0) + 1
            
            # é¡µé¢è®¿é—®é¢‘ç‡
            page = record["page"]
            page_counts[page] = page_counts.get(page, 0) + 1
            
            # æµè§ˆå™¨ä½¿ç”¨é¢‘ç‡
            browser = record["user_agent"]
            browser_counts[browser] = browser_counts.get(browser, 0) + 1
        
        # æ˜¾ç¤ºTop3
        print("ğŸ‘¤ ç”¨æˆ·è®¿é—®Top3:")
        for user, count in sorted(user_counts.items(), key=lambda x: x[1], reverse=True)[:3]:
            print(f"   {user}: {count}æ¬¡")
        
        print("\nğŸ“„ é¡µé¢è®¿é—®Top3:")
        for page, count in sorted(page_counts.items(), key=lambda x: x[1], reverse=True)[:3]:
            print(f"   {page}: {count}æ¬¡")
        
        print("\nğŸŒ æµè§ˆå™¨ä½¿ç”¨åˆ†å¸ƒ:")
        for browser, count in sorted(browser_counts.items(), key=lambda x: x[1], reverse=True):
            percentage = count / len(self.raw_data) * 100
            print(f"   {browser}: {count}æ¬¡ ({percentage:.1f}%)")
        
        # ä¿å­˜é¢‘ç‡åˆ†æç»“æœ
        self.statistics["frequency"] = {
            "users": user_counts,
            "pages": page_counts,
            "browsers": browser_counts
        }
        
        return user_counts, page_counts, browser_counts
    
    def duplicate_analysis(self):
        """é‡å¤æ•°æ®åˆ†æ"""
        print("\nğŸ” é‡å¤æ•°æ®åˆ†æ")
        print("=" * 40)
        
        # æ£€æŸ¥å®Œå…¨é‡å¤çš„è®°å½•
        seen_records = set()
        duplicates = []
        
        for i, record in enumerate(self.raw_data):
            # åˆ›å»ºè®°å½•çš„å”¯ä¸€æ ‡è¯†ï¼ˆæ’é™¤timestampï¼‰
            record_key = (
                record["user_id"],
                record["page"],
                record["ip"],
                record["user_agent"]
            )
            
            if record_key in seen_records:
                duplicates.append((i, record))
            else:
                seen_records.add(record_key)
        
        print(f"å®Œå…¨é‡å¤è®°å½•: {len(duplicates)}æ¡")
        
        # æ£€æŸ¥åŒä¸€ç”¨æˆ·çš„é‡å¤è®¿é—®
        user_page_visits = {}
        for record in self.raw_data:
            user_id = record["user_id"]
            page = record["page"]
            
            if user_id not in user_page_visits:
                user_page_visits[user_id] = set()
            user_page_visits[user_id].add(page)
        
        print("\nğŸ‘¤ ç”¨æˆ·é¡µé¢è®¿é—®æƒ…å†µ:")
        for user_id, pages in user_page_visits.items():
            print(f"   {user_id}: è®¿é—®äº†{len(pages)}ä¸ªä¸åŒé¡µé¢ {pages}")
        
        # æ£€æŸ¥IPåœ°å€é‡å¤ä½¿ç”¨
        ip_users = {}
        for record in self.raw_data:
            ip = record["ip"]
            user_id = record["user_id"]
            
            if ip not in ip_users:
                ip_users[ip] = set()
            ip_users[ip].add(user_id)
        
        shared_ips = {ip: users for ip, users in ip_users.items() if len(users) > 1}
        print(f"\nğŸŒ å…±äº«IPåœ°å€: {len(shared_ips)}ä¸ª")
        for ip, users in list(shared_ips.items())[:5]:  # åªæ˜¾ç¤ºå‰5ä¸ª
            print(f"   {ip}: è¢«{len(users)}ä¸ªç”¨æˆ·ä½¿ç”¨ {users}")
        
        return duplicates, user_page_visits, shared_ips
    
    def data_cleaning(self):
        """æ•°æ®æ¸…æ´—"""
        print("\nğŸ§¹ æ•°æ®æ¸…æ´—")
        print("=" * 40)
        
        # å»é™¤å®Œå…¨é‡å¤çš„è®°å½•
        unique_records = []
        seen_keys = set()
        
        for record in self.raw_data:
            # åˆ›å»ºè®°å½•çš„å”¯ä¸€æ ‡è¯†
            record_key = (
                record["user_id"],
                record["page"],
                record["ip"],
                record["user_agent"],
                record["timestamp"].strftime("%Y-%m-%d %H:%M")  # ç²¾ç¡®åˆ°åˆ†é’Ÿ
            )
            
            if record_key not in seen_keys:
                unique_records.append(record)
                seen_keys.add(record_key)
        
        removed_count = len(self.raw_data) - len(unique_records)
        print(f"âœ… å»é™¤é‡å¤è®°å½•: {removed_count}æ¡")
        print(f"ğŸ“Š æ¸…æ´—åæ•°æ®: {len(unique_records)}æ¡")
        
        # æ•°æ®è´¨é‡æ£€æŸ¥
        valid_records = []
        invalid_count = 0
        
        for record in unique_records:
            # ç®€å•çš„æ•°æ®éªŒè¯
            if (record["user_id"] and 
                record["page"].startswith("/") and 
                record["ip"].count(".") == 3):
                valid_records.append(record)
            else:
                invalid_count += 1
        
        print(f"âœ… å»é™¤æ— æ•ˆè®°å½•: {invalid_count}æ¡")
        print(f"ğŸ“Š æœ€ç»ˆæœ‰æ•ˆæ•°æ®: {len(valid_records)}æ¡")
        
        self.processed_data = {
            "clean_records": valid_records,
            "removed_duplicates": removed_count,
            "removed_invalid": invalid_count,
            "final_count": len(valid_records)
        }
        
        return valid_records
    
    def advanced_analysis(self):
        """é«˜çº§åˆ†æ"""
        if not self.processed_data:
            print("âŒ è¯·å…ˆè¿›è¡Œæ•°æ®æ¸…æ´—")
            return
        
        print("\nğŸ”¬ é«˜çº§åˆ†æ")
        print("=" * 40)
        
        clean_records = self.processed_data["clean_records"]
        
        # ç”¨æˆ·è¡Œä¸ºæ¨¡å¼åˆ†æ
        user_patterns = {}
        for record in clean_records:
            user_id = record["user_id"]
            if user_id not in user_patterns:
                user_patterns[user_id] = {
                    "pages": set(),
                    "browsers": set(),
                    "ips": set(),
                    "visit_count": 0
                }
            
            user_patterns[user_id]["pages"].add(record["page"])
            user_patterns[user_id]["browsers"].add(record["user_agent"])
            user_patterns[user_id]["ips"].add(record["ip"])
            user_patterns[user_id]["visit_count"] += 1
        
        print("ğŸ¯ ç”¨æˆ·è¡Œä¸ºæ¨¡å¼:")
        for user_id, pattern in user_patterns.items():
            print(f"   {user_id}:")
            print(f"     è®¿é—®é¡µé¢: {len(pattern['pages'])}ä¸ª")
            print(f"     ä½¿ç”¨æµè§ˆå™¨: {len(pattern['browsers'])}ä¸ª")
            print(f"     æ¥æºIP: {len(pattern['ips'])}ä¸ª")
            print(f"     æ€»è®¿é—®æ¬¡æ•°: {pattern['visit_count']}æ¬¡")
        
        # é¡µé¢å…³è”åˆ†æ
        page_covisits = {}
        for user_id, pattern in user_patterns.items():
            pages = list(pattern["pages"])
            for i in range(len(pages)):
                for j in range(i+1, len(pages)):
                    page_pair = tuple(sorted([pages[i], pages[j]]))
                    page_covisits[page_pair] = page_covisits.get(page_pair, 0) + 1
        
        print(f"\nğŸ”— é¡µé¢å…³è”è®¿é—® (Top5):")
        top_covisits = sorted(page_covisits.items(), key=lambda x: x[1], reverse=True)[:5]
        for (page1, page2), count in top_covisits:
            print(f"   {page1} + {page2}: {count}ä¸ªç”¨æˆ·åŒæ—¶è®¿é—®")
        
        return user_patterns, page_covisits
    
    def generate_report(self):
        """ç”Ÿæˆå®Œæ•´åˆ†ææŠ¥å‘Š"""
        print("\n" + "="*60)
        print("ğŸ“‹ æ•°æ®åˆ†ææŠ¥å‘Š")
        print("="*60)
        
        # æ‰§è¡Œå®Œæ•´åˆ†ææµç¨‹
        self.load_sample_data()
        basic_stats = self.basic_statistics()
        frequency_stats = self.frequency_analysis()
        duplicate_info = self.duplicate_analysis()
        clean_data = self.data_cleaning()
        advanced_stats = self.advanced_analysis()
        
        # ç”Ÿæˆæ€»ç»“
        print(f"\nğŸ“Š åˆ†ææ€»ç»“")
        print("=" * 30)
        print(f"åŸå§‹æ•°æ®: {len(self.raw_data)}æ¡")
        print(f"å»é‡å: {self.processed_data['final_count']}æ¡")
        print(f"æ•°æ®è´¨é‡: {self.processed_data['final_count']/len(self.raw_data)*100:.1f}%")
        print(f"å”¯ä¸€ç”¨æˆ·: {self.statistics['basic']['unique_users']}ä¸ª")
        print(f"è®¿é—®é¡µé¢: {self.statistics['basic']['unique_pages']}ä¸ª")

# ä½¿ç”¨ç¤ºä¾‹
def data_analysis_demo():
    """æ•°æ®åˆ†ææ¼”ç¤º"""
    print("ğŸ“Š æ•°æ®åˆ†æä¸å»é‡ç³»ç»Ÿæ¼”ç¤º")
    print("=" * 60)
    
    analyzer = DataAnalyzer()
    analyzer.generate_report()

# è¿è¡Œæ¼”ç¤º
if __name__ == "__main__":
    data_analysis_demo()
```

### ğŸ’¼ ç¤ºä¾‹5ï¼šæ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ

```python
import time
import hashlib
from functools import wraps

class SmartCache:
    """æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ - å­—å…¸ä¸é›†åˆçš„ç»¼åˆåº”ç”¨"""
    
    def __init__(self, max_size=100, ttl=3600):
        """
        åˆå§‹åŒ–ç¼“å­˜ç³»ç»Ÿ
        max_size: æœ€å¤§ç¼“å­˜æ¡ç›®æ•°
        ttl: ç”Ÿå­˜æ—¶é—´(ç§’)
        """
        self.cache = {}  # å­˜å‚¨ç¼“å­˜æ•°æ® {key: {"value": value, "timestamp": time, "hits": count}}
        self.access_order = []  # è®¿é—®é¡ºåºåˆ—è¡¨(LRU)
        self.max_size = max_size
        self.ttl = ttl
        self.stats = {
            "hits": 0,
            "misses": 0,
            "evictions": 0,
            "expired": 0
        }
        print(f"ğŸ—„ï¸ æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿå·²å¯åŠ¨ (å®¹é‡: {max_size}, TTL: {ttl}ç§’)")
    
    def _generate_key(self, func_name, args, kwargs):
        """ç”Ÿæˆç¼“å­˜é”®"""
        # å°†å‡½æ•°åã€å‚æ•°ã€å…³é”®å­—å‚æ•°ç»„åˆæˆå”¯ä¸€é”®
        key_data = f"{func_name}:{str(args)}:{str(sorted(kwargs.items()))}"
        return hashlib.md5(key_data.encode()).hexdigest()
    
    def _is_expired(self, entry):
        """æ£€æŸ¥ç¼“å­˜é¡¹æ˜¯å¦è¿‡æœŸ"""
        return time.time() - entry["timestamp"] > self.ttl
    
    def _cleanup_expired(self):
        """æ¸…ç†è¿‡æœŸçš„ç¼“å­˜é¡¹"""
        current_time = time.time()
        expired_keys = [
            key for key, entry in self.cache.items()
            if current_time - entry["timestamp"] > self.ttl
        ]
        
        for key in expired_keys:
            del self.cache[key]
            if key in self.access_order:
                self.access_order.remove(key)
            self.stats["expired"] += 1
    
    def _evict_lru(self):
        """ä½¿ç”¨LRUç­–ç•¥é©±é€ç¼“å­˜é¡¹"""
        if self.access_order:
            lru_key = self.access_order.pop(0)
            if lru_key in self.cache:
                del self.cache[lru_key]
                self.stats["evictions"] += 1
    
    def get(self, key):
        """è·å–ç¼“å­˜å€¼"""
        if key in self.cache:
            entry = self.cache[key]
            if self._is_expired(entry):
                del self.cache[key]
                if key in self.access_order:
                    self.access_order.remove(key)
                self.stats["expired"] += 1
                self.stats["misses"] += 1
                return None
            
            # æ›´æ–°è®¿é—®é¡ºåº
            if key in self.access_order:
                self.access_order.remove(key)
            self.access_order.append(key)
            
            # æ›´æ–°å‘½ä¸­æ¬¡æ•°
            entry["hits"] += 1
            self.stats["hits"] += 1
            return entry["value"]
        
        self.stats["misses"] += 1
        return None
    
    def set(self, key, value):
        """è®¾ç½®ç¼“å­˜å€¼"""
        # æ¸…ç†è¿‡æœŸé¡¹
        self._cleanup_expired()
        
        # å¦‚æœç¼“å­˜å·²æ»¡ï¼Œé©±é€LRUé¡¹
        if len(self.cache) >= self.max_size and key not in self.cache:
            self._evict_lru()
        
        # æ·»åŠ /æ›´æ–°ç¼“å­˜é¡¹
        self.cache[key] = {
            "value": value,
            "timestamp": time.time(),
            "hits": 0
        }
        
        # æ›´æ–°è®¿é—®é¡ºåº
        if key in self.access_order:
            self.access_order.remove(key)
        self.access_order.append(key)
    
    def cache_decorator(self, func):
        """ç¼“å­˜è£…é¥°å™¨"""
        @wraps(func)
        def wrapper(*args, **kwargs):
            # ç”Ÿæˆç¼“å­˜é”®
            cache_key = self._generate_key(func.__name__, args, kwargs)
            
            # å°è¯•ä»ç¼“å­˜è·å–
            cached_result = self.get(cache_key)
            if cached_result is not None:
                print(f"ğŸ¯ ç¼“å­˜å‘½ä¸­: {func.__name__}")
                return cached_result
            
            # ç¼“å­˜æœªå‘½ä¸­ï¼Œæ‰§è¡Œå‡½æ•°
            print(f"ğŸ’¾ ç¼“å­˜æœªå‘½ä¸­ï¼Œæ‰§è¡Œå‡½æ•°: {func.__name__}")
            result = func(*args, **kwargs)
            
            # å­˜å‚¨ç»“æœåˆ°ç¼“å­˜
            self.set(cache_key, result)
            return result
        
        return wrapper
    
    def get_stats(self):
        """è·å–ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯"""
        total_requests = self.stats["hits"] + self.stats["misses"]
        hit_rate = self.stats["hits"] / total_requests * 100 if total_requests > 0 else 0
        
        print(f"\nğŸ“Š ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯")
        print("=" * 30)
        print(f"ç¼“å­˜å¤§å°: {len(self.cache)}/{self.max_size}")
        print(f"å‘½ä¸­æ¬¡æ•°: {self.stats['hits']}")
        print(f"æœªå‘½ä¸­æ¬¡æ•°: {self.stats['misses']}")
        print(f"å‘½ä¸­ç‡: {hit_rate:.2f}%")
        print(f"é©±é€æ¬¡æ•°: {self.stats['evictions']}")
        print(f"è¿‡æœŸæ¬¡æ•°: {self.stats['expired']}")
        
        return self.stats
    
    def get_cache_info(self):
        """è·å–ç¼“å­˜è¯¦ç»†ä¿¡æ¯"""
        print(f"\nğŸ—„ï¸ ç¼“å­˜è¯¦ç»†ä¿¡æ¯")
        print("=" * 50)
        
        if not self.cache:
            print("ç¼“å­˜ä¸ºç©º")
            return
        
        # æŒ‰å‘½ä¸­æ¬¡æ•°æ’åº
        sorted_items = sorted(
            self.cache.items(), 
            key=lambda x: x[1]["hits"], 
            reverse=True
        )
        
        print(f"{'é”®':<20} {'å‘½ä¸­æ¬¡æ•°':<10} {'å¹´é¾„(ç§’)':<10}")
        print("-" * 50)
        
        current_time = time.time()
        for key, entry in sorted_items[:10]:  # åªæ˜¾ç¤ºå‰10ä¸ª
            age = current_time - entry["timestamp"]
            print(f"{key[:20]:<20} {entry['hits']:<10} {age:<10.1f}")

# ä½¿ç”¨ç¤ºä¾‹
def cache_demo():
    """ç¼“å­˜ç³»ç»Ÿæ¼”ç¤º"""
    print("ğŸ—„ï¸ æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿæ¼”ç¤º")
    print("=" * 50)
    
    # åˆ›å»ºç¼“å­˜ç³»ç»Ÿ
    cache = SmartCache(max_size=5, ttl=10)
    
    # å®šä¹‰ä¸€äº›éœ€è¦ç¼“å­˜çš„å‡½æ•°
    @cache.cache_decorator
    def expensive_calculation(x, y):
        """æ¨¡æ‹Ÿè€—æ—¶è®¡ç®—"""
        time.sleep(1)  # æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
        return x ** 2 + y ** 2
    
    @cache.cache_decorator
    def fibonacci(n):
        """æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆé€’å½’ç‰ˆæœ¬ï¼‰"""
        if n <= 1:
            return n
        return fibonacci(n-1) + fibonacci(n-2)
    
    @cache.cache_decorator
    def fetch_user_data(user_id):
        """æ¨¡æ‹Ÿä»æ•°æ®åº“è·å–ç”¨æˆ·æ•°æ®"""
        time.sleep(0.5)  # æ¨¡æ‹Ÿæ•°æ®åº“æŸ¥è¯¢
        return {
            "user_id": user_id,
            "name": f"User{user_id}",
            "email": f"user{user_id}@example.com"
        }
    
    # æµ‹è¯•ç¼“å­˜æ•ˆæœ
    print("\nğŸ§® æµ‹è¯•æ•°å­¦è®¡ç®—ç¼“å­˜:")
    print(f"ç¬¬ä¸€æ¬¡è®¡ç®— 3^2 + 4^2 = {expensive_calculation(3, 4)}")
    print(f"ç¬¬äºŒæ¬¡è®¡ç®— 3^2 + 4^2 = {expensive_calculation(3, 4)}")
    
    print("\nğŸ“Š æµ‹è¯•æ–æ³¢é‚£å¥‘ç¼“å­˜:")
    print(f"fibonacci(10) = {fibonacci(10)}")
    print(f"å†æ¬¡è®¡ç®— fibonacci(10) = {fibonacci(10)}")
    
    print("\nğŸ‘¤ æµ‹è¯•ç”¨æˆ·æ•°æ®ç¼“å­˜:")
    for user_id in [1, 2, 1, 3, 2]:
        user_data = fetch_user_data(user_id)
        print(f"ç”¨æˆ·{user_id}: {user_data['name']}")
    
    # æ˜¾ç¤ºç¼“å­˜ç»Ÿè®¡
    cache.get_stats()
    cache.get_cache_info()
    
    # æµ‹è¯•ç¼“å­˜æ»¡æ—¶çš„LRUé©±é€
    print(f"\nğŸ”„ æµ‹è¯•ç¼“å­˜é©±é€ (ç¼“å­˜å®¹é‡: {cache.max_size}):")
    for i in range(8):
        result = expensive_calculation(i, i+1)
        print(f"è®¡ç®— {i}^2 + {i+1}^2 = {result}")
    
    cache.get_stats()
    cache.get_cache_info()

# è¿è¡Œæ¼”ç¤º
if __name__ == "__main__":
    cache_demo()
```

---

## ğŸ“ ç»ƒä¹ é¢˜

### ğŸŸ¢ Level 1: åŸºç¡€ç»ƒä¹  (4é¢˜)

#### ç»ƒä¹ 1ï¼šå­¦ç”Ÿæˆç»©å­—å…¸
åˆ›å»ºä¸€ä¸ªå­¦ç”Ÿæˆç»©ç®¡ç†ç¨‹åºï¼š
```python
# è¦æ±‚ï¼š
# 1. åˆ›å»ºåŒ…å«5ä¸ªå­¦ç”Ÿæˆç»©çš„å­—å…¸
# 2. æ·»åŠ ä¸€ä¸ªæ–°å­¦ç”Ÿçš„æˆç»©
# 3. ä¿®æ”¹æŸä¸ªå­¦ç”Ÿçš„æˆç»©
# 4. åˆ é™¤ä¸€ä¸ªå­¦ç”Ÿçš„è®°å½•
# 5. è®¡ç®—å¹³å‡åˆ†å¹¶æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿä¿¡æ¯
```

#### ç»ƒä¹ 2ï¼šé›†åˆåŸºç¡€æ“ä½œ
```python
# ç»™å®šä¸¤ä¸ªç­çº§çš„å­¦ç”Ÿåå•
class_a = {"å¼ ä¸‰", "æå››", "ç‹äº”", "èµµå…­", "é’±ä¸ƒ"}
class_b = {"æå››", "ç‹äº”", "å­™å…«", "å‘¨ä¹", "é’±ä¸ƒ"}

# è¦æ±‚ï¼š
# 1. æ‰¾å‡ºä¸¤ä¸ªç­çº§çš„å…±åŒå­¦ç”Ÿ
# 2. æ‰¾å‡ºåªåœ¨Aç­çš„å­¦ç”Ÿ
# 3. æ‰¾å‡ºåªåœ¨Bç­çš„å­¦ç”Ÿ
# 4. æ‰¾å‡ºä¸¤ä¸ªç­çº§çš„æ‰€æœ‰å­¦ç”Ÿ
# 5. æ£€æŸ¥"å¼ ä¸‰"æ˜¯å¦åœ¨Bç­
```

#### ç»ƒä¹ 3ï¼šæ•°æ®ç±»å‹è½¬æ¢
```python
# ç»™å®šæ•°æ®
data = [1, 2, 2, 3, 3, 3, 4, 4, 4, 4]

# è¦æ±‚ï¼š
# 1. è½¬æ¢ä¸ºé›†åˆå¹¶æ˜¾ç¤ºå”¯ä¸€å…ƒç´ 
# 2. åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œé”®ä¸ºæ•°å­—ï¼Œå€¼ä¸ºå‡ºç°æ¬¡æ•°
# 3. å°†å­—å…¸è½¬æ¢ä¸ºåˆ—è¡¨ï¼ˆåŒ…å«é”®å€¼å¯¹å…ƒç»„ï¼‰
# 4. ä»å­—å…¸ä¸­æå–æ‰€æœ‰é”®ç»„æˆé›†åˆ
```

#### ç»ƒä¹ 4ï¼šç®€å•æ¨å¯¼å¼
```python
# è¦æ±‚ï¼š
# 1. ä½¿ç”¨å­—å…¸æ¨å¯¼å¼åˆ›å»º1-10çš„å¹³æ–¹å­—å…¸
# 2. ä½¿ç”¨é›†åˆæ¨å¯¼å¼åˆ›å»º1-20ä¸­æ‰€æœ‰å¶æ•°çš„é›†åˆ
# 3. ä»å­—ç¬¦ä¸²"Hello World"åˆ›å»ºå­—ç¬¦é›†åˆï¼ˆä¸åŒ…å«ç©ºæ ¼ï¼‰
# 4. å°†åˆ—è¡¨["apple", "banana", "cherry"]è½¬æ¢ä¸ºé•¿åº¦å­—å…¸
```

### ğŸŸ¡ Level 2: è¿›é˜¶ç»ƒä¹  (4é¢˜)

#### ç»ƒä¹ 5ï¼šåµŒå¥—å­—å…¸å¤„ç†
```python
# ç»™å®šå…¬å¸æ•°æ®
company = {
    "departments": {
        "IT": {
            "manager": "å¼ ä¸‰",
            "employees": ["æå››", "ç‹äº”", "èµµå…­"],
            "budget": 500000
        },
        "Sales": {
            "manager": "é’±ä¸ƒ",
            "employees": ["å­™å…«", "å‘¨ä¹"],
            "budget": 300000
        }
    }
}

# è¦æ±‚ï¼š
# 1. å®‰å…¨è·å–ITéƒ¨é—¨ç»ç†å§“å
# 2. ç»Ÿè®¡å„éƒ¨é—¨å‘˜å·¥æ€»æ•°
# 3. è®¡ç®—å…¬å¸æ€»é¢„ç®—
# 4. æ·»åŠ æ–°éƒ¨é—¨"HR"
# 5. æ‰¾å‡ºå‘˜å·¥æœ€å¤šçš„éƒ¨é—¨
```

#### ç»ƒä¹ 6ï¼šæ•°æ®ç»Ÿè®¡åˆ†æ
```python
# ç»™å®šé”€å”®æ•°æ®
sales_data = [
    {"product": "æ‰‹æœº", "category": "ç”µå­", "price": 3000, "quantity": 5},
    {"product": "ç”µè„‘", "category": "ç”µå­", "price": 5000, "quantity": 3},
    {"product": "ä¹¦ç±", "category": "æ•™è‚²", "price": 50, "quantity": 20},
    {"product": "è€³æœº", "category": "ç”µå­", "price": 200, "quantity": 10},
    {"product": "ç¬”è®°æœ¬", "category": "æ•™è‚²", "price": 15, "quantity": 50}
]

# è¦æ±‚ï¼š
# 1. æŒ‰ç±»åˆ«ç»Ÿè®¡äº§å“æ•°é‡
# 2. è®¡ç®—å„ç±»åˆ«çš„æ€»é”€å”®é¢
# 3. æ‰¾å‡ºä»·æ ¼æœ€é«˜çš„äº§å“
# 4. ç»Ÿè®¡æ‰€æœ‰äº§å“åç§°çš„é¦–å­—æ¯
# 5. åˆ›å»ºä»·æ ¼åŒºé—´ç»Ÿè®¡ï¼ˆ<100, 100-1000, >1000ï¼‰
```

#### ç»ƒä¹ 7ï¼šé›†åˆé«˜çº§è¿ç®—
```python
# ç»™å®šç”¨æˆ·æƒé™æ•°æ®
users_permissions = {
    "admin": {"read", "write", "delete", "execute", "manage"},
    "editor": {"read", "write", "delete"},
    "viewer": {"read"},
    "guest": set()
}

# è¦æ±‚ï¼š
# 1. æ‰¾å‡ºæ‹¥æœ‰"write"æƒé™çš„æ‰€æœ‰ç”¨æˆ·
# 2. è®¡ç®—adminå’Œeditorçš„æƒé™å·®å¼‚
# 3. æ‰¾å‡ºæ‰€æœ‰ç”¨æˆ·çš„å…±åŒæƒé™
# 4. åˆ›å»ºæƒé™ç­‰çº§å­—å…¸ï¼ˆæŒ‰æƒé™æ•°é‡æ’åºï¼‰
# 5. æ£€æŸ¥æ˜¯å¦å­˜åœ¨æƒé™å®Œå…¨ç›¸åŒçš„ç”¨æˆ·è§’è‰²
```

#### ç»ƒä¹ 8ï¼šæ–‡æœ¬å¤„ç†
```python
text = """
Pythonæ˜¯ä¸€é—¨å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ã€‚Pythoné€‚åˆåˆå­¦è€…å­¦ä¹ ï¼Œ
Pythonä¹Ÿé€‚åˆä¸“ä¸šå¼€å‘ã€‚å­¦ä¹ Pythonå¯ä»¥è®©ä½ åœ¨æ•°æ®ç§‘å­¦ã€
Webå¼€å‘ã€äººå·¥æ™ºèƒ½ç­‰é¢†åŸŸå‘æŒ¥ä½œç”¨ã€‚Pythonç¤¾åŒºæ´»è·ƒï¼Œ
Pythonèµ„æºä¸°å¯Œã€‚
"""

# è¦æ±‚ï¼š
# 1. ç»Ÿè®¡æ‰€æœ‰å•è¯çš„å‡ºç°é¢‘ç‡
# 2. æ‰¾å‡ºå‡ºç°æ¬¡æ•°æœ€å¤šçš„5ä¸ªå•è¯
# 3. ç»Ÿè®¡ä¸åŒé•¿åº¦å•è¯çš„æ•°é‡
# 4. æå–æ‰€æœ‰å”¯ä¸€çš„é¦–å­—æ¯
# 5. æ‰¾å‡ºåŒ…å«"Python"çš„å¥å­æ•°é‡
```

### ğŸŸ  Level 3: é«˜çº§ç»ƒä¹  (3é¢˜)

#### ç»ƒä¹ 9ï¼šæ€§èƒ½å¯¹æ¯”æµ‹è¯•
```python
# è¦æ±‚è®¾è®¡æµ‹è¯•æ¥å¯¹æ¯”ä¸åŒæ•°æ®ç»“æ„çš„æ€§èƒ½ï¼š
# 1. å¯¹æ¯”åˆ—è¡¨å’Œé›†åˆçš„æˆå‘˜æµ‹è¯•é€Ÿåº¦
# 2. å¯¹æ¯”å­—å…¸å’Œåˆ—è¡¨çš„æŸ¥æ‰¾é€Ÿåº¦
# 3. æµ‹è¯•ä¸åŒå¤§å°æ•°æ®é›†ä¸‹çš„æ€§èƒ½å·®å¼‚
# 4. åˆ†æå†…å­˜ä½¿ç”¨æƒ…å†µ
# 5. ç»™å‡ºä½¿ç”¨å»ºè®®
```

#### ç»ƒä¹ 10ï¼šå¤æ‚æ•°æ®å¤„ç†
```python
# ç»™å®šå­¦ç”Ÿé€‰è¯¾æ•°æ®
students_courses = {
    "å¼ ä¸‰": {"æ•°å­¦", "ç‰©ç†", "åŒ–å­¦"},
    "æå››": {"æ•°å­¦", "è‹±è¯­", "å†å²"},
    "ç‹äº”": {"ç‰©ç†", "åŒ–å­¦", "ç”Ÿç‰©"},
    "èµµå…­": {"æ•°å­¦", "ç‰©ç†", "è‹±è¯­"},
    "é’±ä¸ƒ": {"åŒ–å­¦", "ç”Ÿç‰©", "å†å²"}
}

# è¦æ±‚ï¼š
# 1. æ‰¾å‡ºé€‰è¯¾æœ€å¤šçš„å­¦ç”Ÿ
# 2. ç»Ÿè®¡æ¯é—¨è¯¾ç¨‹çš„é€‰è¯¾äººæ•°
# 3. æ‰¾å‡ºåŒæ—¶é€‰æ‹©"æ•°å­¦"å’Œ"ç‰©ç†"çš„å­¦ç”Ÿ
# 4. è®¡ç®—æ¯å¯¹å­¦ç”Ÿçš„é€‰è¯¾ç›¸ä¼¼åº¦
# 5. æ¨èè¯¾ç¨‹ï¼šä¸ºæ¯ä¸ªå­¦ç”Ÿæ¨èå…¶ä»–å­¦ç”Ÿé€‰æ‹©ä½†è‡ªå·±æ²¡é€‰çš„çƒ­é—¨è¯¾ç¨‹
```

#### ç»ƒä¹ 11ï¼šç®—æ³•å®ç°
```python
# è¦æ±‚ä½¿ç”¨å­—å…¸å’Œé›†åˆå®ç°ä»¥ä¸‹ç®—æ³•ï¼š
# 1. å®ç°ä¸€ä¸ªç®€å•çš„å›¾ç»“æ„ï¼Œæ”¯æŒæ·»åŠ èŠ‚ç‚¹å’Œè¾¹
# 2. å®ç°å¹¿åº¦ä¼˜å…ˆæœç´¢(BFS)ç®—æ³•
# 3. æ‰¾å‡ºå›¾ä¸­çš„æ‰€æœ‰è¿é€šåˆ†é‡
# 4. æ£€æµ‹å›¾ä¸­æ˜¯å¦å­˜åœ¨ç¯
# 5. è®¡ç®—ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„
```

### ğŸ”´ Level 4: æŒ‘æˆ˜ç»ƒä¹  (1é¢˜)

#### ç»ƒä¹ 12ï¼šç»¼åˆé¡¹ç›® - ç¤¾äº¤ç½‘ç»œåˆ†æç³»ç»Ÿ
```python
# è®¾è®¡å¹¶å®ç°ä¸€ä¸ªç¤¾äº¤ç½‘ç»œåˆ†æç³»ç»Ÿï¼Œè¦æ±‚ï¼š

# æ•°æ®ç»“æ„è®¾è®¡ï¼š
# 1. ç”¨æˆ·ä¿¡æ¯å­˜å‚¨ï¼ˆå­—å…¸ï¼‰
# 2. å¥½å‹å…³ç³»å­˜å‚¨ï¼ˆé›†åˆï¼‰
# 3. ç”¨æˆ·æ ‡ç­¾ç³»ç»Ÿï¼ˆé›†åˆï¼‰
# 4. åŠ¨æ€æ¶ˆæ¯å­˜å‚¨ï¼ˆåµŒå¥—å­—å…¸ï¼‰

# åŠŸèƒ½è¦æ±‚ï¼š
# 1. ç”¨æˆ·ç®¡ç†ï¼šæ·»åŠ ã€åˆ é™¤ã€æŸ¥è¯¢ç”¨æˆ·
# 2. å¥½å‹ç³»ç»Ÿï¼šæ·»åŠ å¥½å‹ã€åˆ é™¤å¥½å‹ã€æŸ¥æ‰¾å…±åŒå¥½å‹
# 3. æ ‡ç­¾ç³»ç»Ÿï¼šä¸ºç”¨æˆ·æ·»åŠ æ ‡ç­¾ã€åŸºäºæ ‡ç­¾æ¨èå¥½å‹
# 4. ç¤¾äº¤åˆ†æï¼š
#    - è®¡ç®—ç”¨æˆ·çš„å½±å“åŠ›ï¼ˆå¥½å‹æ•°é‡ã€äº’åŠ¨é¢‘ç‡ï¼‰
#    - æ‰¾å‡ºç¤¾äº¤åœˆå­ï¼ˆå¯†é›†è¿æ¥çš„ç”¨æˆ·ç¾¤ï¼‰
#    - åˆ†æç”¨æˆ·å…´è¶£ç›¸ä¼¼åº¦
#    - æ¨èç³»ç»Ÿï¼ˆåŸºäºå¥½å‹å…³ç³»å’Œæ ‡ç­¾ï¼‰
# 5. æ•°æ®å¯¼å‡ºï¼šå°†åˆ†æç»“æœå¯¼å‡ºä¸ºJSONæ ¼å¼

# æ€§èƒ½è¦æ±‚ï¼š
# - æ”¯æŒè‡³å°‘1000ä¸ªç”¨æˆ·
# - å¥½å‹æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦O(1)
# - æ¨èç®—æ³•æ•ˆç‡ä¼˜åŒ–
# - å†…å­˜ä½¿ç”¨åˆç†

# é¢å¤–æŒ‘æˆ˜ï¼š
# - å®ç°ç”¨æˆ·éšç§è®¾ç½®
# - æ·»åŠ ç”¨æˆ·æ´»è·ƒåº¦åˆ†æ
# - å®ç°ç®€å•çš„åä½œå¼Šæœºåˆ¶
# - æ”¯æŒç”¨æˆ·åˆ†ç»„åŠŸèƒ½
```

---

## ğŸ“š æœ¬ç« æ€»ç»“

### ğŸ¯ æ ¸å¿ƒçŸ¥è¯†ç‚¹å›é¡¾

#### 1. å­—å…¸ (Dictionary)
- **æœ¬è´¨**: é”®å€¼å¯¹æ˜ å°„ï¼Œç±»ä¼¼é€šè®¯å½•
- **ç‰¹ç‚¹**: é”®å”¯ä¸€ã€å¿«é€ŸæŸ¥æ‰¾O(1)ã€å¯å˜ã€æœ‰åº(Python 3.7+)
- **åˆ›å»º**: ç›´æ¥åˆ›å»ºã€dict()ã€fromkeys()ã€æ¨å¯¼å¼
- **æ“ä½œ**: è®¿é—®ã€ä¿®æ”¹ã€åˆ é™¤ã€éå†
- **æ–¹æ³•**: get()ã€keys()ã€values()ã€items()ã€update()ç­‰
- **åº”ç”¨**: æ•°æ®å­˜å‚¨ã€å¿«é€ŸæŸ¥æ‰¾ã€é…ç½®ç®¡ç†ã€ç¼“å­˜ç³»ç»Ÿ

#### 2. é›†åˆ (Set)
- **æœ¬è´¨**: å”¯ä¸€å…ƒç´ çš„æ— åºé›†åˆï¼Œç±»ä¼¼ç­çº§åå•
- **ç‰¹ç‚¹**: å…ƒç´ å”¯ä¸€ã€æ”¯æŒæ•°å­¦è¿ç®—ã€å¿«é€Ÿæˆå‘˜æµ‹è¯•O(1)
- **åˆ›å»º**: ç›´æ¥åˆ›å»ºã€set()ã€æ¨å¯¼å¼
- **è¿ç®—**: äº¤é›†(&)ã€å¹¶é›†(|)ã€å·®é›†(-)ã€å¯¹ç§°å·®(^)
- **æ“ä½œ**: æ·»åŠ ã€åˆ é™¤ã€æˆå‘˜æµ‹è¯•
- **åº”ç”¨**: å»é‡ã€æƒé™ç®¡ç†ã€æ•°æ®åˆ†æã€æ ‡ç­¾ç³»ç»Ÿ

#### 3. é«˜çº§æŠ€å·§
- **æ¨å¯¼å¼**: é«˜æ•ˆåˆ›å»ºå’Œå¤„ç†æ•°æ®
- **åµŒå¥—ç»“æ„**: å¤„ç†å¤æ‚çš„å±‚æ¬¡åŒ–æ•°æ®
- **æ€§èƒ½ä¼˜åŒ–**: åˆ©ç”¨O(1)æŸ¥æ‰¾ç‰¹æ€§
- **æ•°æ®ç»“æ„é€‰æ‹©**: æ ¹æ®éœ€æ±‚é€‰æ‹©æœ€ä¼˜ç»“æ„

### ğŸ“Š å››ç§æ•°æ®ç»“æ„å¯¹æ¯”æ€»ç»“

| ä½¿ç”¨åœºæ™¯ | æ¨èæ•°æ®ç»“æ„ | ç†ç”± |
|----------|-------------|------|
| éœ€è¦ä¿æŒé¡ºåºã€å…è®¸é‡å¤ | åˆ—è¡¨(List) | æœ‰åºã€å¯å˜ã€æ”¯æŒç´¢å¼• |
| æ•°æ®ä¸å˜ã€ä½œä¸ºå­—å…¸é”® | å…ƒç»„(Tuple) | ä¸å¯å˜ã€å¯å“ˆå¸Œ |
| éœ€è¦å¿«é€ŸæŸ¥æ‰¾ã€é”®å€¼æ˜ å°„ | å­—å…¸(Dict) | O(1)æŸ¥æ‰¾ã€é”®å€¼å¯¹ |
| éœ€è¦å»é‡ã€æ•°å­¦è¿ç®— | é›†åˆ(Set) | å”¯ä¸€æ€§ã€æ•°å­¦è¿ç®— |

### ğŸ† å­¦ä¹ æˆæœ

é€šè¿‡æœ¬ç« å­¦ä¹ ï¼Œä½ å·²ç»æŒæ¡äº†ï¼š

1. **æ¦‚å¿µç†è§£**: 
   - ç†è§£å“ˆå¸Œè¡¨åŸç†å’ŒO(1)æ—¶é—´å¤æ‚åº¦çš„ä¼˜åŠ¿
   - æŒæ¡é”®å€¼å¯¹æ˜ å°„å’Œé›†åˆæ•°å­¦è¿ç®—çš„æ¦‚å¿µ

2. **å®ç”¨æŠ€èƒ½**:
   - èƒ½å¤Ÿæ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„
   - ç†Ÿç»ƒä½¿ç”¨æ¨å¯¼å¼è¿›è¡Œé«˜æ•ˆæ•°æ®å¤„ç†
   - èƒ½å¤Ÿå¤„ç†å¤æ‚çš„åµŒå¥—æ•°æ®ç»“æ„

3. **é¡¹ç›®ç»éªŒ**:
   - å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿï¼šå±•ç¤ºå­—å…¸çš„å®é™…åº”ç”¨
   - æ–‡æœ¬åˆ†æå™¨ï¼šå±•ç¤ºæ¨å¯¼å¼çš„å¼ºå¤§åŠŸèƒ½
   - æƒé™ç®¡ç†ç³»ç»Ÿï¼šå±•ç¤ºé›†åˆè¿ç®—çš„å®ç”¨ä»·å€¼
   - æ•°æ®åˆ†æç³»ç»Ÿï¼šå±•ç¤ºç»¼åˆåº”ç”¨èƒ½åŠ›
   - æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿï¼šå±•ç¤ºé«˜çº§è®¾è®¡æ¨¡å¼

4. **æ€§èƒ½æ„è¯†**:
   - ç†è§£ä¸åŒæ•°æ®ç»“æ„çš„æ—¶é—´å¤æ‚åº¦
   - èƒ½å¤Ÿè¿›è¡Œæ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–
   - å»ºç«‹äº†ç®—æ³•æ•ˆç‡çš„åŸºæœ¬æ¦‚å¿µ

### ğŸš€ è¿›é˜¶æ–¹å‘

æŒæ¡äº†å­—å…¸å’Œé›†åˆåï¼Œä½ å¯ä»¥ç»§ç»­å­¦ä¹ ï¼š

1. **æ•°æ®ç»“æ„è¿›é˜¶**:
   - Collectionsæ¨¡å—ï¼ˆCounterã€defaultdictã€OrderedDictï¼‰
   - è‡ªå®šä¹‰æ•°æ®ç»“æ„è®¾è®¡
   - ç®—æ³•ä¸æ•°æ®ç»“æ„ä¼˜åŒ–

2. **å®é™…åº”ç”¨**:
   - æ•°æ®åº“è®¾è®¡åŸç†
   - ç¼“å­˜ç³»ç»Ÿè®¾è®¡
   - æœç´¢å¼•æ“åŸºç¡€
   - æ¨èç³»ç»Ÿç®—æ³•

3. **æ€§èƒ½ä¼˜åŒ–**:
   - å†…å­˜ç®¡ç†ä¼˜åŒ–
   - å¹¶å‘æ•°æ®ç»“æ„
   - åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨

### ğŸ’¡ æœ€ä½³å®è·µæ€»ç»“

1. **é€‰æ‹©åŸåˆ™**:
   - éœ€è¦å¿«é€ŸæŸ¥æ‰¾ â†’ å­—å…¸æˆ–é›†åˆ
   - éœ€è¦å»é‡ â†’ é›†åˆ
   - éœ€è¦é”®å€¼æ˜ å°„ â†’ å­—å…¸
   - éœ€è¦æ•°å­¦è¿ç®— â†’ é›†åˆ

2. **æ€§èƒ½ä¼˜åŒ–**:
   - ä¼˜å…ˆä½¿ç”¨æ¨å¯¼å¼è€Œä¸æ˜¯å¾ªç¯
   - åˆ©ç”¨é›†åˆè¿›è¡Œå¿«é€Ÿæˆå‘˜æµ‹è¯•
   - ä½¿ç”¨å­—å…¸ç¼“å­˜è®¡ç®—ç»“æœ
   - åˆç†è®¾è®¡æ•°æ®ç»“æ„å‡å°‘åµŒå¥—å±‚æ¬¡

3. **ä»£ç è§„èŒƒ**:
   - ä½¿ç”¨æœ‰æ„ä¹‰çš„é”®å
   - æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
   - è¿›è¡Œè¾“å…¥éªŒè¯å’Œé”™è¯¯å¤„ç†
   - ä¿æŒä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§

### ğŸ“ ä¸‹ç« é¢„å‘Š

ä¸‹ä¸€ç« æˆ‘ä»¬å°†å­¦ä¹ ã€Šæ¨¡å—ä¸åŒ…ç®¡ç†ã€‹ï¼Œå†…å®¹åŒ…æ‹¬ï¼š
- Pythonæ¨¡å—ç³»ç»Ÿçš„è®¾è®¡åŸç†
- å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨è‡ªå®šä¹‰æ¨¡å—
- åŒ…çš„ç»„ç»‡å’Œç®¡ç†
- ç¬¬ä¸‰æ–¹åº“çš„å®‰è£…å’Œä½¿ç”¨
- è™šæ‹Ÿç¯å¢ƒçš„ç®¡ç†
- é¡¹ç›®ç»“æ„çš„æœ€ä½³å®è·µ

è¿™å°†å¸®åŠ©ä½ æ„å»ºæ›´å¤§å‹ã€æ›´å¤æ‚çš„Pythoné¡¹ç›®ï¼Œä¸ºåç»­çš„Webå¼€å‘å’Œæ•°æ®åˆ†ææ‰“ä¸‹åšå®åŸºç¡€ã€‚

---

**æœ¬ç« å®Œæˆæ—¶é—´**: 2024å¹´2æœˆ1æ—¥  
**å­—æ•°ç»Ÿè®¡**: çº¦20,000å­—  
**ä»£ç è¡Œæ•°**: çº¦1,200è¡Œ  
**è´¨é‡è¯„ä¼°**: â­â­â­â­â­  
**åˆ›æ–°äº®ç‚¹**: ç”Ÿæ´»åŒ–æ¯”å–»ã€å®Œæ•´é¡¹ç›®ç¤ºä¾‹ã€æ€§èƒ½å¯¹æ¯”åˆ†æ