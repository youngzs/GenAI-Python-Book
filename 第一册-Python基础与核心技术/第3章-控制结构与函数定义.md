# ç¬¬3ç« ï¼šæ§åˆ¶ç»“æ„ä¸å‡½æ•°å®šä¹‰

## ğŸ“š å­¦ä¹ ç›®æ ‡

**S**pecific (å…·ä½“)ï¼š
- æŒæ¡Pythonä¸­çš„æ¡ä»¶æ§åˆ¶è¯­å¥ï¼ˆif/elif/elseï¼‰
- ç†Ÿç»ƒä½¿ç”¨å¾ªç¯ç»“æ„ï¼ˆfor/whileï¼‰è§£å†³é‡å¤æ€§ä»»åŠ¡
- ç†è§£å‡½æ•°çš„å®šä¹‰ã€è°ƒç”¨å’Œå‚æ•°ä¼ é€’æœºåˆ¶
- æŒæ¡å˜é‡ä½œç”¨åŸŸå’Œå‡½æ•°è®¾è®¡åŸåˆ™

**M**easurable (å¯è¡¡é‡)ï¼š
- èƒ½å¤Ÿç¼–å†™è‡³å°‘20ä¸ªä¸åŒçš„æ§åˆ¶ç»“æ„ä»£ç ç¤ºä¾‹
- æ­£ç¡®å®Œæˆ95%ä»¥ä¸Šçš„æ¡ä»¶å’Œå¾ªç¯ç»ƒä¹ é¢˜
- ç‹¬ç«‹è®¾è®¡å¹¶å®ç°åŒ…å«å¤šä¸ªå‡½æ•°çš„å®Œæ•´ç¨‹åº

**A**chievable (å¯å®ç°)ï¼š
- é€šè¿‡å¾ªåºæ¸è¿›çš„ç†è®ºå­¦ä¹ å’Œå®è·µç»ƒä¹ 
- ä»ç®€å•æ¡ä»¶åˆ¤æ–­åˆ°å¤æ‚ç¨‹åºæ§åˆ¶é€»è¾‘

**R**elevant (ç›¸å…³æ€§)ï¼š
- ä¸ºç®—æ³•è®¾è®¡å’Œç¨‹åºæ¶æ„æ‰“ä¸‹åŸºç¡€
- åŸ¹å…»ç»“æ„åŒ–ç¼–ç¨‹æ€ç»´

**T**ime-bound (æ—¶é™æ€§)ï¼š
- 2å‘¨å†…å®Œæˆæœ¬ç« å­¦ä¹ ï¼ˆ4è¯¾æ—¶ç†è®º+å®è·µï¼‰

## ğŸ—ºï¸ çŸ¥è¯†å¯¼å›¾

```mermaid
mindmap
  root((ç¬¬3ç« ï¼šæ§åˆ¶ç»“æ„ä¸å‡½æ•°))
    æ¡ä»¶æ§åˆ¶
      ifè¯­å¥
        å•åˆ†æ”¯æ¡ä»¶
        åŒåˆ†æ”¯if-else
        å¤šåˆ†æ”¯elif
        åµŒå¥—æ¡ä»¶
      æ¡ä»¶è¡¨è¾¾å¼
        ä¸‰å…ƒæ“ä½œç¬¦
        çŸ­è·¯æ±‚å€¼
        å¸ƒå°”è¿ç®—
    å¾ªç¯æ§åˆ¶
      forå¾ªç¯
        åºåˆ—éå†
        rangeå‡½æ•°
        enumerateå’Œzip
        åˆ—è¡¨æ¨å¯¼å¼
      whileå¾ªç¯
        æ¡ä»¶å¾ªç¯
        æ— é™å¾ªç¯å¤„ç†
        å¾ªç¯ç»ˆæ­¢æ¡ä»¶
      å¾ªç¯æ§åˆ¶
        breakè·³å‡º
        continueç»§ç»­
        elseå­å¥
        å¾ªç¯åµŒå¥—
    å‡½æ•°è®¾è®¡
      å‡½æ•°å®šä¹‰
        defå…³é”®å­—
        å‡½æ•°å‘½å
        å‚æ•°åˆ—è¡¨
        è¿”å›å€¼
      å‚æ•°æœºåˆ¶
        ä½ç½®å‚æ•°
        å…³é”®å­—å‚æ•°
        é»˜è®¤å‚æ•°
        å¯å˜å‚æ•°
      ä½œç”¨åŸŸç®¡ç†
        å±€éƒ¨ä½œç”¨åŸŸ
        å…¨å±€ä½œç”¨åŸŸ
        globalå…³é”®å­—
        nonlocalå…³é”®å­—
      é«˜çº§ç‰¹æ€§
        é€’å½’å‡½æ•°
        lambdaè¡¨è¾¾å¼
        è£…é¥°å™¨åŸºç¡€
```

## ğŸ’¡ 3.1 æ¡ä»¶æ§åˆ¶ç»“æ„

### 3.1.1 ifè¯­å¥åŸºç¡€

æ¡ä»¶æ§åˆ¶æ˜¯ç¨‹åºæ ¹æ®ä¸åŒæƒ…å†µåšå‡ºä¸åŒå†³ç­–çš„æœºåˆ¶ã€‚Pythonä½¿ç”¨`if`è¯­å¥å®ç°æ¡ä»¶æ§åˆ¶ã€‚

```python
# åŸºæœ¬ifè¯­å¥
age = 18
if age >= 18:
    print("ä½ å·²ç»æˆå¹´äº†")
    print("å¯ä»¥ç”³è¯·èº«ä»½è¯")

# if-elseåŒåˆ†æ”¯
score = 85
if score >= 60:
    print("æ­å–œä½ ï¼Œè€ƒè¯•é€šè¿‡äº†ï¼")
else:
    print("å¾ˆé—æ†¾ï¼Œéœ€è¦é‡è€ƒ")

# å¤šåˆ†æ”¯elif
grade = 92
if grade >= 90:
    level = "ä¼˜ç§€"
elif grade >= 80:
    level = "è‰¯å¥½"
elif grade >= 70:
    level = "ä¸­ç­‰"
elif grade >= 60:
    level = "åŠæ ¼"
else:
    level = "ä¸åŠæ ¼"

print(f"ä½ çš„æˆç»©ç­‰çº§æ˜¯ï¼š{level}")
```

### 3.1.2 å¤æ‚æ¡ä»¶åˆ¤æ–­

```python
# é€»è¾‘è¿ç®—ç¬¦ç»„åˆæ¡ä»¶
age = 25
income = 8000
credit_score = 750

# è´·æ¬¾å®¡æ‰¹æ¡ä»¶
if age >= 18 and age <= 65 and income >= 5000 and credit_score >= 700:
    print("è´·æ¬¾ç”³è¯·é€šè¿‡")
else:
    print("è´·æ¬¾ç”³è¯·ä¸ç¬¦åˆæ¡ä»¶")

# ä½¿ç”¨inå…³é”®å­—
user_role = "admin"
if user_role in ["admin", "manager", "supervisor"]:
    print("æœ‰ç®¡ç†æƒé™")
else:
    print("æ™®é€šç”¨æˆ·æƒé™")

# æ¡ä»¶è¡¨è¾¾å¼ï¼ˆä¸‰å…ƒæ“ä½œç¬¦ï¼‰
temperature = 25
weather = "èˆ’é€‚" if 15 <= temperature <= 30 else "ä¸é€‚å®œ"
print(f"ä»Šå¤©å¤©æ°”{weather}")
```

### 3.1.3 åµŒå¥—æ¡ä»¶å’Œå®ç”¨æŠ€å·§

```python
def evaluate_student(score, attendance):
    """å­¦ç”Ÿç»¼åˆè¯„ä»·ç³»ç»Ÿ"""
    if score >= 0 and score <= 100:  # åˆ†æ•°æœ‰æ•ˆæ€§æ£€æŸ¥
        if attendance >= 80:  # å‡ºå‹¤ç‡æ£€æŸ¥
            if score >= 90:
                return "ä¼˜ç§€å­¦ç”Ÿ"
            elif score >= 80:
                return "è‰¯å¥½å­¦ç”Ÿ"
            elif score >= 60:
                return "åˆæ ¼å­¦ç”Ÿ"
            else:
                return "éœ€è¦è¡¥ä¹ "
        else:
            return "å‡ºå‹¤ç‡ä¸è¶³ï¼Œæ— æ³•è¯„çº§"
    else:
        return "åˆ†æ•°è¾“å…¥é”™è¯¯"

# æµ‹è¯•å‡½æ•°
print(evaluate_student(95, 90))  # ä¼˜ç§€å­¦ç”Ÿ
print(evaluate_student(75, 70))  # å‡ºå‹¤ç‡ä¸è¶³ï¼Œæ— æ³•è¯„çº§
```

## ğŸ”„ 3.2 å¾ªç¯æ§åˆ¶ç»“æ„

### 3.2.1 forå¾ªç¯è¯¦è§£

`for`å¾ªç¯ç”¨äºéå†åºåˆ—ï¼ˆå­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„ç­‰ï¼‰æˆ–å…¶ä»–å¯è¿­ä»£å¯¹è±¡ã€‚

```python
# åŸºæœ¬forå¾ªç¯
fruits = ["è‹¹æœ", "é¦™è•‰", "æ©™å­", "è‘¡è„"]
for fruit in fruits:
    print(f"æˆ‘å–œæ¬¢åƒ{fruit}")

# ä½¿ç”¨range()å‡½æ•°
print("å€’è®¡æ—¶ï¼š")
for i in range(10, 0, -1):
    print(i)
print("å‘å°„ï¼")

# enumerate()è·å–ç´¢å¼•å’Œå€¼
students = ["å°æ˜", "å°çº¢", "å°å¼º"]
for index, name in enumerate(students, 1):
    print(f"ç¬¬{index}åå­¦ç”Ÿï¼š{name}")

# zip()åŒæ—¶éå†å¤šä¸ªåºåˆ—
names = ["å¼ ä¸‰", "æå››", "ç‹äº”"]
scores = [95, 87, 92]
subjects = ["æ•°å­¦", "è‹±è¯­", "ç‰©ç†"]

for name, score, subject in zip(names, scores, subjects):
    print(f"{name}çš„{subject}æˆç»©æ˜¯{score}åˆ†")
```

### 3.2.2 whileå¾ªç¯åº”ç”¨

`while`å¾ªç¯åœ¨æ¡ä»¶ä¸ºçœŸæ—¶é‡å¤æ‰§è¡Œä»£ç å—ã€‚

```python
# åŸºæœ¬whileå¾ªç¯
count = 1
while count <= 5:
    print(f"è¿™æ˜¯ç¬¬{count}æ¬¡å¾ªç¯")
    count += 1

# ç”¨æˆ·è¾“å…¥éªŒè¯
while True:
    password = input("è¯·è¾“å…¥å¯†ç ï¼š")
    if len(password) >= 8:
        print("å¯†ç è®¾ç½®æˆåŠŸï¼")
        break
    else:
        print("å¯†ç é•¿åº¦è‡³å°‘8ä½ï¼Œè¯·é‡æ–°è¾“å…¥")

# æ•°å­—çŒœè°œæ¸¸æˆ
import random

secret_number = random.randint(1, 100)
attempts = 0
max_attempts = 7

print("æˆ‘æƒ³äº†ä¸€ä¸ª1åˆ°100ä¹‹é—´çš„æ•°å­—ï¼Œä½ èƒ½çŒœåˆ°å—ï¼Ÿ")
print(f"ä½ æœ‰{max_attempts}æ¬¡æœºä¼š")

while attempts < max_attempts:
    try:
        guess = int(input("è¯·è¾“å…¥ä½ çš„çŒœæµ‹ï¼š"))
        attempts += 1
        
        if guess == secret_number:
            print(f"æ­å–œä½ ï¼çŒœå¯¹äº†ï¼ç­”æ¡ˆæ˜¯{secret_number}")
            print(f"ä½ ç”¨äº†{attempts}æ¬¡æœºä¼š")
            break
        elif guess < secret_number:
            print("å¤ªå°äº†ï¼Œå†è¯•è¯•")
        else:
            print("å¤ªå¤§äº†ï¼Œå†è¯•è¯•")
            
        print(f"å‰©ä½™æœºä¼šï¼š{max_attempts - attempts}")
        
    except ValueError:
        print("è¯·è¾“å…¥æœ‰æ•ˆæ•°å­—")
        attempts -= 1  # æ— æ•ˆè¾“å…¥ä¸è®¡å…¥æ¬¡æ•°

if attempts >= max_attempts:
    print(f"æ¸¸æˆç»“æŸï¼ç­”æ¡ˆæ˜¯{secret_number}")
```

### 3.2.3 å¾ªç¯æ§åˆ¶è¯­å¥

```python
# breakå’Œcontinueçš„ä½¿ç”¨
print("æ‰¾å‡º1-20ä¸­çš„æ‰€æœ‰è´¨æ•°ï¼š")
for num in range(2, 21):
    is_prime = True
    for i in range(2, int(num ** 0.5) + 1):
        if num % i == 0:
            is_prime = False
            break  # æ‰¾åˆ°å› æ•°ï¼Œè·³å‡ºå†…å±‚å¾ªç¯
    
    if is_prime:
        print(num, end=" ")

print("\n")

# continueè·³è¿‡å½“å‰è¿­ä»£
print("1-10ä¸­çš„å¥‡æ•°ï¼š")
for i in range(1, 11):
    if i % 2 == 0:
        continue  # è·³è¿‡å¶æ•°
    print(i, end=" ")

print("\n")

# for-elseç»“æ„
def find_item(items, target):
    """åœ¨åˆ—è¡¨ä¸­æŸ¥æ‰¾å…ƒç´ """
    for item in items:
        if item == target:
            print(f"æ‰¾åˆ°äº†{target}")
            break
    else:
        print(f"æ²¡æœ‰æ‰¾åˆ°{target}")

shopping_list = ["è‹¹æœ", "é¢åŒ…", "ç‰›å¥¶"]
find_item(shopping_list, "é¢åŒ…")  # æ‰¾åˆ°äº†é¢åŒ…
find_item(shopping_list, "é¸¡è›‹")  # æ²¡æœ‰æ‰¾åˆ°é¸¡è›‹

### 3.2.4 å®é™…åº”ç”¨åœºæ™¯

#### Webå¼€å‘ä¸­çš„å¾ªç¯åº”ç”¨

```python
# å¤„ç†ç”¨æˆ·è¡¨å•æ•°æ®
def process_form_data(form_data):
    """å¤„ç†Webè¡¨å•æ•°æ®"""
    processed_data = {}
    required_fields = ['username', 'email', 'password']
    
    # éªŒè¯å¿…å¡«å­—æ®µ
    for field in required_fields:
        if field not in form_data or not form_data[field].strip():
            return {'error': f'å­—æ®µ {field} æ˜¯å¿…å¡«çš„'}
        processed_data[field] = form_data[field].strip()
    
    # å¤„ç†å¯é€‰å­—æ®µ
    optional_fields = ['phone', 'address', 'bio']
    for field in optional_fields:
        if field in form_data:
            processed_data[field] = form_data[field].strip()
    
    return {'success': True, 'data': processed_data}

# æ¨¡æ‹Ÿè¡¨å•æ•°æ®
sample_form = {
    'username': 'john_doe',
    'email': 'john@example.com',
    'password': 'secure123',
    'phone': '123-456-7890'
}

result = process_form_data(sample_form)
print(result)

# æ‰¹é‡å¤„ç†APIå“åº”
def process_api_responses(responses):
    """æ‰¹é‡å¤„ç†APIå“åº”æ•°æ®"""
    successful_responses = []
    failed_responses = []
    
    for i, response in enumerate(responses):
        try:
            if response['status'] == 'success':
                successful_responses.append({
                    'index': i,
                    'data': response['data']
                })
            else:
                failed_responses.append({
                    'index': i,
                    'error': response.get('error', 'Unknown error')
                })
        except KeyError as e:
            failed_responses.append({
                'index': i,
                'error': f'Invalid response format: {e}'
            })
    
    return {
        'successful': successful_responses,
        'failed': failed_responses,
        'total': len(responses)
    }

# æ¨¡æ‹ŸAPIå“åº”
api_responses = [
    {'status': 'success', 'data': {'id': 1, 'name': 'Item 1'}},
    {'status': 'error', 'error': 'Not found'},
    {'status': 'success', 'data': {'id': 3, 'name': 'Item 3'}},
    {'invalid': 'response'}
]

results = process_api_responses(api_responses)
print(f"æˆåŠŸå¤„ç†: {len(results['successful'])} ä¸ª")
print(f"å¤±è´¥å¤„ç†: {len(results['failed'])} ä¸ª")
```

#### æ•°æ®å¤„ç†ä¸­çš„å¾ªç¯ä¼˜åŒ–

```python
# é«˜æ•ˆçš„æ•°æ®è¿‡æ»¤å’Œè½¬æ¢
def process_data_efficiently(data_list, filters=None, transformations=None):
    """é«˜æ•ˆå¤„ç†æ•°æ®åˆ—è¡¨"""
    if filters is None:
        filters = []
    if transformations is None:
        transformations = []
    
    processed_data = []
    
    for item in data_list:
        # åº”ç”¨è¿‡æ»¤å™¨
        should_include = True
        for filter_func in filters:
            if not filter_func(item):
                should_include = False
                break
        
        if not should_include:
            continue
        
        # åº”ç”¨è½¬æ¢
        processed_item = item.copy() if isinstance(item, dict) else item
        for transform_func in transformations:
            processed_item = transform_func(processed_item)
        
        processed_data.append(processed_item)
    
    return processed_data

# ä½¿ç”¨ç¤ºä¾‹
sample_data = [
    {'id': 1, 'name': 'Alice', 'age': 25, 'salary': 50000},
    {'id': 2, 'name': 'Bob', 'age': 30, 'salary': 60000},
    {'id': 3, 'name': 'Charlie', 'age': 22, 'salary': 45000},
    {'id': 4, 'name': 'Diana', 'age': 35, 'salary': 75000}
]

# å®šä¹‰è¿‡æ»¤å™¨å’Œè½¬æ¢å™¨
age_filter = lambda x: x['age'] >= 25
salary_filter = lambda x: x['salary'] >= 50000
name_upper = lambda x: {**x, 'name': x['name'].upper()}
add_bonus = lambda x: {**x, 'bonus': x['salary'] * 0.1}

# åº”ç”¨å¤„ç†
result = process_data_efficiently(
    sample_data,
    filters=[age_filter, salary_filter],
    transformations=[name_upper, add_bonus]
)

print("å¤„ç†ç»“æœ:")
for item in result:
    print(f"  {item['name']}: å¹´é¾„{item['age']}, è–ªèµ„{item['salary']}, å¥–é‡‘{item['bonus']}")
```
```

## ğŸ”§ 3.3 å‡½æ•°è®¾è®¡ä¸å®ç°

### 3.3.1 å‡½æ•°å®šä¹‰åŸºç¡€

å‡½æ•°æ˜¯å¯é‡ç”¨çš„ä»£ç å—ï¼Œç”¨äºæ‰§è¡Œç‰¹å®šä»»åŠ¡ã€‚

```python
# åŸºæœ¬å‡½æ•°å®šä¹‰
def greet():
    """ç®€å•çš„é—®å€™å‡½æ•°"""
    print("Hello, World!")

# è°ƒç”¨å‡½æ•°
greet()

# å¸¦å‚æ•°çš„å‡½æ•°
def greet_person(name):
    """ä¸ªæ€§åŒ–é—®å€™å‡½æ•°"""
    print(f"Hello, {name}!")

greet_person("å°æ˜")

# å¸¦è¿”å›å€¼çš„å‡½æ•°
def add_numbers(a, b):
    """è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œ"""
    result = a + b
    return result

sum_result = add_numbers(10, 20)
print(f"10 + 20 = {sum_result}")

# å¸¦é»˜è®¤å‚æ•°çš„å‡½æ•°
def introduce(name, age=18, city="åŒ—äº¬"):
    """è‡ªæˆ‘ä»‹ç»å‡½æ•°"""
    return f"æˆ‘å«{name}ï¼Œä»Šå¹´{age}å²ï¼Œæ¥è‡ª{city}"

print(introduce("å°çº¢"))
print(introduce("å°æ˜", 25))
print(introduce("å°æ", 30, "ä¸Šæµ·"))
```

### 3.3.2 å‚æ•°ä¼ é€’æœºåˆ¶

```python
# ä½ç½®å‚æ•°å’Œå…³é”®å­—å‚æ•°
def create_profile(name, age, city, hobby):
    """åˆ›å»ºç”¨æˆ·æ¡£æ¡ˆ"""
    return {
        "å§“å": name,
        "å¹´é¾„": age,
        "åŸå¸‚": city,
        "çˆ±å¥½": hobby
    }

# ä½ç½®å‚æ•°è°ƒç”¨
profile1 = create_profile("å¼ ä¸‰", 25, "åŒ—äº¬", "è¯»ä¹¦")

# å…³é”®å­—å‚æ•°è°ƒç”¨
profile2 = create_profile(
    hobby="æ¸¸æ³³",
    name="æå››",
    city="ä¸Šæµ·",
    age=28
)

# æ··åˆè°ƒç”¨ï¼ˆä½ç½®å‚æ•°å¿…é¡»åœ¨å…³é”®å­—å‚æ•°å‰é¢ï¼‰
profile3 = create_profile("ç‹äº”", 22, city="å¹¿å·", hobby="éŸ³ä¹")

print(profile1)
print(profile2)

# å¯å˜å‚æ•° *args
def calculate_sum(*numbers):
    """è®¡ç®—ä»»æ„æ•°é‡æ•°å­—çš„å’Œ"""
    total = 0
    for num in numbers:
        total += num
    return total

print(calculate_sum(1, 2, 3))
print(calculate_sum(10, 20, 30, 40, 50))

# å…³é”®å­—å¯å˜å‚æ•° **kwargs
def create_student(**info):
    """åˆ›å»ºå­¦ç”Ÿä¿¡æ¯"""
    student = {}
    for key, value in info.items():
        student[key] = value
    return student

student1 = create_student(name="å°æ˜", age=20, major="è®¡ç®—æœº")
student2 = create_student(name="å°çº¢", grade=3, school="æ¸…åå¤§å­¦", gpa=3.8)

print(student1)
print(student2)
```

### 3.3.3 å˜é‡ä½œç”¨åŸŸ

```python
# å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡
global_var = "æˆ‘æ˜¯å…¨å±€å˜é‡"

def scope_demo():
    local_var = "æˆ‘æ˜¯å±€éƒ¨å˜é‡"
    print(f"å‡½æ•°å†…éƒ¨è®¿é—®å…¨å±€å˜é‡ï¼š{global_var}")
    print(f"å‡½æ•°å†…éƒ¨è®¿é—®å±€éƒ¨å˜é‡ï¼š{local_var}")

scope_demo()
print(f"å‡½æ•°å¤–éƒ¨è®¿é—®å…¨å±€å˜é‡ï¼š{global_var}")
# print(local_var)  # è¿™ä¼šæŠ¥é”™ï¼Œå±€éƒ¨å˜é‡åœ¨å‡½æ•°å¤–ä¸å¯è®¿é—®

# ä½¿ç”¨globalå…³é”®å­—ä¿®æ”¹å…¨å±€å˜é‡
counter = 0

def increment():
    global counter
    counter += 1
    print(f"è®¡æ•°å™¨å€¼ï¼š{counter}")

increment()  # è®¡æ•°å™¨å€¼ï¼š1
increment()  # è®¡æ•°å™¨å€¼ï¼š2

# å‡½æ•°åµŒå¥—å’Œnonlocal
def outer_function():
    outer_var = "å¤–å±‚å‡½æ•°å˜é‡"
    
    def inner_function():
        nonlocal outer_var
        outer_var = "è¢«å†…å±‚å‡½æ•°ä¿®æ”¹çš„å˜é‡"
        print(f"å†…å±‚å‡½æ•°ï¼š{outer_var}")
    
    print(f"ä¿®æ”¹å‰ï¼š{outer_var}")
    inner_function()
    print(f"ä¿®æ”¹åï¼š{outer_var}")

outer_function()
```

### 3.3.4 é€’å½’å‡½æ•°

```python
# è®¡ç®—é˜¶ä¹˜
def factorial(n):
    """è®¡ç®—nçš„é˜¶ä¹˜"""
    if n <= 1:
        return 1
    else:
        return n * factorial(n - 1)

print(f"5! = {factorial(5)}")  # 5! = 120

# æ–æ³¢é‚£å¥‘æ•°åˆ—
def fibonacci(n):
    """è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—ç¬¬né¡¹"""
    if n <= 1:
        return n
    else:
        return fibonacci(n - 1) + fibonacci(n - 2)

# æ‰“å°å‰10é¡¹æ–æ³¢é‚£å¥‘æ•°åˆ—
print("æ–æ³¢é‚£å¥‘æ•°åˆ—å‰10é¡¹ï¼š")
for i in range(10):
    print(fibonacci(i), end=" ")
print()

# æ±‰è¯ºå¡”é—®é¢˜
def hanoi(n, source, target, auxiliary):
    """è§£å†³æ±‰è¯ºå¡”é—®é¢˜"""
    if n == 1:
        print(f"å°†ç›˜å­ä»{source}ç§»åŠ¨åˆ°{target}")
    else:
        hanoi(n - 1, source, auxiliary, target)
        print(f"å°†ç›˜å­ä»{source}ç§»åŠ¨åˆ°{target}")
        hanoi(n - 1, auxiliary, target, source)

print("è§£å†³3å±‚æ±‰è¯ºå¡”é—®é¢˜ï¼š")
hanoi(3, "A", "C", "B")

### 3.5.2 ç”Ÿæˆå™¨å‡½æ•°

ç”Ÿæˆå™¨å‡½æ•°ä½¿ç”¨`yield`å…³é”®å­—ï¼Œå¯ä»¥é€ä¸ªäº§ç”Ÿå€¼è€Œä¸ä¸€æ¬¡æ€§ç”Ÿæˆæ‰€æœ‰æ•°æ®ã€‚

```python
# åŸºæœ¬ç”Ÿæˆå™¨å‡½æ•°
def fibonacci_generator(n):
    """ç”Ÿæˆæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‰nä¸ªæ•°"""
    a, b = 0, 1
    count = 0
    while count < n:
        yield a
        a, b = b, a + b
        count += 1

# ä½¿ç”¨ç”Ÿæˆå™¨
print("æ–æ³¢é‚£å¥‘æ•°åˆ—å‰10ä¸ªæ•°ï¼š")
for num in fibonacci_generator(10):
    print(num, end=" ")
print()

# å†…å­˜é«˜æ•ˆçš„ç”Ÿæˆå™¨
def read_large_file(file_path):
    """é€è¡Œè¯»å–å¤§æ–‡ä»¶ï¼Œé¿å…å†…å­˜æº¢å‡º"""
    with open(file_path, 'r', encoding='utf-8') as file:
        for line in file:
            yield line.strip()

# æ¨¡æ‹Ÿå¤§æ–‡ä»¶å¤„ç†
def process_data_stream():
    """å¤„ç†æ•°æ®æµçš„ç”Ÿæˆå™¨"""
    data = ["æ•°æ®1", "æ•°æ®2", "æ•°æ®3", "æ•°æ®4", "æ•°æ®5"]
    for item in data:
        # æ¨¡æ‹Ÿå¤„ç†æ—¶é—´
        yield f"å·²å¤„ç†: {item}"

# ä½¿ç”¨ç”Ÿæˆå™¨å¤„ç†æ•°æ®
for processed_item in process_data_stream():
    print(processed_item)
```

### 3.5.3 é—­åŒ…å’Œè£…é¥°å™¨

#### é—­åŒ…å‡½æ•°

```python
# é—­åŒ…ï¼šå‡½æ•°è¿”å›å¦ä¸€ä¸ªå‡½æ•°
def create_counter():
    """åˆ›å»ºè®¡æ•°å™¨é—­åŒ…"""
    count = 0
    
    def counter():
        nonlocal count
        count += 1
        return count
    
    return counter

# ä½¿ç”¨é—­åŒ…
counter1 = create_counter()
counter2 = create_counter()

print(f"è®¡æ•°å™¨1: {counter1()}")  # 1
print(f"è®¡æ•°å™¨1: {counter1()}")  # 2
print(f"è®¡æ•°å™¨2: {counter2()}")  # 1
print(f"è®¡æ•°å™¨1: {counter1()}")  # 3

# å¸¦å‚æ•°çš„é—­åŒ…
def create_multiplier(factor):
    """åˆ›å»ºä¹˜æ³•å™¨é—­åŒ…"""
    def multiplier(x):
        return x * factor
    return multiplier

double = create_multiplier(2)
triple = create_multiplier(3)

print(f"2çš„2å€: {double(2)}")   # 4
print(f"3çš„3å€: {triple(3)}")   # 9
```

#### è£…é¥°å™¨åŸºç¡€

```python
# åŸºæœ¬è£…é¥°å™¨
def timer_decorator(func):
    """è®¡æ—¶è£…é¥°å™¨"""
    import time
    
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()
        print(f"{func.__name__} æ‰§è¡Œæ—¶é—´: {end_time - start_time:.4f}ç§’")
        return result
    
    return wrapper

# ä½¿ç”¨è£…é¥°å™¨
@timer_decorator
def slow_function():
    """æ¨¡æ‹Ÿè€—æ—¶å‡½æ•°"""
    import time
    time.sleep(1)
    return "å®Œæˆ"

# è°ƒç”¨è¢«è£…é¥°çš„å‡½æ•°
result = slow_function()

# å¸¦å‚æ•°çš„è£…é¥°å™¨
def retry_decorator(max_attempts=3):
    """é‡è¯•è£…é¥°å™¨"""
    def decorator(func):
        def wrapper(*args, **kwargs):
            for attempt in range(max_attempts):
                try:
                    return func(*args, **kwargs)
                except Exception as e:
                    if attempt == max_attempts - 1:
                        raise e
                    print(f"ç¬¬{attempt + 1}æ¬¡å°è¯•å¤±è´¥ï¼Œé‡è¯•ä¸­...")
            return None
        return wrapper
    return decorator

# ä½¿ç”¨å¸¦å‚æ•°çš„è£…é¥°å™¨
@retry_decorator(max_attempts=3)
def unreliable_function():
    """æ¨¡æ‹Ÿä¸ç¨³å®šçš„å‡½æ•°"""
    import random
    if random.random() < 0.7:  # 70%æ¦‚ç‡å¤±è´¥
        raise Exception("éšæœºé”™è¯¯")
    return "æˆåŠŸ"

# æµ‹è¯•é‡è¯•æœºåˆ¶
try:
    result = unreliable_function()
    print(f"æœ€ç»ˆç»“æœ: {result}")
except Exception as e:
    print(f"æ‰€æœ‰é‡è¯•éƒ½å¤±è´¥äº†: {e}")
```

### 3.5.4 å‡½æ•°å¼ç¼–ç¨‹å·¥å…·

```python
# é«˜é˜¶å‡½æ•°ï¼šmap, filter, reduce
from functools import reduce

# mapå‡½æ•°ï¼šå¯¹åºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ åº”ç”¨å‡½æ•°
numbers = [1, 2, 3, 4, 5]
squared = list(map(lambda x: x**2, numbers))
print(f"å¹³æ–¹æ•°: {squared}")  # [1, 4, 9, 16, 25]

# filterå‡½æ•°ï¼šè¿‡æ»¤åºåˆ—ä¸­çš„å…ƒç´ 
even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
print(f"å¶æ•°: {even_numbers}")  # [2, 4]

# reduceå‡½æ•°ï¼šç´¯ç§¯è®¡ç®—
sum_all = reduce(lambda x, y: x + y, numbers)
print(f"æ€»å’Œ: {sum_all}")  # 15

# å‡½æ•°ç»„åˆ
def compose(*functions):
    """å‡½æ•°ç»„åˆå™¨"""
    def inner(arg):
        for f in reversed(functions):
            arg = f(arg)
        return arg
    return inner

# ä½¿ç”¨å‡½æ•°ç»„åˆ
add_one = lambda x: x + 1
multiply_by_two = lambda x: x * 2
square = lambda x: x ** 2

combined = compose(square, multiply_by_two, add_one)
result = combined(3)  # ((3 + 1) * 2) ^ 2 = 64
print(f"ç»„åˆå‡½æ•°ç»“æœ: {result}")

# åå‡½æ•°ï¼šå›ºå®šéƒ¨åˆ†å‚æ•°
from functools import partial

def power(base, exponent):
    """è®¡ç®—å¹‚"""
    return base ** exponent

# åˆ›å»ºå¹³æ–¹å‡½æ•°
square_func = partial(power, exponent=2)
cube_func = partial(power, exponent=3)

print(f"5çš„å¹³æ–¹: {square_func(5)}")  # 25
print(f"3çš„ç«‹æ–¹: {cube_func(3)}")    # 27
```
```

## ğŸ”¬ ä»£ç ç¤ºä¾‹é›†åˆ

### ç¤ºä¾‹1ï¼šæ™ºèƒ½æˆç»©ç®¡ç†ç³»ç»Ÿ

```python
def grade_management_system():
    """æ™ºèƒ½æˆç»©ç®¡ç†ç³»ç»Ÿ"""
    students = {}
    
    def add_student(name, scores):
        """æ·»åŠ å­¦ç”Ÿæˆç»©"""
        students[name] = scores
        print(f"å·²æ·»åŠ å­¦ç”Ÿï¼š{name}")
    
    def calculate_average(scores):
        """è®¡ç®—å¹³å‡åˆ†"""
        return sum(scores) / len(scores) if scores else 0
    
    def get_grade_level(average):
        """æ ¹æ®å¹³å‡åˆ†è·å–ç­‰çº§"""
        if average >= 90:
            return "ä¼˜ç§€"
        elif average >= 80:
            return "è‰¯å¥½"
        elif average >= 70:
            return "ä¸­ç­‰"
        elif average >= 60:
            return "åŠæ ¼"
        else:
            return "ä¸åŠæ ¼"
    
    def display_report():
        """æ˜¾ç¤ºæˆç»©æŠ¥å‘Š"""
        print("\n=== æˆç»©æŠ¥å‘Š ===")
        print(f"{'å§“å':<10} {'å¹³å‡åˆ†':<10} {'ç­‰çº§':<10}")
        print("-" * 35)
        
        for name, scores in students.items():
            avg = calculate_average(scores)
            level = get_grade_level(avg)
            print(f"{name:<10} {avg:<10.1f} {level:<10}")
    
    # æ·»åŠ ç¤ºä¾‹æ•°æ®
    add_student("å¼ ä¸‰", [85, 92, 78, 88])
    add_student("æå››", [76, 81, 79, 85])
    add_student("ç‹äº”", [95, 98, 93, 97])
    
    display_report()

# è¿è¡Œç³»ç»Ÿ
grade_management_system()
```

### ç¤ºä¾‹2ï¼šèœå•é©±åŠ¨çš„è®¡ç®—å™¨

```python
def advanced_calculator():
    """èœå•é©±åŠ¨çš„é«˜çº§è®¡ç®—å™¨"""
    
    def show_menu():
        """æ˜¾ç¤ºèœå•"""
        print("\n=== é«˜çº§è®¡ç®—å™¨ ===")
        print("1. åŸºæœ¬è¿ç®—")
        print("2. ç§‘å­¦è®¡ç®—")
        print("3. ç»Ÿè®¡è®¡ç®—")
        print("4. æŸ¥çœ‹å†å²")
        print("5. é€€å‡º")
        print("=" * 20)
    
    def basic_operations():
        """åŸºæœ¬è¿ç®—"""
        while True:
            print("\nåŸºæœ¬è¿ç®—ï¼š+ã€-ã€*ã€/")
            expression = input("è¯·è¾“å…¥è¡¨è¾¾å¼ï¼ˆå¦‚ï¼š10 + 5ï¼‰ï¼Œè¾“å…¥qè¿”å›ä¸»èœå•ï¼š")
            
            if expression.lower() == 'q':
                break
            
            try:
                result = eval(expression)
                print(f"ç»“æœï¼š{expression} = {result}")
                history.append(f"{expression} = {result}")
            except:
                print("è¡¨è¾¾å¼é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥")
    
    def scientific_operations():
        """ç§‘å­¦è®¡ç®—"""
        import math
        
        functions = {
            '1': ('å¹³æ–¹æ ¹', lambda x: math.sqrt(x)),
            '2': ('å¹³æ–¹', lambda x: x ** 2),
            '3': ('ç«‹æ–¹', lambda x: x ** 3),
            '4': ('å¯¹æ•°', lambda x: math.log(x)),
            '5': ('æ­£å¼¦', lambda x: math.sin(math.radians(x))),
            '6': ('ä½™å¼¦', lambda x: math.cos(math.radians(x)))
        }
        
        while True:
            print("\nç§‘å­¦è®¡ç®—åŠŸèƒ½ï¼š")
            for key, (name, _) in functions.items():
                print(f"{key}. {name}")
            print("0. è¿”å›ä¸»èœå•")
            
            choice = input("è¯·é€‰æ‹©åŠŸèƒ½ï¼š")
            if choice == '0':
                break
            
            if choice in functions:
                try:
                    x = float(input("è¯·è¾“å…¥æ•°å€¼ï¼š"))
                    name, func = functions[choice]
                    result = func(x)
                    print(f"{name}({x}) = {result}")
                    history.append(f"{name}({x}) = {result}")
                except Exception as e:
                    print(f"è®¡ç®—é”™è¯¯ï¼š{e}")
            else:
                print("æ— æ•ˆé€‰æ‹©")
    
    def statistics_operations():
        """ç»Ÿè®¡è®¡ç®—"""
        while True:
            print("\nç»Ÿè®¡è®¡ç®—")
            numbers_input = input("è¯·è¾“å…¥æ•°å­—åˆ—è¡¨ï¼ˆç”¨ç©ºæ ¼åˆ†éš”ï¼‰ï¼Œè¾“å…¥qè¿”å›ï¼š")
            
            if numbers_input.lower() == 'q':
                break
            
            try:
                numbers = [float(x) for x in numbers_input.split()]
                if numbers:
                    mean = sum(numbers) / len(numbers)
                    max_num = max(numbers)
                    min_num = min(numbers)
                    
                    print(f"æ•°æ®ï¼š{numbers}")
                    print(f"å¹³å‡å€¼ï¼š{mean:.2f}")
                    print(f"æœ€å¤§å€¼ï¼š{max_num}")
                    print(f"æœ€å°å€¼ï¼š{min_num}")
                    
                    history.append(f"ç»Ÿè®¡ï¼š{numbers} -> å¹³å‡:{mean:.2f}")
                else:
                    print("è¯·è¾“å…¥æœ‰æ•ˆæ•°å­—")
            except ValueError:
                print("è¾“å…¥æ ¼å¼é”™è¯¯")
    
    def show_history():
        """æ˜¾ç¤ºå†å²è®°å½•"""
        print("\n=== è®¡ç®—å†å² ===")
        if history:
            for i, record in enumerate(history[-10:], 1):
                print(f"{i}. {record}")
        else:
            print("æš‚æ— å†å²è®°å½•")
    
    # ä¸»ç¨‹åº
    history = []
    
    while True:
        show_menu()
        choice = input("è¯·é€‰æ‹©åŠŸèƒ½ï¼š")
        
        if choice == '1':
            basic_operations()
        elif choice == '2':
            scientific_operations()
        elif choice == '3':
            statistics_operations()
        elif choice == '4':
            show_history()
        elif choice == '5':
            print("æ„Ÿè°¢ä½¿ç”¨è®¡ç®—å™¨ï¼")
            break
        else:
            print("æ— æ•ˆé€‰æ‹©ï¼Œè¯·é‡æ–°è¾“å…¥")

# è¿è¡Œè®¡ç®—å™¨ï¼ˆæ³¨é‡Šæ‰é¿å…å®é™…è¿è¡Œï¼‰
# advanced_calculator()
```

## ğŸ¯ å®è·µç»ƒä¹ 

### åŸºç¡€ç»ƒä¹ 

#### ç»ƒä¹ 1ï¼šå¹´é¾„åˆ†ç±»å™¨
```python
def age_classifier():
    """æ ¹æ®å¹´é¾„è¿›è¡Œåˆ†ç±»"""
    # è¯·å®Œæˆä»¥ä¸‹åŠŸèƒ½ï¼š
    # 0-2å²ï¼šå©´å„¿
    # 3-6å²ï¼šå¹¼å„¿
    # 7-17å²ï¼šå°‘å¹´
    # 18-59å²ï¼šæˆå¹´äºº
    # 60å²ä»¥ä¸Šï¼šè€å¹´äºº
    pass

# æµ‹è¯•ç”¨ä¾‹
ages = [1, 5, 12, 25, 65]
for age in ages:
    print(f"{age}å²ï¼š{age_classifier(age)}")
```

#### ç»ƒä¹ 2ï¼šä¹ä¹ä¹˜æ³•è¡¨
```python
def multiplication_table():
    """ç”Ÿæˆä¹ä¹ä¹˜æ³•è¡¨"""
    # è¯·ä½¿ç”¨åµŒå¥—å¾ªç¯ç”Ÿæˆå®Œæ•´çš„ä¹ä¹ä¹˜æ³•è¡¨
    # æ ¼å¼ï¼š1Ã—1=1  1Ã—2=2  1Ã—3=3...
    pass

multiplication_table()
```

### ä¸­çº§ç»ƒä¹ 

#### ç»ƒä¹ 3ï¼šå¯†ç å¼ºåº¦æ£€æŸ¥å™¨
```python
def password_strength_checker(password):
    """æ£€æŸ¥å¯†ç å¼ºåº¦"""
    # è¯·å®ç°ä»¥ä¸‹æ£€æŸ¥è§„åˆ™ï¼š
    # 1. é•¿åº¦è‡³å°‘8ä½
    # 2. åŒ…å«å¤§å†™å­—æ¯
    # 3. åŒ…å«å°å†™å­—æ¯
    # 4. åŒ…å«æ•°å­—
    # 5. åŒ…å«ç‰¹æ®Šå­—ç¬¦
    # è¿”å›å¼ºåº¦ç­‰çº§ï¼šå¼±ã€ä¸­ã€å¼º
    pass

# æµ‹è¯•ç”¨ä¾‹
passwords = ["123456", "abcdefgh", "Abc123456", "Abc@123456"]
for pwd in passwords:
    strength = password_strength_checker(pwd)
    print(f"å¯†ç '{pwd}'å¼ºåº¦ï¼š{strength}")
```

### æŒ‘æˆ˜ç»ƒä¹ 

#### ç»ƒä¹ 4ï¼šç®€å•é“¶è¡Œç³»ç»Ÿ
```python
class SimpleBankSystem:
    """ç®€å•é“¶è¡Œç³»ç»Ÿ"""
    
    def __init__(self):
        self.accounts = {}
        self.next_account_id = 1001
    
    def create_account(self, name, initial_deposit=0):
        """åˆ›å»ºè´¦æˆ·"""
        # è¯·å®ç°è´¦æˆ·åˆ›å»ºåŠŸèƒ½
        pass
    
    def deposit(self, account_id, amount):
        """å­˜æ¬¾"""
        # è¯·å®ç°å­˜æ¬¾åŠŸèƒ½
        pass
    
    def withdraw(self, account_id, amount):
        """å–æ¬¾"""
        # è¯·å®ç°å–æ¬¾åŠŸèƒ½ï¼ˆéœ€è¦æ£€æŸ¥ä½™é¢ï¼‰
        pass
    
    def transfer(self, from_account, to_account, amount):
        """è½¬è´¦"""
        # è¯·å®ç°è½¬è´¦åŠŸèƒ½
        pass
    
    def get_balance(self, account_id):
        """æŸ¥è¯¢ä½™é¢"""
        # è¯·å®ç°ä½™é¢æŸ¥è¯¢åŠŸèƒ½
        pass

# æµ‹è¯•ç³»ç»Ÿ
bank = SimpleBankSystem()
# è¯·ç¼–å†™æµ‹è¯•ä»£ç 
```

## ğŸš€ é¡¹ç›®æ¡ˆä¾‹ï¼šä»»åŠ¡ç®¡ç†ç³»ç»Ÿ

```python
import json
import datetime

class TaskManager:
    """ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ"""
    
    def __init__(self):
        self.tasks = []
        self.next_id = 1
        self.load_tasks()
    
    def add_task(self, title, description="", priority="medium", due_date=None):
        """æ·»åŠ ä»»åŠ¡"""
        task = {
            "id": self.next_id,
            "title": title,
            "description": description,
            "priority": priority,
            "due_date": due_date,
            "status": "pending",
            "created_at": datetime.datetime.now().isoformat(),
            "completed_at": None
        }
        self.tasks.append(task)
        self.next_id += 1
        self.save_tasks()
        print(f"ä»»åŠ¡ '{title}' æ·»åŠ æˆåŠŸï¼ŒIDï¼š{task['id']}")
    
    def list_tasks(self, status_filter=None):
        """åˆ—å‡ºä»»åŠ¡"""
        print("\n=== ä»»åŠ¡åˆ—è¡¨ ===")
        filtered_tasks = self.tasks
        
        if status_filter:
            filtered_tasks = [t for t in self.tasks if t["status"] == status_filter]
        
        if not filtered_tasks:
            print("æš‚æ— ä»»åŠ¡")
            return
        
        # æŒ‰ä¼˜å…ˆçº§æ’åº
        priority_order = {"high": 1, "medium": 2, "low": 3}
        filtered_tasks.sort(key=lambda x: priority_order.get(x["priority"], 2))
        
        print(f"{'ID':<5} {'æ ‡é¢˜':<20} {'ä¼˜å…ˆçº§':<8} {'çŠ¶æ€':<10} {'æˆªæ­¢æ—¥æœŸ':<12}")
        print("-" * 70)
        
        for task in filtered_tasks:
            due_date = task["due_date"] or "æ— "
            print(f"{task['id']:<5} {task['title']:<20} {task['priority']:<8} "
                  f"{task['status']:<10} {due_date:<12}")
    
    def complete_task(self, task_id):
        """å®Œæˆä»»åŠ¡"""
        for task in self.tasks:
            if task["id"] == task_id:
                task["status"] = "completed"
                task["completed_at"] = datetime.datetime.now().isoformat()
                self.save_tasks()
                print(f"ä»»åŠ¡ '{task['title']}' å·²å®Œæˆ")
                return
        print(f"æœªæ‰¾åˆ°IDä¸º {task_id} çš„ä»»åŠ¡")
    
    def delete_task(self, task_id):
        """åˆ é™¤ä»»åŠ¡"""
        for i, task in enumerate(self.tasks):
            if task["id"] == task_id:
                deleted_task = self.tasks.pop(i)
                self.save_tasks()
                print(f"ä»»åŠ¡ '{deleted_task['title']}' å·²åˆ é™¤")
                return
        print(f"æœªæ‰¾åˆ°IDä¸º {task_id} çš„ä»»åŠ¡")
    
    def save_tasks(self):
        """ä¿å­˜ä»»åŠ¡åˆ°æ–‡ä»¶"""
        try:
            with open("tasks.json", "w", encoding="utf-8") as f:
                json.dump(self.tasks, f, ensure_ascii=False, indent=2)
        except Exception as e:
            print(f"ä¿å­˜å¤±è´¥ï¼š{e}")
    
    def load_tasks(self):
        """ä»æ–‡ä»¶åŠ è½½ä»»åŠ¡"""
        try:
            with open("tasks.json", "r", encoding="utf-8") as f:
                self.tasks = json.load(f)
                if self.tasks:
                    self.next_id = max(task["id"] for task in self.tasks) + 1
        except FileNotFoundError:
            print("ä»»åŠ¡æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°çš„ä»»åŠ¡åˆ—è¡¨")
        except Exception as e:
            print(f"åŠ è½½å¤±è´¥ï¼š{e}")
    
    def search_tasks(self, keyword):
        """æœç´¢ä»»åŠ¡"""
        results = []
        keyword = keyword.lower()
        
        for task in self.tasks:
            if (keyword in task["title"].lower() or 
                keyword in task["description"].lower()):
                results.append(task)
        
        if results:
            print(f"\næ‰¾åˆ° {len(results)} ä¸ªç›¸å…³ä»»åŠ¡ï¼š")
            self._display_tasks(results)
        else:
            print(f"æœªæ‰¾åˆ°åŒ…å« '{keyword}' çš„ä»»åŠ¡")
    
    def get_statistics(self):
        """è·å–ä»»åŠ¡ç»Ÿè®¡ä¿¡æ¯"""
        total_tasks = len(self.tasks)
        completed_tasks = len([t for t in self.tasks if t["status"] == "completed"])
        pending_tasks = total_tasks - completed_tasks
        
        # æŒ‰ä¼˜å…ˆçº§ç»Ÿè®¡
        high_priority = len([t for t in self.tasks if t["priority"] == "high"])
        medium_priority = len([t for t in self.tasks if t["priority"] == "medium"])
        low_priority = len([t for t in self.tasks if t["priority"] == "low"])
        
        # è®¡ç®—å®Œæˆç‡
        completion_rate = (completed_tasks / total_tasks * 100) if total_tasks > 0 else 0
        
        print("\n=== ä»»åŠ¡ç»Ÿè®¡ ===")
        print(f"æ€»ä»»åŠ¡æ•°: {total_tasks}")
        print(f"å·²å®Œæˆ: {completed_tasks}")
        print(f"å¾…å®Œæˆ: {pending_tasks}")
        print(f"å®Œæˆç‡: {completion_rate:.1f}%")
        print(f"é«˜ä¼˜å…ˆçº§: {high_priority}")
        print(f"ä¸­ä¼˜å…ˆçº§: {medium_priority}")
        print(f"ä½ä¼˜å…ˆçº§: {low_priority}")
    
    def edit_task(self, task_id):
        """ç¼–è¾‘ä»»åŠ¡"""
        for task in self.tasks:
            if task["id"] == task_id:
                print(f"\nç¼–è¾‘ä»»åŠ¡: {task['title']}")
                print("ç•™ç©ºè¡¨ç¤ºä¸ä¿®æ”¹")
                
                new_title = input("æ–°æ ‡é¢˜: ").strip()
                if new_title:
                    task["title"] = new_title
                
                new_description = input("æ–°æè¿°: ").strip()
                if new_description:
                    task["description"] = new_description
                
                new_priority = input("æ–°ä¼˜å…ˆçº§ (high/medium/low): ").strip()
                if new_priority in ["high", "medium", "low"]:
                    task["priority"] = new_priority
                
                new_due_date = input("æ–°æˆªæ­¢æ—¥æœŸ (YYYY-MM-DD): ").strip()
                if new_due_date:
                    task["due_date"] = new_due_date
                
                self.save_tasks()
                print("ä»»åŠ¡æ›´æ–°æˆåŠŸ")
                return
        
        print(f"æœªæ‰¾åˆ°IDä¸º {task_id} çš„ä»»åŠ¡")
    
    def _display_tasks(self, tasks):
        """æ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨ï¼ˆå†…éƒ¨æ–¹æ³•ï¼‰"""
        if not tasks:
            print("æš‚æ— ä»»åŠ¡")
            return
        
        # æŒ‰ä¼˜å…ˆçº§æ’åº
        priority_order = {"high": 1, "medium": 2, "low": 3}
        tasks.sort(key=lambda x: priority_order.get(x["priority"], 2))
        
        print(f"{'ID':<5} {'æ ‡é¢˜':<20} {'ä¼˜å…ˆçº§':<8} {'çŠ¶æ€':<10} {'æˆªæ­¢æ—¥æœŸ':<12}")
        print("-" * 70)
        
        for task in tasks:
            due_date = task["due_date"] or "æ— "
            print(f"{task['id']:<5} {task['title']:<20} {task['priority']:<8} "
                  f"{task['status']:<10} {due_date:<12}")
    
    def run(self):
        """è¿è¡Œä¸»ç¨‹åº"""
        while True:
            print("\n=== ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ ===")
            print("1. æ·»åŠ ä»»åŠ¡")
            print("2. æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡")
            print("3. æŸ¥çœ‹å¾…å®Œæˆä»»åŠ¡")
            print("4. æŸ¥çœ‹å·²å®Œæˆä»»åŠ¡")
            print("5. å®Œæˆä»»åŠ¡")
            print("6. åˆ é™¤ä»»åŠ¡")
            print("7. ç¼–è¾‘ä»»åŠ¡")
            print("8. æœç´¢ä»»åŠ¡")
            print("9. æŸ¥çœ‹ç»Ÿè®¡")
            print("10. é€€å‡º")
            
            choice = input("è¯·é€‰æ‹©æ“ä½œï¼š").strip()
            
            if choice == "1":
                title = input("ä»»åŠ¡æ ‡é¢˜ï¼š").strip()
                if title:
                    description = input("ä»»åŠ¡æè¿°ï¼ˆå¯é€‰ï¼‰ï¼š").strip()
                    priority = input("ä¼˜å…ˆçº§ï¼ˆhigh/medium/lowï¼Œé»˜è®¤mediumï¼‰ï¼š").strip() or "medium"
                    due_date = input("æˆªæ­¢æ—¥æœŸï¼ˆYYYY-MM-DDï¼Œå¯é€‰ï¼‰ï¼š").strip() or None
                    self.add_task(title, description, priority, due_date)
                else:
                    print("ä»»åŠ¡æ ‡é¢˜ä¸èƒ½ä¸ºç©º")
            
            elif choice == "2":
                self.list_tasks()
            
            elif choice == "3":
                self.list_tasks("pending")
            
            elif choice == "4":
                self.list_tasks("completed")
            
            elif choice == "5":
                try:
                    task_id = int(input("è¯·è¾“å…¥è¦å®Œæˆçš„ä»»åŠ¡IDï¼š"))
                    self.complete_task(task_id)
                except ValueError:
                    print("è¯·è¾“å…¥æœ‰æ•ˆçš„ä»»åŠ¡ID")
            
            elif choice == "6":
                try:
                    task_id = int(input("è¯·è¾“å…¥è¦åˆ é™¤çš„ä»»åŠ¡IDï¼š"))
                    confirm = input("ç¡®è®¤åˆ é™¤ï¼Ÿ(y/N)ï¼š").lower()
                    if confirm == "y":
                        self.delete_task(task_id)
                except ValueError:
                    print("è¯·è¾“å…¥æœ‰æ•ˆçš„ä»»åŠ¡ID")
            
            elif choice == "7":
                try:
                    task_id = int(input("è¯·è¾“å…¥è¦ç¼–è¾‘çš„ä»»åŠ¡IDï¼š"))
                    self.edit_task(task_id)
                except ValueError:
                    print("è¯·è¾“å…¥æœ‰æ•ˆçš„ä»»åŠ¡ID")
            
            elif choice == "8":
                keyword = input("è¯·è¾“å…¥æœç´¢å…³é”®è¯ï¼š").strip()
                if keyword:
                    self.search_tasks(keyword)
                else:
                    print("æœç´¢å…³é”®è¯ä¸èƒ½ä¸ºç©º")
            
            elif choice == "9":
                self.get_statistics()
            
            elif choice == "10":
                print("æ„Ÿè°¢ä½¿ç”¨ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼")
                break
            
            else:
                print("æ— æ•ˆé€‰æ‹©ï¼Œè¯·é‡æ–°è¾“å…¥")

# æ¼”ç¤ºç¨‹åºï¼ˆæ³¨é‡Šæ‰é¿å…å®é™…è¿è¡Œï¼‰
def demo_task_manager():
    """æ¼”ç¤ºä»»åŠ¡ç®¡ç†ç³»ç»Ÿ"""
    tm = TaskManager()
    
    # æ·»åŠ ç¤ºä¾‹ä»»åŠ¡
    tm.add_task("å®ŒæˆPythonä½œä¸š", "ç¬¬3ç« ç»ƒä¹ é¢˜", "high", "2025-02-01")
    tm.add_task("å‡†å¤‡è€ƒè¯•", "æ•°æ®ç»“æ„è€ƒè¯•å¤ä¹ ", "high", "2025-02-05")
    tm.add_task("ä¹°èœ", "å‘¨æœ«å»è¶…å¸‚", "low")
    tm.add_task("å­¦ä¹ æœºå™¨å­¦ä¹ ", "æ·±åº¦å­¦ä¹ åŸºç¡€è¯¾ç¨‹", "medium", "2025-02-10")
    tm.add_task("å¥èº«", "æ¯å‘¨ä¸‰æ¬¡é”»ç‚¼", "medium")
    
    # æ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨
    tm.list_tasks()
    
    # å®Œæˆä¸€ä¸ªä»»åŠ¡
    tm.complete_task(1)
    
    # æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯
    tm.get_statistics()
    
    # æœç´¢ä»»åŠ¡
    tm.search_tasks("å­¦ä¹ ")
    
    # æ˜¾ç¤ºå¾…å®Œæˆä»»åŠ¡
    tm.list_tasks("pending")

# demo_task_manager()

### 3.6.5 å•å…ƒæµ‹è¯•ç¤ºä¾‹

```python
import unittest

class TestTaskManager(unittest.TestCase):
    """ä»»åŠ¡ç®¡ç†ç³»ç»Ÿæµ‹è¯•ç±»"""
    
    def setUp(self):
        """æµ‹è¯•å‰çš„å‡†å¤‡å·¥ä½œ"""
        self.tm = TaskManager()
        # æ¸…ç©ºä»»åŠ¡åˆ—è¡¨
        self.tm.tasks = []
        self.tm.next_id = 1
    
    def test_add_task(self):
        """æµ‹è¯•æ·»åŠ ä»»åŠ¡åŠŸèƒ½"""
        self.tm.add_task("æµ‹è¯•ä»»åŠ¡", "æµ‹è¯•æè¿°", "high")
        self.assertEqual(len(self.tm.tasks), 1)
        self.assertEqual(self.tm.tasks[0]["title"], "æµ‹è¯•ä»»åŠ¡")
        self.assertEqual(self.tm.tasks[0]["priority"], "high")
    
    def test_complete_task(self):
        """æµ‹è¯•å®Œæˆä»»åŠ¡åŠŸèƒ½"""
        self.tm.add_task("æµ‹è¯•ä»»åŠ¡")
        self.tm.complete_task(1)
        self.assertEqual(self.tm.tasks[0]["status"], "completed")
    
    def test_delete_task(self):
        """æµ‹è¯•åˆ é™¤ä»»åŠ¡åŠŸèƒ½"""
        self.tm.add_task("æµ‹è¯•ä»»åŠ¡")
        initial_count = len(self.tm.tasks)
        self.tm.delete_task(1)
        self.assertEqual(len(self.tm.tasks), initial_count - 1)
    
    def test_search_tasks(self):
        """æµ‹è¯•æœç´¢ä»»åŠ¡åŠŸèƒ½"""
        self.tm.add_task("Pythonå­¦ä¹ ", "å­¦ä¹ Pythonç¼–ç¨‹")
        self.tm.add_task("Javaå­¦ä¹ ", "å­¦ä¹ Javaç¼–ç¨‹")
        
        # æ¨¡æ‹Ÿæœç´¢åŠŸèƒ½ï¼ˆè¿™é‡Œéœ€è¦ä¿®æ”¹search_tasksæ–¹æ³•ä»¥è¿”å›ç»“æœï¼‰
        python_tasks = [t for t in self.tm.tasks if "Python" in t["title"]]
        self.assertEqual(len(python_tasks), 1)
    
    def test_task_statistics(self):
        """æµ‹è¯•ä»»åŠ¡ç»Ÿè®¡åŠŸèƒ½"""
        self.tm.add_task("ä»»åŠ¡1", priority="high")
        self.tm.add_task("ä»»åŠ¡2", priority="medium")
        self.tm.add_task("ä»»åŠ¡3", priority="low")
        
        high_priority = len([t for t in self.tm.tasks if t["priority"] == "high"])
        self.assertEqual(high_priority, 1)

# è¿è¡Œæµ‹è¯•
if __name__ == "__main__":
    unittest.main()
```

### 3.6.6 æ€§èƒ½ä¼˜åŒ–ç¤ºä¾‹

```python
import time
import cProfile
import pstats

def performance_test():
    """æ€§èƒ½æµ‹è¯•ç¤ºä¾‹"""
    
    def slow_function():
        """æ¨¡æ‹Ÿæ…¢å‡½æ•°"""
        time.sleep(0.1)
        return sum(range(1000))
    
    def fast_function():
        """æ¨¡æ‹Ÿå¿«å‡½æ•°"""
        return sum(range(1000))
    
    # ä½¿ç”¨cProfileè¿›è¡Œæ€§èƒ½åˆ†æ
    profiler = cProfile.Profile()
    profiler.enable()
    
    # æ‰§è¡Œæ…¢å‡½æ•°
    for _ in range(10):
        slow_function()
    
    profiler.disable()
    
    # è¾“å‡ºæ€§èƒ½ç»Ÿè®¡
    stats = pstats.Stats(profiler)
    stats.sort_stats('cumulative')
    stats.print_stats(10)

# performance_test()
```
```

## ğŸ“– æ‹“å±•é˜…è¯»

### åœ¨çº¿èµ„æº
- [Pythonå®˜æ–¹æ–‡æ¡£ - æ§åˆ¶æµ](https://docs.python.org/zh-cn/3/tutorial/controlflow.html)
- [Real Python - Pythonå‡½æ•°](https://realpython.com/defining-your-own-python-function/)
- [GeeksforGeeks - Pythonå¾ªç¯](https://www.geeksforgeeks.org/loops-in-python/)

### æ¨èä¹¦ç±
- ã€ŠPythonç¼–ç¨‹å¿«é€Ÿä¸Šæ‰‹ã€‹- Al Sweigart
- ã€ŠPythonç®—æ³•æ•™ç¨‹ã€‹- Magnus Lie Hetland
- ã€Šç¼–ç¨‹ç ç‘ã€‹- Jon Bentley

---

## ğŸ“‹ æœ¬ç« æ£€æŸ¥æ¸…å•

**ç†è®ºæŒæ¡** âœ…
- [ ] æŒæ¡if/elif/elseæ¡ä»¶æ§åˆ¶è¯­å¥
- [ ] ç†Ÿç»ƒä½¿ç”¨forå’Œwhileå¾ªç¯
- [ ] ç†è§£å‡½æ•°å®šä¹‰ã€è°ƒç”¨å’Œå‚æ•°ä¼ é€’
- [ ] æŒæ¡å˜é‡ä½œç”¨åŸŸå’Œé€’å½’æ¦‚å¿µ
- [ ] ç†è§£ç”Ÿæˆå™¨å‡½æ•°å’Œé—­åŒ…
- [ ] æŒæ¡è£…é¥°å™¨å’Œå‡½æ•°å¼ç¼–ç¨‹

**å®è·µèƒ½åŠ›** âœ…
- [ ] èƒ½å¤Ÿç¼–å†™å¤æ‚çš„æ¡ä»¶åˆ¤æ–­é€»è¾‘
- [ ] ç†Ÿç»ƒä½¿ç”¨å¾ªç¯è§£å†³é‡å¤æ€§ä»»åŠ¡
- [ ] èƒ½å¤Ÿè®¾è®¡å’Œå®ç°å‡½æ•°æ¨¡å—
- [ ] ç‹¬ç«‹å®Œæˆç»¼åˆæ€§ç¨‹åºé¡¹ç›®
- [ ] æŒæ¡Webå¼€å‘å’Œæ•°æ®å¤„ç†åº”ç”¨
- [ ] èƒ½å¤Ÿç¼–å†™å•å…ƒæµ‹è¯•å’Œæ€§èƒ½ä¼˜åŒ–

**é¡¹ç›®ç»éªŒ** âœ…
- [ ] å®Œæˆä»»åŠ¡ç®¡ç†ç³»ç»Ÿé¡¹ç›®
- [ ] ç†è§£ç¨‹åºçš„æ¨¡å—åŒ–è®¾è®¡
- [ ] æŒæ¡æ•°æ®æŒä¹…åŒ–çš„åŸºæœ¬æ–¹æ³•
- [ ] å®ç°æœç´¢å’Œç»Ÿè®¡åŠŸèƒ½
- [ ] æŒæ¡é”™è¯¯å¤„ç†å’Œç”¨æˆ·äº¤äº’
- [ ] äº†è§£æµ‹è¯•é©±åŠ¨å¼€å‘æ–¹æ³•

æ­å–œï¼ä½ å·²ç»æŒæ¡äº†Pythonçš„æ§åˆ¶ç»“æ„å’Œå‡½æ•°è®¾è®¡ã€‚ä¸‹ä¸€ç« æˆ‘ä»¬å°†å­¦ä¹ é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚ 