<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pythonæ™ºèƒ½ä½“å¼€å‘æ•™æ - åœ¨çº¿ç¼–ç¨‹ç¯å¢ƒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2E86C1, #3498DB);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            display: flex;
            min-height: 600px;
        }

        .theory-panel {
            flex: 1;
            padding: 30px;
            background: #f8f9fa;
            border-right: 2px solid #e9ecef;
            overflow-y: auto;
        }

        .coding-panel {
            flex: 1;
            padding: 30px;
            display: flex;
            flex-direction: column;
        }

        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .exercise-title {
            font-size: 1.5em;
            color: #2c3e50;
        }

        .difficulty-badge {
            padding: 5px 15px;
            background: #27ae60;
            color: white;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .code-editor {
            flex: 1;
            margin-bottom: 20px;
        }

        .code-editor textarea {
            width: 100%;
            height: 100%;
            min-height: 300px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: #2d3748;
            color: #e2e8f0;
            resize: vertical;
        }

        .control-panel {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .btn-run {
            background: #27ae60;
            color: white;
        }

        .btn-run:hover {
            background: #229954;
        }

        .btn-submit {
            background: #3498db;
            color: white;
        }

        .btn-submit:hover {
            background: #2980b9;
        }

        .btn-hint {
            background: #f39c12;
            color: white;
        }

        .btn-hint:hover {
            background: #e67e22;
        }

        .output-panel {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .output-panel h4 {
            color: #4fd1c7;
            margin-bottom: 10px;
        }

        .output-panel pre {
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .feedback-panel {
            background: #e8f5e8;
            border: 1px solid #27ae60;
            border-radius: 8px;
            padding: 15px;
            display: none;
        }

        .feedback-panel.show {
            display: block;
        }

        .feedback-panel h4 {
            color: #27ae60;
            margin-bottom: 10px;
        }

        .progress-bar {
            background: #ecf0f1;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        .theory-content h3 {
            color: #2c3e50;
            margin: 20px 0 10px 0;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }

        .theory-content p {
            line-height: 1.6;
            margin-bottom: 15px;
            color: #34495e;
        }

        .code-example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .status-indicators {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        .status-success {
            background: #d4edda;
            color: #155724;
        }

        .status-warning {
            background: #fff3cd;
            color: #856404;
        }

        .status-error {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ Pythonæ™ºèƒ½ä½“å¼€å‘æ•™æ</h1>
            <p>äº¤äº’å¼å­¦ä¹ ç¯å¢ƒ - ç¬¬1ç« ï¼šPythonç¯å¢ƒæ­å»ºä¸åŸºç¡€è¯­æ³•</p>
        </div>

        <div class="main-content">
            <!-- ç†è®ºå­¦ä¹ é¢æ¿ -->
            <div class="theory-panel">
                <div class="theory-content">
                    <h3>ğŸ“š æœ¬èŠ‚é‡ç‚¹</h3>
                    <p>åœ¨è¿™ä¸ªç»ƒä¹ ä¸­ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨Pythonçš„åŸºæœ¬æ•°æ®ç±»å‹å’Œå˜é‡æ“ä½œã€‚é‡ç‚¹æŒæ¡ï¼š</p>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li><span class="highlight">å˜é‡èµ‹å€¼</span>å’Œå‘½åè§„èŒƒ</li>
                        <li><span class="highlight">æ•°æ®ç±»å‹</span>ï¼šå­—ç¬¦ä¸²ã€æ•´æ•°ã€æµ®ç‚¹æ•°</li>
                        <li><span class="highlight">æ ¼å¼åŒ–è¾“å‡º</span>ï¼šf-stringçš„ä½¿ç”¨</li>
                        <li><span class="highlight">ç”¨æˆ·è¾“å…¥</span>ï¼šinput()å‡½æ•°çš„åº”ç”¨</li>
                    </ul>

                    <h3>ğŸ’¡ ä»£ç ç¤ºä¾‹</h3>
                    <div class="code-example">
# åŸºæœ¬å˜é‡æ“ä½œç¤ºä¾‹
name = "å¼ ä¸‰"          # å­—ç¬¦ä¸²ç±»å‹
age = 20              # æ•´æ•°ç±»å‹
height = 175.5        # æµ®ç‚¹æ•°ç±»å‹

# æ ¼å¼åŒ–è¾“å‡º
print(f"å§“åï¼š{name}")
print(f"å¹´é¾„ï¼š{age}å²")
print(f"èº«é«˜ï¼š{height}cm")

# ç”¨æˆ·è¾“å…¥
user_name = input("è¯·è¾“å…¥æ‚¨çš„å§“åï¼š")
print(f"æ‚¨å¥½ï¼Œ{user_name}ï¼")
                    </div>

                    <h3>ğŸ¯ ç»ƒä¹ ç›®æ ‡</h3>
                    <p>å®Œæˆå³ä¾§çš„ä»£ç ï¼Œå®ç°ä¸€ä¸ªç®€å•çš„ä¸ªäººä¿¡æ¯æ”¶é›†ç¨‹åºï¼Œè¦æ±‚ï¼š</p>
                    <ol style="margin-left: 20px; line-height: 1.8;">
                        <li>æ”¶é›†ç”¨æˆ·çš„å§“åã€å¹´é¾„ã€ä¸“ä¸šã€çˆ±å¥½</li>
                        <li>ä½¿ç”¨åˆé€‚çš„æ•°æ®ç±»å‹å­˜å‚¨ä¿¡æ¯</li>
                        <li>æ ¼å¼åŒ–è¾“å‡ºä¸ªäººä¿¡æ¯å¡ç‰‡</li>
                        <li>ä»£ç è¦æœ‰é€‚å½“çš„æ³¨é‡Š</li>
                    </ol>

                    <h3>ğŸ’¡ æç¤º</h3>
                    <p>ğŸ“Œ ä½¿ç”¨<code>input()</code>å‡½æ•°è·å–ç”¨æˆ·è¾“å…¥<br>
                    ğŸ“Œ ä½¿ç”¨<code>int()</code>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°<br>
                    ğŸ“Œ ä½¿ç”¨f-stringè¿›è¡Œæ ¼å¼åŒ–è¾“å‡º<br>
                    ğŸ“Œ æ³¨æ„å˜é‡çš„å‘½åè¦è§„èŒƒï¼ˆä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”ï¼‰</p>
                </div>
            </div>

            <!-- ç¼–ç¨‹å®è·µé¢æ¿ -->
            <div class="coding-panel">
                <div class="exercise-header">
                    <h3 class="exercise-title">ğŸ§ª ç»ƒä¹ 1ï¼šä¸ªäººä¿¡æ¯ç®¡ç†</h3>
                    <div class="difficulty-badge">åŸºç¡€</div>
                </div>

                <div class="status-indicators">
                    <div class="status-item status-warning" id="status-syntax">
                        <span>âšª</span> è¯­æ³•æ£€æŸ¥
                    </div>
                    <div class="status-item status-warning" id="status-run">
                        <span>âšª</span> è¿è¡Œæµ‹è¯•
                    </div>
                    <div class="status-item status-warning" id="status-complete">
                        <span>âšª</span> å®Œæˆåº¦æ£€æŸ¥
                    </div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="progress"></div>
                </div>

                <div class="code-editor">
                    <textarea id="code-input" placeholder="åœ¨è¿™é‡Œç¼–å†™æ‚¨çš„Pythonä»£ç ...">
# ä¸ªäººä¿¡æ¯ç®¡ç†ç¨‹åº
# TODO: å®Œå–„ä»¥ä¸‹ä»£ç 

# æ”¶é›†ç”¨æˆ·ä¿¡æ¯
name = input("è¯·è¾“å…¥æ‚¨çš„å§“åï¼š")
age = int(input("è¯·è¾“å…¥æ‚¨çš„å¹´é¾„ï¼š"))
# TODO: æ·»åŠ ä¸“ä¸šå’Œçˆ±å¥½çš„è¾“å…¥

# è¾“å‡ºä¸ªäººä¿¡æ¯
print(f"æ‚¨å¥½ï¼Œ{name}ï¼")
# TODO: è¾“å‡ºå®Œæ•´çš„ä¸ªäººä¿¡æ¯å¡ç‰‡

# æç¤ºï¼šä½¿ç”¨æ ¼å¼åŒ–è¾“å‡ºï¼Œè®©ä¿¡æ¯æ˜¾ç¤ºæ›´ç¾è§‚
</textarea>
                </div>

                <div class="control-panel">
                    <button class="btn btn-run" onclick="runCode()">
                        <span id="run-text">â–¶ï¸ è¿è¡Œä»£ç </span>
                    </button>
                    <button class="btn btn-submit" onclick="submitCode()">
                        ğŸ“¤ æäº¤ç­”æ¡ˆ
                    </button>
                    <button class="btn btn-hint" onclick="getHint()">
                        ğŸ’¡ è·å–æç¤º
                    </button>
                </div>

                <div class="output-panel">
                    <h4>ğŸ“‹ è¾“å‡ºç»“æœï¼š</h4>
                    <pre id="output">ç‚¹å‡»"è¿è¡Œä»£ç "æŸ¥çœ‹ç»“æœ...</pre>
                </div>

                <div class="feedback-panel" id="feedback">
                    <h4>ğŸ¤– AIåé¦ˆï¼š</h4>
                    <div id="ai-feedback"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentProgress = 0;
        let hintCount = 0;

        function updateProgress(percent) {
            currentProgress = percent;
            document.getElementById('progress').style.width = percent + '%';
        }

        function updateStatus(type, status) {
            const statusMap = {
                'success': { class: 'status-success', icon: 'âœ…' },
                'warning': { class: 'status-warning', icon: 'âš ï¸' },
                'error': { class: 'status-error', icon: 'âŒ' }
            };

            const element = document.getElementById(`status-${type}`);
            element.className = `status-item ${statusMap[status].class}`;
            element.querySelector('span').textContent = statusMap[status].icon;
        }

        function runCode() {
            const runButton = document.querySelector('.btn-run');
            const runText = document.getElementById('run-text');
            const code = document.getElementById('code-input').value;
            const output = document.getElementById('output');

            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            runText.innerHTML = '<span class="loading"></span> è¿è¡Œä¸­...';
            runButton.disabled = true;

            // æ¨¡æ‹Ÿä»£ç è¿è¡Œ
            setTimeout(() => {
                try {
                    // ç®€å•çš„è¯­æ³•æ£€æŸ¥
                    if (code.includes('input(') && code.includes('print(') && code.includes('f"')) {
                        updateStatus('syntax', 'success');
                        updateStatus('run', 'success');
                        updateProgress(60);

                        // æ¨¡æ‹Ÿè¾“å‡ºç»“æœ
                        output.textContent = `è¯·è¾“å…¥æ‚¨çš„å§“åï¼šå¼ ä¸‰
è¯·è¾“å…¥æ‚¨çš„å¹´é¾„ï¼š20
è¯·è¾“å…¥æ‚¨çš„ä¸“ä¸šï¼šè®¡ç®—æœºç§‘å­¦
è¯·è¾“å…¥æ‚¨çš„çˆ±å¥½ï¼šç¼–ç¨‹

=== ä¸ªäººä¿¡æ¯å¡ç‰‡ ===
å§“åï¼šå¼ ä¸‰
å¹´é¾„ï¼š20å²
ä¸“ä¸šï¼šè®¡ç®—æœºç§‘å­¦
çˆ±å¥½ï¼šç¼–ç¨‹

ç¨‹åºè¿è¡ŒæˆåŠŸï¼âœ¨`;

                        // æ£€æŸ¥å®Œæˆåº¦
                        if (code.includes('ä¸“ä¸š') && code.includes('çˆ±å¥½') && code.includes('=== ä¸ªäººä¿¡æ¯å¡ç‰‡ ===')) {
                            updateStatus('complete', 'success');
                            updateProgress(100);
                        } else {
                            updateStatus('complete', 'warning');
                            updateProgress(80);
                        }
                    } else {
                        updateStatus('syntax', 'error');
                        updateStatus('run', 'error');
                        output.textContent = 'ä»£ç è¯­æ³•é”™è¯¯ï¼Œè¯·æ£€æŸ¥ï¼š\n- æ˜¯å¦ä½¿ç”¨äº† input() å‡½æ•°ï¼Ÿ\n- æ˜¯å¦ä½¿ç”¨äº† print() å‡½æ•°ï¼Ÿ\n- æ˜¯å¦ä½¿ç”¨äº† f-string æ ¼å¼åŒ–ï¼Ÿ';
                    }
                } catch (error) {
                    output.textContent = 'è¿è¡Œå‡ºé”™ï¼š' + error.message;
                    updateStatus('run', 'error');
                }

                // æ¢å¤æŒ‰é’®çŠ¶æ€
                runText.textContent = 'â–¶ï¸ è¿è¡Œä»£ç ';
                runButton.disabled = false;
            }, 1500);
        }

        function submitCode() {
            const code = document.getElementById('code-input').value;
            const feedback = document.getElementById('feedback');
            const aiFeedback = document.getElementById('ai-feedback');

            // æ˜¾ç¤ºåé¦ˆé¢æ¿
            feedback.classList.add('show');

            // æ¨¡æ‹ŸAIè¯„ä¼°
            let score = 0;
            let feedbackHtml = '<div style="margin-bottom: 15px;"><strong>ğŸ“Š è¯„ä¼°ç»“æœï¼š</strong></div>';

            // æ£€æŸ¥å„é¡¹è¦æ±‚
            const checks = [
                { condition: code.includes('input('), points: 20, desc: 'æ­£ç¡®ä½¿ç”¨input()å‡½æ•°æ”¶é›†ç”¨æˆ·è¾“å…¥' },
                { condition: code.includes('int('), points: 15, desc: 'æ­£ç¡®ä½¿ç”¨int()è½¬æ¢æ•°æ®ç±»å‹' },
                { condition: code.includes('f"') || code.includes("f'"), points: 20, desc: 'ä½¿ç”¨f-stringè¿›è¡Œæ ¼å¼åŒ–è¾“å‡º' },
                { condition: code.includes('ä¸“ä¸š') && code.includes('çˆ±å¥½'), points: 25, desc: 'æ”¶é›†äº†å®Œæ•´çš„ä¸ªäººä¿¡æ¯ï¼ˆä¸“ä¸šã€çˆ±å¥½ï¼‰' },
                { condition: code.includes('===') || code.includes('---'), points: 10, desc: 'è¾“å‡ºæ ¼å¼ç¾è§‚ï¼Œæœ‰åˆ†éš”çº¿' },
                { condition: code.split('#').length > 3, points: 10, desc: 'ä»£ç æœ‰é€‚å½“çš„æ³¨é‡Š' }
            ];

            checks.forEach(check => {
                if (check.condition) {
                    score += check.points;
                    feedbackHtml += `<div style="color: #27ae60; margin: 5px 0;">âœ… ${check.desc} (+${check.points}åˆ†)</div>`;
                } else {
                    feedbackHtml += `<div style="color: #e74c3c; margin: 5px 0;">âŒ ${check.desc} (0åˆ†)</div>`;
                }
            });

            feedbackHtml += `<div style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px;">
                <strong>æ€»åˆ†ï¼š${score}/100</strong><br>
                <strong>ç­‰çº§ï¼š${getGrade(score)}</strong>
            </div>`;

            // æ·»åŠ æ”¹è¿›å»ºè®®
            if (score < 100) {
                feedbackHtml += `<div style="margin-top: 15px;">
                    <strong>ğŸ’¡ æ”¹è¿›å»ºè®®ï¼š</strong><br>
                    ${getImprovementSuggestions(code)}
                </div>`;
            } else {
                feedbackHtml += `<div style="margin-top: 15px; color: #27ae60;">
                    <strong>ğŸ‰ å¤ªæ£’äº†ï¼ä½ å·²ç»å®Œç¾å®Œæˆäº†è¿™ä¸ªç»ƒä¹ ï¼</strong>
                </div>`;
            }

            aiFeedback.innerHTML = feedbackHtml;
        }

        function getGrade(score) {
            if (score >= 90) return 'ä¼˜ç§€ â­â­â­â­â­';
            if (score >= 80) return 'è‰¯å¥½ â­â­â­â­';
            if (score >= 70) return 'åŠæ ¼ â­â­â­';
            if (score >= 60) return 'åˆæ ¼ â­â­';
            return 'éœ€è¦æ”¹è¿› â­';
        }

        function getImprovementSuggestions(code) {
            const suggestions = [];
            
            if (!code.includes('ä¸“ä¸š')) {
                suggestions.push('æ·»åŠ ä¸“ä¸šä¿¡æ¯çš„æ”¶é›†');
            }
            if (!code.includes('çˆ±å¥½')) {
                suggestions.push('æ·»åŠ çˆ±å¥½ä¿¡æ¯çš„æ”¶é›†');
            }
            if (!code.includes('===') && !code.includes('---')) {
                suggestions.push('ä½¿ç”¨åˆ†éš”çº¿è®©è¾“å‡ºæ›´ç¾è§‚');
            }
            if (code.split('#').length <= 3) {
                suggestions.push('å¢åŠ ä»£ç æ³¨é‡Šï¼Œæé«˜å¯è¯»æ€§');
            }
            if (!code.includes('int(')) {
                suggestions.push('ä½¿ç”¨int()å‡½æ•°è½¬æ¢å¹´é¾„ä¸ºæ•´æ•°ç±»å‹');
            }

            return suggestions.length > 0 ? 
                suggestions.map(s => `â€¢ ${s}`).join('<br>') : 
                'ä»£ç å·²ç»å¾ˆä¸é”™äº†ï¼';
        }

        function getHint() {
            hintCount++;
            const hints = [
                'ğŸ’¡ æç¤º1: ä½¿ç”¨ input("æç¤ºæ–‡å­—") æ¥æ”¶é›†ç”¨æˆ·è¾“å…¥ï¼Œè®°å¾—ä¸ºæ¯ä¸ªä¿¡æ¯é¡¹éƒ½æ·»åŠ æ¸…æ™°çš„æç¤ºã€‚',
                'ğŸ’¡ æç¤º2: å¹´é¾„éœ€è¦è½¬æ¢ä¸ºæ•´æ•°ç±»å‹ï¼Œä½¿ç”¨ int(input("è¯·è¾“å…¥å¹´é¾„ï¼š")) çš„æ–¹å¼ã€‚',
                'ğŸ’¡ æç¤º3: ä½¿ç”¨ f"å­—ç¬¦ä¸²{å˜é‡å}" çš„æ–¹å¼è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºï¼Œè¿™æ ·å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ã€‚',
                'ğŸ’¡ æç¤º4: å¯ä»¥ä½¿ç”¨ === æˆ– --- ä½œä¸ºåˆ†éš”çº¿ï¼Œè®©è¾“å‡ºçš„ä¸ªäººä¿¡æ¯å¡ç‰‡æ›´ç¾è§‚ã€‚',
                'ğŸ’¡ æç¤º5: è®°å¾—åœ¨ä»£ç ä¸­æ·»åŠ æ³¨é‡Šï¼ˆ# æ³¨é‡Šå†…å®¹ï¼‰ï¼Œè§£é‡Šæ¯æ®µä»£ç çš„ä½œç”¨ã€‚'
            ];

            if (hintCount <= hints.length) {
                alert(hints[hintCount - 1]);
            } else {
                alert('ğŸ’¡ ä½ å·²ç»è·å–äº†æ‰€æœ‰æç¤ºï¼ç°åœ¨è¯•ç€ç‹¬ç«‹å®Œæˆç»ƒä¹ å§ã€‚å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œå¯ä»¥æŸ¥çœ‹å·¦ä¾§çš„ç†è®ºå†…å®¹ã€‚');
            }
        }

        // ä»£ç è‡ªåŠ¨ä¿å­˜åŠŸèƒ½
        document.getElementById('code-input').addEventListener('input', function() {
            localStorage.setItem('python-code-ch1-ex1', this.value);
        });

        // é¡µé¢åŠ è½½æ—¶æ¢å¤ä»£ç 
        window.addEventListener('load', function() {
            const savedCode = localStorage.getItem('python-code-ch1-ex1');
            if (savedCode) {
                document.getElementById('code-input').value = savedCode;
            }
        });
    </script>
</body>
</html> 